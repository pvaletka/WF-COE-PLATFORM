<?xml version="1.0" encoding="UTF-8"?>
<objectListWrapper>
  <objects>
      <objectContainer>
         <project>
            <name>Installation Integration Testing version 5</name>
            <description/>
            <author>amironov</author>
            <runs>
               <run>
                  <blockSize>1</blockSize>
                  <campaign>
                     <active>true</active>
                     <businessRules/>
                     <campaignMaps>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>edeaa11b-86a5-460e-8f33-48437b1c17a0</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>Test RPA Components (desktop, ie,chrome drivers and firefox)</answer>
                                       <answerCode>test_rpa_settings</answerCode>
                                       <answerHtml/>
                                       <answerTypeObject>
                                          <answerTypeGroup>SELECT_FROM_LIST</answerTypeGroup>
                                          <code>SELECT_MULTI</code>
                                          <description/>
                                          <optionsAvailable>true</optionsAvailable>
                                          <optionsDescription>Provide options for the answer using key=value format. For example, Option Name1=value1 or Option Name2=value2.</optionsDescription>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>true</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>true</showForMachineConfig>
                                          <title>Select Multi</title>
                                          <valueSeparator>PIPE</valueSeparator>
                                          <valueType>MULTIVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <constantable>false</constantable>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <lastModified>2018-06-01T11:00:05Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <options>Chrome=chrome|Ie=ie|Desktop=desktop|Firefox=firefox</options>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>false</required>
                                       <sequenceNumber>1</sequenceNumber>
                                       <shuffle>false</shuffle>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>S3 Bucket.</answer>
                                       <answerCode>s3_bucket</answerCode>
                                       <answerHtml/>
                                       <answerTypeObject>
                                          <answerTypeGroup>UNCONSTRAINED_TEXT</answerTypeGroup>
                                          <code>FREE_TEXT</code>
                                          <description/>
                                          <optionsAvailable>false</optionsAvailable>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>true</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>true</showForMachineConfig>
                                          <title>Free Text</title>
                                          <valueType>SINGLEVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <constantable>false</constantable>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <lastModified>2018-06-01T11:00:05Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>true</required>
                                       <sequenceNumber>2</sequenceNumber>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>Test OCR Component</answer>
                                       <answerCode>test_ocr</answerCode>
                                       <answerHtml/>
                                       <answerTypeObject>
                                          <answerTypeGroup>MULTIPLE_CHOICE</answerTypeGroup>
                                          <code>CHECK_ONE</code>
                                          <description/>
                                          <optionsAvailable>true</optionsAvailable>
                                          <optionsDescription>Provide options for the answer using key=value format. For example, Option Name1=value1 or Option Name2=value2.</optionsDescription>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>true</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>true</showForMachineConfig>
                                          <title>Check One</title>
                                          <valueType>SINGLEVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <constantable>false</constantable>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <lastModified>2018-06-01T11:00:05Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <options>true=true|false=false</options>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>true</required>
                                       <sequenceNumber>3</sequenceNumber>
                                       <shuffle>false</shuffle>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>Test ML Component</answer>
                                       <answerCode>test_ml</answerCode>
                                       <answerHtml/>
                                       <answerTypeObject>
                                          <answerTypeGroup>SELECT_FROM_LIST</answerTypeGroup>
                                          <code>SELECT_ONE</code>
                                          <description/>
                                          <optionsAvailable>true</optionsAvailable>
                                          <optionsDescription>Provide options for the answer using key=value format. For example, Option Name1=value1 or Option Name2=value2.</optionsDescription>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>true</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>true</showForMachineConfig>
                                          <title>Select One</title>
                                          <valueType>SINGLEVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <constantable>false</constantable>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <lastModified>2018-06-01T11:00:05Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <options>true=true|false=false</options>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>false</required>
                                       <sequenceNumber>4</sequenceNumber>
                                       <shuffle>false</shuffle>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>URL VDS server</answer>
                                       <answerCode>url_vds</answerCode>
                                       <answerHtml/>
                                       <answerTypeObject>
                                          <answerTypeGroup>UNCONSTRAINED_TEXT</answerTypeGroup>
                                          <code>FREE_TEXT</code>
                                          <description/>
                                          <optionsAvailable>false</optionsAvailable>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>true</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>true</showForMachineConfig>
                                          <title>Free Text</title>
                                          <valueType>SINGLEVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <constantable>false</constantable>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <lastModified>2018-06-01T11:00:05Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>false</required>
                                       <sequenceNumber>5</sequenceNumber>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                 </answers>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config xmlns="http://web-harvest.sourceforge.net/schema/1.0/config"
	scriptlang="groovy"&gt;
  
  
  &lt;var-def name="test_rpa_settings"&gt;chrome|desktop&lt;/var-def&gt;
  &lt;var-def name="test_rpa"/&gt;
  &lt;var-def name="test_ie_driver"/&gt;
  &lt;var-def name="test_desktop_driver"/&gt;
  &lt;var-def name="test_chrome_driver"/&gt;
  &lt;var-def name="test_firefox_driver"/&gt;

  &lt;script&gt;&lt;![CDATA[ 
	String testRpaStr = test_rpa_settings.toString();
	test_desktop_driver = false;
	test_ie_driver = false;
	test_chrome_driver = false;
	test_firefox_driver = false;
	if(testRpaStr != ""){
		test_rpa = true;
		if(testRpaStr.contains("desktop")){
			test_desktop_driver = true;
		}
		
		if(testRpaStr.contains("ie")){
			test_ie_driver = true;
		}
		
		if(testRpaStr.contains("chrome")){
			test_chrome_driver = true;
		}
		
		if(testRpaStr.contains("firefox")){
			test_firefox_driver = true;
		}
		
	}
	else{
		test_rpa = false;
	}
	
	println testRpaStr;
	println test_rpa;
	sys.defineVariable("test_rpa", test_rpa )
	sys.defineVariable("test_ie_driver", test_ie_driver )
    sys.defineVariable("test_desktop_driver", test_desktop_driver )
	sys.defineVariable("test_chrome_driver", test_chrome_driver )
	sys.defineVariable("test_firefox_driver", test_firefox_driver )
   ]]&gt;&lt;/script&gt;

  &lt;export include-original-data="true"&gt;
    &lt;single-column name="test_ml" value="true" /&gt;
    &lt;single-column name="s3_bucket" value="public" /&gt;
    &lt;single-column name="test_ocr" value="false" /&gt;  
    &lt;single-column name="test_rpa" value="${test_rpa}" /&gt; 
    &lt;single-column name="test_ie_driver" value="${test_ie_driver}" /&gt;
    &lt;single-column name="test_chrome_driver" value="${test_chrome_driver}" /&gt;
    &lt;single-column name="test_firefox_driver" value="${test_firefox_driver}" /&gt;
    &lt;single-column name="test_desktop_driver" value="${test_desktop_driver}" /&gt;
    &lt;single-column name="url_vds" value="" /&gt;
  &lt;/export&gt;
&lt;/config&gt;</content>
                                 <includedConfigs/>
                                 <inclusionCode>f946349d-7064-4bf3-9338-d546401cfb71</inclusionCode>
                                 <jsonParams>{"test_rpa_settings":"chrome|desktop","test_ml":"true","s3_bucket":"public","test_ocr":"false"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>ETL</name>
                                       <private>false</private>
                                       <publicId>0ef23179-3fa8-4750-86ca-f6da84f6e16d</publicId>
                                    </category>
                                    <contentType>NORMAL</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>use_case_ml</name>
                                    <publicId>6e573b4b-c115-4bf3-92db-f69f56eac36b</publicId>
                                    <version>
                                       <componentUuid>7f5fa80a-c242-43a9-ad17-fbcc2ece32d2</componentUuid>
                                       <incrementalVersion>1.4</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-06-01T11:00:55Z</lastModified>
                                       <versionUuid>19a7d630-3612-4611-9917-8e8e807744ca</versionUuid>
                                    </version>
                                    <answers>
                                       <answer>
                                          <allowNA>false</allowNA>
                                          <answer>Test RPA Components (desktop, ie,chrome drivers and firefox)</answer>
                                          <answerCode>test_rpa_settings</answerCode>
                                          <answerHtml/>
                                          <answerTypeObject>
                                             <answerTypeGroup>SELECT_FROM_LIST</answerTypeGroup>
                                             <code>SELECT_MULTI</code>
                                             <description/>
                                             <optionsAvailable>true</optionsAvailable>
                                             <optionsDescription>Provide options for the answer using key=value format. For example, Option Name1=value1 or Option Name2=value2.</optionsDescription>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>true</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>true</showForMachineConfig>
                                             <title>Select Multi</title>
                                             <valueSeparator>PIPE</valueSeparator>
                                             <valueType>MULTIVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <constantable>false</constantable>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <lastModified>2018-06-01T10:59:27Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <options>Chrome=chrome|Ie=ie|Desktop=desktop|Firefox=firefox</options>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>false</required>
                                          <sequenceNumber>1</sequenceNumber>
                                          <shuffle>false</shuffle>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </answer>
                                       <answer>
                                          <allowNA>false</allowNA>
                                          <answer>S3 Bucket.</answer>
                                          <answerCode>s3_bucket</answerCode>
                                          <answerHtml/>
                                          <answerTypeObject>
                                             <answerTypeGroup>UNCONSTRAINED_TEXT</answerTypeGroup>
                                             <code>FREE_TEXT</code>
                                             <description/>
                                             <optionsAvailable>false</optionsAvailable>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>true</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>true</showForMachineConfig>
                                             <title>Free Text</title>
                                             <valueType>SINGLEVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <constantable>false</constantable>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <lastModified>2018-06-01T10:55:21Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>true</required>
                                          <sequenceNumber>2</sequenceNumber>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </answer>
                                       <answer>
                                          <allowNA>false</allowNA>
                                          <answer>Test OCR Component</answer>
                                          <answerCode>test_ocr</answerCode>
                                          <answerHtml/>
                                          <answerTypeObject>
                                             <answerTypeGroup>MULTIPLE_CHOICE</answerTypeGroup>
                                             <code>CHECK_ONE</code>
                                             <description/>
                                             <optionsAvailable>true</optionsAvailable>
                                             <optionsDescription>Provide options for the answer using key=value format. For example, Option Name1=value1 or Option Name2=value2.</optionsDescription>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>true</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>true</showForMachineConfig>
                                             <title>Check One</title>
                                             <valueType>SINGLEVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <constantable>false</constantable>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <lastModified>2018-06-01T10:56:49Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <options>true=true|false=false</options>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>true</required>
                                          <sequenceNumber>3</sequenceNumber>
                                          <shuffle>false</shuffle>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </answer>
                                       <answer>
                                          <allowNA>false</allowNA>
                                          <answer>Test ML Component</answer>
                                          <answerCode>test_ml</answerCode>
                                          <answerHtml/>
                                          <answerTypeObject>
                                             <answerTypeGroup>SELECT_FROM_LIST</answerTypeGroup>
                                             <code>SELECT_ONE</code>
                                             <description/>
                                             <optionsAvailable>true</optionsAvailable>
                                             <optionsDescription>Provide options for the answer using key=value format. For example, Option Name1=value1 or Option Name2=value2.</optionsDescription>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>true</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>true</showForMachineConfig>
                                             <title>Select One</title>
                                             <valueType>SINGLEVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <constantable>false</constantable>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <lastModified>2018-06-01T10:57:57Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <options>true=true|false=false</options>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>false</required>
                                          <sequenceNumber>4</sequenceNumber>
                                          <shuffle>false</shuffle>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </answer>
                                       <answer>
                                          <allowNA>false</allowNA>
                                          <answer>URL VDS server</answer>
                                          <answerCode>url_vds</answerCode>
                                          <answerHtml/>
                                          <answerTypeObject>
                                             <answerTypeGroup>UNCONSTRAINED_TEXT</answerTypeGroup>
                                             <code>FREE_TEXT</code>
                                             <description/>
                                             <optionsAvailable>false</optionsAvailable>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>true</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>true</showForMachineConfig>
                                             <title>Free Text</title>
                                             <valueType>SINGLEVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <constantable>false</constantable>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <lastModified>2018-06-01T10:58:57Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>false</required>
                                          <sequenceNumber>5</sequenceNumber>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </answer>
                                    </answers>
                                    <machineWorkSettingType>ETL</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config xmlns="http://web-harvest.sourceforge.net/schema/1.0/config"
	scriptlang="groovy"&gt;
  
  
  &lt;var-def name="test_rpa_settings"&gt;{{test_rpa_settings}}&lt;/var-def&gt;
  &lt;var-def name="test_rpa"/&gt;
  &lt;var-def name="test_ie_driver"/&gt;
  &lt;var-def name="test_desktop_driver"/&gt;
  &lt;var-def name="test_chrome_driver"/&gt;
  &lt;var-def name="test_firefox_driver"/&gt;

  &lt;script&gt;&lt;![CDATA[ 
	String testRpaStr = test_rpa_settings.toString();
	test_desktop_driver = false;
	test_ie_driver = false;
	test_chrome_driver = false;
	test_firefox_driver = false;
	if(testRpaStr != ""){
		test_rpa = true;
		if(testRpaStr.contains("desktop")){
			test_desktop_driver = true;
		}
		
		if(testRpaStr.contains("ie")){
			test_ie_driver = true;
		}
		
		if(testRpaStr.contains("chrome")){
			test_chrome_driver = true;
		}
		
		if(testRpaStr.contains("firefox")){
			test_firefox_driver = true;
		}
		
	}
	else{
		test_rpa = false;
	}
	
	println testRpaStr;
	println test_rpa;
	sys.defineVariable("test_rpa", test_rpa )
	sys.defineVariable("test_ie_driver", test_ie_driver )
    sys.defineVariable("test_desktop_driver", test_desktop_driver )
	sys.defineVariable("test_chrome_driver", test_chrome_driver )
	sys.defineVariable("test_firefox_driver", test_firefox_driver )
   ]]&gt;&lt;/script&gt;

  &lt;export include-original-data="true"&gt;
    &lt;single-column name="test_ml" value="{{test_ml}}" /&gt;
    &lt;single-column name="s3_bucket" value="{{s3_bucket}}" /&gt;
    &lt;single-column name="test_ocr" value="{{test_ocr}}" /&gt;  
    &lt;single-column name="test_rpa" value="${test_rpa}" /&gt; 
    &lt;single-column name="test_ie_driver" value="${test_ie_driver}" /&gt;
    &lt;single-column name="test_chrome_driver" value="${test_chrome_driver}" /&gt;
    &lt;single-column name="test_firefox_driver" value="${test_firefox_driver}" /&gt;
    &lt;single-column name="test_desktop_driver" value="${test_desktop_driver}" /&gt;
    &lt;single-column name="url_vds" value="{{url_vds}}" /&gt;
  &lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>template_settings_with_ml</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>87f9ceee-71d5-4731-896d-98c708fc1d96</uuid>
                                       <version>
                                          <componentUuid>270698d2-7fa6-4471-a70a-dce96d9a780a</componentUuid>
                                          <incrementalVersion>1.3</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2018-06-01T06:47:15Z</lastModified>
                                          <versionUuid>5724bbda-f618-40b8-b195-0fcd6f2d3e41</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>ETL</machineWorkSettingType>
                                 <name>Settings</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config xmlns="http://web-harvest.sourceforge.net/schema/1.0/config"
	scriptlang="groovy"&gt;
  
  
  &lt;var-def name="test_rpa_settings"&gt;{{test_rpa_settings}}&lt;/var-def&gt;
  &lt;var-def name="test_rpa"/&gt;
  &lt;var-def name="test_ie_driver"/&gt;
  &lt;var-def name="test_desktop_driver"/&gt;
  &lt;var-def name="test_chrome_driver"/&gt;
  &lt;var-def name="test_firefox_driver"/&gt;

  &lt;script&gt;&lt;![CDATA[ 
	String testRpaStr = test_rpa_settings.toString();
	test_desktop_driver = false;
	test_ie_driver = false;
	test_chrome_driver = false;
	test_firefox_driver = false;
	if(testRpaStr != ""){
		test_rpa = true;
		if(testRpaStr.contains("desktop")){
			test_desktop_driver = true;
		}
		
		if(testRpaStr.contains("ie")){
			test_ie_driver = true;
		}
		
		if(testRpaStr.contains("chrome")){
			test_chrome_driver = true;
		}
		
		if(testRpaStr.contains("firefox")){
			test_firefox_driver = true;
		}
		
	}
	else{
		test_rpa = false;
	}
	
	println testRpaStr;
	println test_rpa;
	sys.defineVariable("test_rpa", test_rpa )
	sys.defineVariable("test_ie_driver", test_ie_driver )
    sys.defineVariable("test_desktop_driver", test_desktop_driver )
	sys.defineVariable("test_chrome_driver", test_chrome_driver )
	sys.defineVariable("test_firefox_driver", test_firefox_driver )
   ]]&gt;&lt;/script&gt;

  &lt;export include-original-data="true"&gt;
    &lt;single-column name="test_ml" value="{{test_ml}}" /&gt;
    &lt;single-column name="s3_bucket" value="{{s3_bucket}}" /&gt;
    &lt;single-column name="test_ocr" value="{{test_ocr}}" /&gt;  
    &lt;single-column name="test_rpa" value="${test_rpa}" /&gt; 
    &lt;single-column name="test_ie_driver" value="${test_ie_driver}" /&gt;
    &lt;single-column name="test_chrome_driver" value="${test_chrome_driver}" /&gt;
    &lt;single-column name="test_firefox_driver" value="${test_firefox_driver}" /&gt;
    &lt;single-column name="test_desktop_driver" value="${test_desktop_driver}" /&gt;
    &lt;single-column name="url_vds" value="{{url_vds}}" /&gt;
  &lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>template_settings_with_ml</name>
                                    <origination>CREATED_AUTOMATICALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>MACHINE</type>
                                    <uuid>da4e557e-3b73-4a19-9e26-b048409ee90f</uuid>
                                    <version>
                                       <componentUuid>a68e8d99-6647-4c4a-981c-bd0d1ed79571</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-06-05T14:53:45Z</lastModified>
                                       <versionUuid>e6deb765-197b-4548-88a3-eb939db29a8d</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>f946349d-7064-4bf3-9338-d546401cfb71</uuid>
                                 <version>
                                    <componentUuid>bdb4bb2d-cff4-4c12-ad41-fec1ebbac014</componentUuid>
                                    <incrementalVersion>1.29</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-06-05T14:53:53Z</lastModified>
                                    <versionUuid>ae0502b0-28e3-4ad6-a3e8-c3d3712a8c2b</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>Settings</title>
                              <type>SINGLE</type>
                              <uuid>a614d050-9907-42f9-df11-7ae394ae4dbd</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>e15c4247-82fa-4d38-905c-66e3fe1c1733</componentUuid>
                                 <incrementalVersion>1.3</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-06-05T14:53:53Z</lastModified>
                                 <versionUuid>8744e41a-9d65-4b02-8f2d-5a9f8f0e4b21</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>1</stepIndex>
                           <stepPosition>START</stepPosition>
                           <uuid>4121c2ed-e222-448d-b6f5-fea5a66d9d3c</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content># Rule.Definition={"moderationRule":false,"approveAllRule":false,"splitData":false,"splitRule":false,"splitRuleSuffix":"","joinRule":false,"joinRuleSuffix":"","streamingRule":false,"streamingRuleSuffix":"","namedRule":false,"namedRuleName":""}
package com.freedomoss.requester;

# list any import classes here.
import java.util.Map;
import java.util.ArrayList;
import com.freedomoss.objective.model.CompositeRuleContext;
import com.freedomoss.objective.model.CompositeRuleDataItemContext;
import org.slf4j.Logger;


# declare any global variables here
global CompositeRuleContext source
global Logger log
global Map params


rule "Rule context initialization"
auto-focus true
no-loop
agenda-group "initialization-group"
    when
        $ctx:CompositeRuleContext(initialized == false);
    then
        # insert processed facts into memory
        $ctx.updateWorkingMemory();
        # move to business rules
        kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
end

# RuleOutcome.Definition={"outcomeId":"no","conditional":true,"reworkBySameWorker":false,"assignToSameWorker":false,"anableLogging":false,"sendRejectNotification":false,"assignToAnyWorker":false,"approveRelatedAssignments":false,"rejectRelatedAssignments":false,"renameAutomationAnswerItem":false,"conditions":[{"fieldName":"test_ml","value":"false","operator":"EQ"}],"customConditions":[]}
rule "1. Send records to 'no' when test_ml EQ 'false'"
agenda-group "calculation"
dialect "mvel"
salience 100
    when
        $ctx:CompositeRuleContext(initialized == true);
        $item:CompositeRuleDataItemContext();
        eval($item.checkValue("test_ml", "EQ", "false"));

    then
        $ctx.sendResultTo("no", $item);
end

# RuleOutcome.Definition={"outcomeId":"yes","conditional":true,"reworkBySameWorker":false,"assignToSameWorker":false,"anableLogging":false,"sendRejectNotification":false,"assignToAnyWorker":false,"approveRelatedAssignments":false,"rejectRelatedAssignments":false,"renameAutomationAnswerItem":false,"conditions":[{"fieldName":"test_ml","value":"true","operator":"EQ"}],"customConditions":[]}
rule "2. Send records to 'yes' when test_ml EQ 'true'"
agenda-group "calculation"
dialect "mvel"
salience 100
    when
        $ctx:CompositeRuleContext(initialized == true);
        $item:CompositeRuleDataItemContext();
        eval($item.checkValue("test_ml", "EQ", "true"));

    then
        $ctx.sendResultTo("yes", $item);
end



rule "Send unprocessed result to unconditional outcome(s)"
agenda-group "calculation"
dialect "mvel"
salience 80
    when
        $ctx:CompositeRuleContext(initialized == true);
        $item:CompositeRuleDataItemContext();
    then
        $ctx.sendResultToUnconditionalOutcomes($item, true);
end</content>
                              <name>Is ML included?</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>c46847d1-cc45-483a-a84e-84be1c93d873</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config xmlns="http://web-harvest.sourceforge.net/schema/1.0/config"
	charset="UTF-8" scriptlang="groovy"&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test Secure Storage Component: starting component test...&lt;/template&gt;
        &lt;/log&gt;
  
  &lt;var-def name="integration_testing_key_alias"&gt;
    integration_testing_key
  &lt;/var-def&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test Secure Storage Component: put new values to secure store - alias:${integration_testing_key_alias} key:mykey value:myvalue&lt;/template&gt;
        &lt;/log&gt;

  &lt;secure-store-put alias="integration_testing_key"
                    key="mykey" value="myvalue" /&gt;
  
        &lt;log level="WARN"&gt;
          &lt;template&gt;Test Secure Storage Component: new values put successfully: starting check...&lt;/template&gt;
        &lt;/log&gt;

  &lt;secure-store-get alias="integration_testing_key" /&gt;

  &lt;script&gt;&lt;![CDATA[
    com.freedomoss.crowdcontrol.webharvest.web.dto.SecureEntryDTO obj = secureEntryMap.getWrappedObject().get("integration_testing_key");
    String username = obj.getKey().toString();
    String password = obj.getValue().toString();
    if (!"mykey".equals(username) || !"myvalue".equals(password)) {
     throw new Exception("Secure storage doesn't work properly");
    }
   ]]&gt;&lt;/script&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test Secure Storage Component: check completed.&lt;/template&gt;
        &lt;/log&gt;
		&lt;log level="WARN"&gt;
          &lt;template&gt;Test Secure Storage Component: cleaning operation - deleting alias: ${integration_testing_key_alias}&lt;/template&gt;
        &lt;/log&gt;
  
   &lt;secure-store-delete alias="${integration_testing_key_alias}" /&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test Secure Storage Component: exporting result data...&lt;/template&gt;
        &lt;/log&gt;

  &lt;export include-original-data="true"&gt;
    &lt;single-column name="secure_storage_status" value="active" /&gt;
  &lt;/export&gt;

&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>77b2f293-f530-4069-a7b5-ade72107886e</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>Test Secure Storage</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>77b2f293-f530-4069-a7b5-ade72107886e</uuid>
                                 <version>
                                    <componentUuid>5b653f54-33fa-49af-ae86-ec1dd5935c95</componentUuid>
                                    <incrementalVersion>1.72</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-06-01T06:59:55Z</lastModified>
                                    <versionUuid>52353a52-52ae-4ce0-9af5-1e7db29c040f</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>Test Secure Storage</title>
                              <type>SINGLE</type>
                              <uuid>d1113ee7-5f48-4cdb-aff6-91a332b5f693</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>db6807e9-741e-4a74-b482-1d9dc36f26c7</componentUuid>
                                 <incrementalVersion>1.31</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-06-01T06:59:55Z</lastModified>
                                 <versionUuid>6d6ff253-7d60-46e7-a844-5b956dbdb5bb</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>2</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>2eb6169e-fb99-4e2f-8a7c-fe1e898cb927</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>68fda004-19a0-467b-bd07-7e75508c3e5f</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config xmlns="http://web-harvest.sourceforge.net/schema/1.0/config"
	charset="UTF-8" scriptlang="groovy"&gt;
  
        &lt;log level="WARN"&gt;
          &lt;template&gt;Test S3 Component: starting test...&lt;/template&gt;
        &lt;/log&gt;
  
        &lt;log level="WARN"&gt;
          &lt;template&gt;Test S3 Component: S3 bucket name: ${s3_bucket}&lt;/template&gt;
        &lt;/log&gt;

  &lt;var-def name="pdfFileName"&gt;
    &lt;template&gt;${java.util.UUID.randomUUID()}.pdf&lt;/template&gt;
  &lt;/var-def&gt;
  
        &lt;log level="WARN"&gt;
          &lt;template&gt;Test S3 Component: generating PDF file name: ${pdfFileName}&lt;/template&gt;
        &lt;/log&gt;
  
        &lt;log level="WARN"&gt;
          &lt;template&gt;Test S3 Component: creating PDF content...&lt;/template&gt;
        &lt;/log&gt;

  &lt;var-def name="pdfContentBase64"&gt;
    JVBERi0xLjYKJeTjz9IKMSAwIG9iagpbL1BERi9JbWFnZUIvSW1hZ2VDL0ltYWdlSS9UZXh0XQplbmRvYmoKNCAwIG9iago8PC9MZW5ndGggNSAwIFIKL0ZpbHRlci9GbGF0ZURlY29kZQo+PgpzdHJlYW0KeJwDAAAAAAEKZW5kc3RyZWFtCmVuZG9iago1IDAgb2JqCjgKZW5kb2JqCjcgMCBvYmoKPDwvU3VidHlwZS9JbWFnZQovV2lkdGggMzUwCi9IZWlnaHQgMjIyCi9CaXRzUGVyQ29tcG9uZW50IDgKL0NvbG9yU3BhY2UvRGV2aWNlUkdCCi9GaWx0ZXIvRENURGVjb2RlCi9MZW5ndGggOCAwIFIKPj4Kc3RyZWFtCv/Y/+AAEEpGSUYAAQEBAGAAYAAA/9sAQwADAgICAgIDAgICAwMDAwQGBAQEBAQIBgYFBgkICgoJCAkJCgwPDAoLDgsJCQ0RDQ4PEBAREAoMEhMSEBMPEBAQ/9sAQwEDAwMEAwQIBAQIEAsJCxAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQ/8AAEQgA3gFeAwERAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A/VOgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKAK09zBaxST3EscMSDc7u+1VHqSelROpGlDmm0kt29EhwjKpJQgm29ktX9xl6f4y8H6pdfYNK8VaPe3P/PG3v4pJP++QxNcFDN8txU/ZUK8JS7RlFv7k7noYjJ8xwlL2tfDzjHvKEkvvaSNWWaO3jeWWRERBuZmOFUV6EpRhHmlokefGMpStHfsZen+MvB+rXZ07S/Fej3l0vW3t72KSQf8AAFYn9K4MPmuAxNX2NCvCUv5Yyi39ydzvxGT5jhKXtq9CcIfzSjJL72kjcr0TzzO1XV9K0Kzl1DWdStLC1j2757mZYo0ycDLMQBk8DnrXPXxVDB0/a4iahFbuTSSv5uyN8LhK+MqqjhoSnJ7KKcm7auyV2VNG8W+E/ETyQ+HvEulam8K7nWzvY5mRT3YKTgfWsMLmmBxsnHCVoza3UZRlb1s3Y3xeVY/LoqWMoTpp6JyjKN/S6VzcrvOExda8WeGPDbxxeIfEelaW0w3RJeXkcBdR1I3EZ/CuDFZlgcBZYqtGm3tzSUb+l2rnbgsqx2YRcsHRlNLfljKVvWydiTRfEOg+IYJLnQNc0/UoYn8t5LO5SZUbGcEqSAcEHFaYXHYXHRc8LUjNJ2bjJSSfa6b1IxWAxWXyUMXTlTbV0pRcW13SaWhrV1nKFABQAUAFABQBy7/Ej4eRz/Zn8eeHFmV9jRtqkAfd0243ZznjFeRLP8pjLkliqd72tzxvfta+568eHc4lHnjhatrXv7OVrd722Oor1zyAoApX+o6fpVnJqGqX9vZ2sI3SzXEixxp25ZiAOcdawxGIpYWk61eajFbttJL1b0Rph8PVxNRUaEHKT2UU236Jasw/+Fn/AAz/AOiheGP/AAb2/wD8VXmf6y5N/wBBlL/wZD/M9f8A1Zzv/oDq/wDguf8A8iH/AAs/4Z/9FC8Mf+De3/8AiqP9Zcm/6DKX/gyH+Yf6s53/ANAdX/wXP/5En0vxz4L1y8XTtE8X6JqF04LLBa6hFLIwXrhVYnjvxW+FznLsZU9jh8RCcu0ZRb89E2zmxWSZngqXtcThqkIrrKEktdtWktToq9M80KACgAoAKACgCjf6jp2lWUmoanf29nawjdLPcSLHGg6csxAHPrWOIxFLC03VrzUYrdyaSXq3ojahh6uJqqhQg5Seyim2/RLVmbpfjfwXrl0NO0TxfomoXOxn8i0v4pZNo6narE4HeuPCZxl2Mq+yw1eE5doyjJ/cm2deLyXMsDS9risNOEdryhKKu/NpI6CvSPOCgAoAKACgAoAKACgAoAp3V7a2Efn3c0cMO4Lvc7VUnpk9Bk8c98Dqayq1YUY802ku70Wvn/WpVKnKtLkppt9lv939aFytSTwD47ftDx+EjP4P8DTxza19y5vBho7P1Udml9ey98ngflvGnHkMrvgMsadXaUt1HyXRy/CProv1bgfw9lmnLmOaJqhvGOzn5vqo9usvTV+a/B5fEEV7P8bPHninVLfQtH3fvprl2k1KYggQICfmGTg9s8f3ivx3Cf1yNSXEeZ15KjTvq226ktuVXeqvv0vp3a+z4v8Aqc6UeGcqoRdepbRRSVOO/M7LR226217KXH/FH4x+KviffSC+mez0dH/0bTon/dr/AHWf/no/ueB2AFfPcScWY7iKr775aSekE9F5vu/N/JI+l4X4QwHDVJeyXNWt702tX3S/lXkt+rZJ8Ifh5P4t1d9f1K9/svw5oLLealqT/KqbPn2I398+33Rz12g1wtkM81xH1mrL2eHpWlOe1ra2T/mf4b72Tz4tz+GUYf6nRhz4ireMIb3vpzNfyr8Xptdq58aPjVq/xK1iSysJriz8PW77ba037fNx/wAtZAOpPUA8KOBzknq4v4vxHENdwpNxw6+GO3N/el3b6LZet2+Xg3g3D8NYdVKqUsQ170t+W/2Y9kur3b8rJR/BDwZb6xrknjHX7ySx8P8AhXbf3lzvK72TlIkI5ySMnHOOBgstZ8HZRDF4p5jiny4eh705barWMU1rdtdNbabtGnG2cTweFWXYSKniMT7sY72T0cmtrJPrpfV6Jn2p4W1+08U+HNM8R2MTxQ6lbR3KJJ95N652n3B4P0r+jstxsMywdLF0tFOKkl2utvlsfzTmeXzyvGVcFV1cJOLa2dnuvJ7nin7YPiD7F4T0jw1HJsfUrxrl/eOFen/fUin8K/N/FbH+ywFHBx3nJt+kV/nJfcfpnhHgPa5jWxktoRUV6yf+UWvmeT/sweIf7E+K1nYyShIdYtprB8/3seYv47owB9a+F8Nsf9Rz2FOW1SLj/wC3L8Vb5n3/AIm5f9cyGdWO9OUZL0+F/hK/yPtyv6QP5mPin9qjxB/a3xTk01Jfk0izhs/+BMPNb8f3ig/Sv5y8TMb9azuVJbU4qPzfvP8A9Kt8j+lPC/AfVMhVXrUlKXyXur/0lv5n0F+zd4d/sD4SaW8kWybVHk1J/wDtocIf+/apX6x4f4D+z8io30c7zfzen/kqifkXiLmH1/iCtbanaC/7dWv/AJM5HqlfanxAUAFABQAUAFAH5y6v/wAjve/9haX/ANGmv5Dxf/Izn/jf/pR/Y2D/AORXD/r2v/SUfo1X9eH8chQB578ff+SQeJ/+vZP/AEYlfJ8cf8k/if8ACv8A0pH13Af/ACUWF/xP/wBJZ8T+CPB2sePPEEHhnQfs/wBsmSR0899q/IpJ5wew9K/nLKMoxGeYpYLDW5mm1d2Wiu9T+l86znDZDg5Y7FX5E0nZXerstLo9M/4ZM+Kn/UE/8DW/+Ir6/wD4hdnveH/gT/yPjP8AiKuQ/wB//wABX/yR3PwU+APjz4f+P7PxJrzaX9kihmR/IuSz7nQgcbR396+p4Q4GzPIs1hjMVy8qUlo23qrLSyPkuM+PMpz7KZ4HCc3O3Fq8Ulo7vqz6Vr9hPxoKACgAoAKACgDjvip4a1Lxd8PtZ8NaOI/tt/CqQ+a21ch1bk9uBXgcT5fXzTKa2Dw9uaSSV3Zbp7/I97hfMqGUZvQxmJvyQbbsrvZrb5njnwO+BPjv4f8Aj6DxH4gj09LNLaaH9zc7m3OOOMCvz3gzgnNMjzSOMxfLyqLWju7tdrH6RxvxxlOfZTLBYPm5+aL1jZWT11ufSlfsJ+MhQAUAFABQAUAFABQAUAc34qfUzZSQ6Atnd3iQs76XdkCO9h6Om7+FucBuVBIDDDAjysydd0+XCcsp2b5JbTjs1fo+ieqTdpKzuvVyqOHjUUsVzRhdJTjvCW6lbqurWkmk3F3TT+friz8QeLEuNL+D3xI1DRJl3R3fhLVbx7e5smH30gc5Oz2BAX1GcD8pq0sVmfPQ4exkqT1UqE5OMovqovV8vknZd+i/W6VXB5VyV+I8FGqtHHEU4qUJp7OaVlzebV326vndA/ZyvND8zxN8ZNXs9B0Kz+eZFuRJNcf7AK5A3exLHoBk5Hk4HgCeBvjOIKipUI6tJpyl5Jra/leT2SvqvZzDxFhjrYHhunKrXlom4tRj5tO17edordu2j4v4qfE2Xx1e2+naXaDSvDOkfudL01PlVFHG9wONxH/fI4GeS3zXEvEMs7qqjh1yYanpCC0SW13/AHn+C0XVv6ThfhqOQ0pVq8ufE1NZzerb35V5L8Xq+iVH4Z/DnV/iTr/9m2f+jWNsvnX98/8Aq7WHuT23HnaO/U4AJGHD2QYjP8V7Cn7sI6zk9ox7+r6Lr6JtdXEvEeH4bwvt6nvTlpCK3lLt6Lq+nq0n0fxX+I2kXdlb/DX4exfZPCWjv99PvahOOsznuM8jPU8n+EL6/E+f0KtKOT5T7uFp/fOS3lLur6rvu+iXj8K8OYijUlnWce9i6nTpTi9ors7aPstF1b5DwH4H1v4h+I7bw7ocPzzfPNM/+rt4h9539h+pwBya+eyXJcTnuMjg8KtXq30jHq35L8XZLVn0ee53heH8FPGYp6LRLrJ9EvN/grt6I9d/aH02T4aeFPDfwy8OReTolysl5czf8tL25QqGaT6blbHTlRgBFr7/AI8w74ewGGybB6UXeUn1nJWvzel07en8qPzrw9xH+seYYrO8brWjaMV0hF3so+tmr77/AMzPXf2YdY/tX4RafbnG/Tbi4s3/AO+/MH5LIor73w4xX1nh+nHrCUo/jzL8JI/PvErCfVOIKklopxjJfdyv8Ys8K/at8Q/2v8Tv7KilGzRbOO32j/no/wC8b9HQH6V+Y+J2O+s539XjtTil837z/BpfI/VPC3L/AKpkn1h71ZOXyXur8U38zitZ02/+FHxHggbf9p0S5tLz/fbbHL+ucfpXzWLw9XhjOYw+1ScJfhGX62Pp8JiaXFWTSkvhqxnH01lH9Ln31BeW1zZx38EoME0KzI/baRkH8q/qmFWFSkq0X7rV7+T1ufyZOjOlVdGS95OzXmna33n5767eXfj7x/eXdp+8m17VW8n/ALaS4RfwBAr+TsbVnnebTnT3q1Hb/t52ivxR/XuBpQyHKIU6mio01f8A7djeT+dmz7Z8XeNPCXwe8IWkmqS4itoUs7G0i/1k+xAAqj0AAyTwPqQD/SWa5vgeEsuhKttFKMYrd2Vkl6Ld7L7k/wCYcnyTH8X5jNUFrJuU5PaPM7tv1ey3f3tfM3ij9qf4na1cSf2JNbaHbfwQ28Kyybf9p5Acn3UL9K/F8y8S86xk/wDZmqUeiSUn83JPX0SP2/LPDDI8FBfWk60urk2l8lFrT1b9TM079o74x6NceZceI/taL/ywvLWJlf8AJVb8mFceH4/4hwk7yrc3lKMbfkn9zO7EeHfDmLhywo8vnGUk197cfvTPof4OfH/RPiZJ/Yeo2iaXrqJv8jfuiuFX7xiY85HUoeQOQWAJH63wpxzheIf9mqr2da219Jd3F9+rT1tqm9bfj3F/AWK4bX1qg/aUL25rWcb7KSWluiktG9GldXo/tJfE/wAXfDaDQJfCt3b2/wBve5E5mgWT7nl469PvmuXxA4hx/D8cO8DJLncr3Se3Lbf1Z1+HXDWXcRzxKzCLfIo2tJx35r7eiOW8M/tL6npvwxvPEvi0wajrc2qSWem2yIsKsqxROWfH8Kl+T1JIHHUeHlviHXw+SzxmOtOs5uMIpJJpRi23bom9erul5r3cy8N6FfPIYHAXhQUFKcm3JpuUkkr9Wo6dFZvydL4KfG/4j+PvilaaPr2sW/8AZ1xDcyPZwWsSKpWMlcNgvwfVj71jwhxlm2d53DD4qa9m1J8qjFLRNrW3N+J0cZ8FZNkOQzxOFpv2qcVzOUm9Wk9LqP8A5KeEav8A8jve/wDYWl/9GmvyzF/8jOf+N/8ApR+r4P8A5FcP+va/9JR+huoX1lpVhcalqE6W9taRNNNK5+VEUZLH8K/rXEV6WGpSrVWlGKbbeyS1bP49w+HqYmrGhQi3KTSSW7b0SPkrVv2m/ibr/i2Sx8CiOG0vLlYNNtPsSSSvlsJkt/E3UjoM47Zr8IxfiHneOx7pZZZRk+WEeVNvor36vfsr2P6AwnhtkeX5cqua3coq85czSXV2t0W3d2v1PaPinBr9t8AdYi8VajFd6t9gje7lhjEcfmGVCVUDHA6A9TjPfFfonEscVS4VrRx01KpyrmaSSu5LRJdFtfrufmvC88LV4toSwEHGlzvlTbbtZ6tvq97dNj56/Zg/5LHpf/Xvdf8Aolq/JPDj/koKf+Gf/pLP2PxM/wCScq/4of8ApSPt+v6VP5iOc8e6jeaT4F8R6rp0piu7PSry5gk4+SRIWKtzxwQDzxXl51XqYbLMTXpO0o05tPs1FtP5M9TIsPSxmaYahWV4yqQi13Tkk1p3R8x/Bv40fE/xJ8S9D0PXPFM9zYXczpNC8MS7lETnsoPVR0NfivCnF2dZhnNDC4mu5Qk3dWir6N9EnufuHF/B2R5bklfFYWgozik07y095LrJrZn1/X78fz2fMn7SfxT8f+CPHdnpXhXxHLYWkulR3DxJDE2ZDLKpb5lJ6IB6cV+M+IPEubZNmkKOBrOEXTUmkk9XKS6p9Ej9q8OOGMozrKZ18dRU5Ko4ptyWijF20aW7Z3nwz+Jd3D8Dx8Q/HGoyXklt9peaTYqtLiZkRAAAMk7VHuea+p4d4inHhn+1sym5OPM27JN2k0krWV3okfJ8S8NwnxR/Y+VwUVLlSV20rxTk3e7stWz568T/ALQXxX8ZamI9J1efSoZn221hpfyt7DeBvc+vIGegHSvyfMuO89zevy4ebppvSMNH9695v527JH6/lnAHD+TYfmr01Npaynt/4C/divlfu2VIvin8cvBk8c1/4j1+3zwqaqjyK/4TA/pzXNDiXifKJqVWrUXlNNr7pJ/gdUuF+F84g40qNN+dNpNfODX4n0fL8SfGU3wCuPiNd2dtpusfZvPh2JujZfNCK+xs43A5AyeCDnnA/YJcQZjLhaWcVIKFbluraq3MkpWe11qld6Wdz8Xhw7lseLFksJudHms76NPlbcbrez0bstbqxwnwK+OPxD8dfEKDw74i1G2ms3tp3ZEtUjbcq5HIGa+X4L4yzXOc2jhcZNODjJ2UUtUtNUfV8b8EZPkeUSxuCg1NSiruTejeujPU/i78YtE+FOlx+dCL3VrxW+yWKNt/4G5/hUH2yTwOhI+54p4sw3DNBXXNVl8Mb2+cn0X4t6Lq18FwlwhiuJ67UHyUY/FK34RXWX4Javon8u6v8dPjH4y1Aw2OuXdt5n+qs9HjaPb9NmXP4sa/EsVxrxFm9Xlp1ZK+0aat91vefzbP3bC8D8NZNR5qtKLtvKo0/vvaK+SRFb/F743eCbuP7f4j1yJ/veRqyNJvX6SgnHuMH3qKfFXEuUVUqtaafaom7/KSv9xpPhLhfOqT9lRptd6bSt842X33Po34K/H3T/iYf7B1mCPTvEEcZcIhPk3Sjq0eeQR1KEk45BIzj9e4Q43pcRf7LiIqFZK9l8Mkt3G+qa6xd9NU3rb8Z4y4Dq8Nf7Xh5OeHbtd/FFvZSto0+klbXRpO18b9o34t+NPhxq+j2vha6toory1klm82BZPmDgDr0rzePuKsyyDEUaeBkkpJt3inqnbqel4ecJ5ZxHQrVMdFtxkkrSa0av0OYt/2p9T0n4d29xexW+peKb6afYnl+XBBCrYV3CYySd2FBBOCSQMZ8eHiVXw2UwnW5Z4qTlZWtGKTsnJLe+tkrX3bWl/an4YUMVnM4UuanhYKN9byk2rtRb2tpdu9tknrbza6/aO+MVzP9q/4TBoR/DHDawKq/hsOfxzXxtTj/iKc+f6xbyUY2Xyt+dz7el4d8O04cn1a/m5Sv/6V+Vj2b4DftCan411lPBnjSK3GoTIz2d5DH5fnMq7jG6DgNgMQRgHGMZxn9F4J48r5vX/s7Mbc7T5ZJW5ratNbXtdpqy0ta+/5px14f0Mmwv8AaWWX9mmuaLd+W7snF72vZNO71ve230LX6sfkxzXjTwzN4l0gw6dqL6dqto/2jTr5PvW846fVW+6ynIKkjHSvIzjL5Zjh+WlPkqx1hJbxktvWL2ktmmz1cnzOOW4jmqwU6UvdnF7Si9/SS3i91JJnzrrtho3xqu7jQ9bht/CvxS0f9y4f5bbUmTpz691PJxgjcv3fybG0MNxfUeFxKVDMqenaNS3n37bu23Mtv2LBV8TwbTjisK3icrqe8rayp38u3fZX35Xv4p4v0vxhoWpvo/jGLUIry2/gu3Z/l/vIxJBU9ipIPrX5rmmGx+CxH1bMVJSj0k29O6eqa81oz9OyfFZdjsOsTlsouEusUlr2aVmn5PVD/A3gbX/iD4ht/DugQ+ZM/wA003/LO3j/AInc9gPzJwBkkCryXJcVnuLjhMLHV7vpFdW+yX4vRaszzvOsLw/g5YzFuyWy6yfSMV3f4LV6I9E+J/jbRPCOgH4N/DOb/iXQn/idakn37+b+Ndw/hzwccHAUfKDu+u4kzjDZThf9XsmfuL+JPrOXVX7d+/wr3Vr8hwzkuKzXFf6x54v3j/hQe0I9Hb+bt1XxP3np5Toeiap4h1i00LR7SS5vLx/JhhT+Jj/IDqSeAMk8CvhcFgq+YV4YbDRcpydkl/W3VvZLVn32NxtDL8PPFYmSjCKu2+3+b2S3b0R90/CL4WaX8LPDaafb7JtSuQsmoXYHMsn90d9i9FH1J5Jr+m+FuGqHDWD9lGzqSs5S7vsv7q6fN7s/lfi3iivxPjPbSuqcbqEey7v+8938lsjhf2vdB+3+ANP1xI/n0vUFVz/dilUq3/jyx18x4p4L22U08St6cl90k0/xUT6vwmxvsM2qYV7VIO3rFpr8HIxf2N9aQ6P4k0J5cLbTQ3i/8DUo5/Dy0zXm+E2LvQxOFl9mUZfemn/6Sj0vF/Bf7RhcVFfEpR+5pr/0pnkvhqH/AIWj8d7e4cb4dW1trx0/6dkcyFf+/aYr4PL4/wCsnFKk9VOq5P8AwpuVv/AVY/Qcxl/qvwrKEdHTpKK/xNKN/wDwJ3O2/bA8O/YfF+j+J40wmpWbWz4/56Qt978VkQfhX0nitl/scfRxkdpxafrF/wCUkvkfMeEWYe1y6tgZbwkpL0kv84t/M77QfiAF/ZZk13zv9KsdLk0j/aWXPkR/jhkavqcFnvJwPLFX96MHT9Hfkj+Diz5LHcP/APGeLC292U1U9Vbnl8rqSPEv2bvDn/CQfFrS3eLfDpSSak//AABcJ/5EdK/N/D3AfXc9pye1NOT+Ssv/ACZo/T/EXMP7P4frRjo6jUF/287y/wDJUw/aN8W3nij4n6nayTf6HojfYLZP4V2f6xvqZN3PoAO1HH+azzHO6sL+7T9yK7W+L5uV/lZdA8OsqpZZkVKol71X35P1+Feijb53fU+h/gL8I9A8G+FNP8QXenwTa7qMC3klxLGGeBXXKxpn7uARuI5LZycYA/W+COFsLlOApYqpBOvNKTk1dxUldRj2st7at36Wt+O8dcV4rNsfUwlKbjQg3FRTspNOzk+93tfRK2l7t974u8FeGvHOlyaP4k0yO5hZcI5XEkTf3o36oR7fQ5GRX1Ga5Pg85w7w2MgpLo+sfNPdP+nofJ5TnWNyTELE4Gbi1uukvKS2a/pWZ8Ia9p2r/DLx3eafa3e2/wBCvv3Nyny/cbKPj3GDj3xX8v43D1+Hc2nRhK06U9H6O6fzVmf1bgMRh+JcphVqR9ytDVeqtJfJ3V/K57P+1PrMfiPwl8PvECfImpW093t/u+ZFbtj8M1+ieJmKWOwOX4qOinGUrduaMH+p+a+F+Dll+PzLBy3hKMf/AAGU1+hwXwH+Fg+KHiB4NWnkTRNIVZrvY+1nd+EjB7bthyeuE9SCPmOCeGv9ZcZJV21Qp6ytpdvaK7Xtq+y72PquOuJ/9V8Gnh0nWqaRv0S1cn3tfRd32uj6+8PfDjwJ4VeOfw/4U0uyuIlKJcpAvnYIwf3hyx465PNfv+ByDK8ranhKEYSWiaiubXT4n734n875hxFm2axlHGYiU4vVxbfL3Xuq0V8kfBfiCX7P4w1Cf+5qUz/lKa/lnGz9nmNWXacv/Smf1ll8faZdTj3hFf8AkqPU/jN+0U/xF0OPwzoOnXOl2DvvvvOdd1xj7ifL/CDyfUgenP3XFnHv9vYVYPCwlCDd5XavLstOl9X3du2vwPBvh6uHMU8dipxqTStCyaUe71620XZX76dz+yz8JIrG0T4l65Bm5uUZNLRv+WUXQzfVuQPRcn+IY+n8NuGPYU/7ZxS96V1Bdls5er2Xld9T5bxP4rder/YeFfuxs6j7vdR9Fu/Oy6a+ofHz/kkHif8A69V/9GJX2XHH/JP4n/Cv/SkfE8C/8lFhP8T/APSWfDvhyLxJcapEnhKHVH1LY3lppqO023bzjy/mxjrjt1r+asBDGyrpZepOprbk5ubzty67bn9P5hLBU6DlmDgqel+eyje+l+bTfbzOv/sn9oD/AKBvxA/783v+Fe79V4q/kxH3VD5/61wl/PhvvpHtnw1t/GFt8AfH0fjWHV4bwW2o+UNVSVZfK+xDp5nO3OenGc1+lcPQzGnwrmEcxU1LlqW5+ZO3s1tza2vfyvc/MOJJ5dPi3L5ZY4OHNSv7Pl5b+1e/Lpe1vO1jxT4Af8lk8Nf9fEn/AKKkr824G/5KDDf4n/6Sz9O49/5JzFf4V/6VE+9K/qM/lQ+Ov2wP+Sl6d/2BYf8A0fPX8++K/wDyOqX/AF6j/wClzP6L8JP+RJU/6+y/9Jgdp4N8K3/jL9lCTQNH+e8d5poU/wCerRXhk2fVgmB7kV9Fk+W1c34EeEofG+Zpd3GfNb52svOx8vnGa0sm4+WLxOkEopvspU+W/or3flc8L+GHjuf4V+NI/EFxo32prZJLae2m/dyJng7SR8rjbjkdMg9a/NeG86nwzmSxcqfNa8ZJ6NX3t2at27rqfqXEuRQ4nyt4SFTlu1KMlqnba+uqd+/Z9D6z8MfGD4UfFmy/sCae3868Gx9L1WEKzn0Gco59NrE98Cv3bLeKsi4npfVZNc0tHCaSb9L3jJ9rO/WyPwDM+EOIOE6n1uCdo6qdNtpebtaUV3ukvNlj4528Nl8GfEFpawpFDDZxoiJ8qooljAA9gK140pxpcOYmnBWSikkuiUlZGHBE5VeJcNUm7tybbe7bjK7PnH9lj/kr9p/153P/AKBX454af8lBD/DL8j9p8UP+Sen/AIo/mcl8YfEt54s+Jev6nPN5kcd5JZ2yf3IYmKIB6ZAyfck968bizMZ5lnFetLZScV5Ri7L8rvzbPc4QyyllOSUKEFZuKk/OUlzP87eiR9l/Cr4baP8ADbwxZ6baWkX9oyxK+oXOz95NMRlueu0HgDoB7kk/0PwzkGH4ewEKFNLnaTnLq5ddeyeiXRed2fzdxRxFiOI8fOvUk/ZptQj0jHpp3a1b3b8rJbfi7whoPjfRLjQfEVlHc2sy/Lx80TdnQ/wsOxH0ORkV6Wa5Vhc5wrwuLheL+9Pun0a7/oeZlWbYvJMVHF4ObjJfc11TXVPt+p8Dy/2n8N/Hki2k22+8PakyI/3VdoZCPybHI7g4r+Wpe34fzRxpv36M2k+7i7fc7fcz+sofV+I8pXOv3daCduykr/er/ej2H9rq7i1LVPCeo2/3LnTXmT/ddgR/OvvvFOrGvVwlWO0oNr5tM/PPCilLDUMZRlvGaT9Umip+zJ8IdG8bT3fi3xPZpeabpsy21tbP/q5ptodi47hQyfL0JbngYOfhzwtQzec8fjo80IPlUXs5Wu790k1ps766Kz18SuLMVksIZfgZctSa5pSW6jeyt2baeu6S01d19I+LvAHhTXvCeoaFPoNgkL28nk7LZFaBtp2umBwQeRiv17NciwGNwFTCujFLldrRS5XbRqy0afY/Gcoz7MMDj6eKhWlfmV7yb5lfVO71TXc+I/hTPJa/E7wm8Pyt/bVkn/AXmUH9GNfzbwvOVPO8JJf8/IL75JP8Gf09xVCNTJMZGX/Pqb+ai2vxR+hlf1ifyGFAHhv7RPwbk8Y6ePGnha3KeINLT50iGGuoV5wMf8tF6r3I467cfm3HnCcs1pf2jgV+/gtUt5RXb+9Hp1a07H6Z4e8Xwyar/ZmOf+z1Ho3tGT7/AN2X2uieve/kfhj9oG3uNMj8M/F3wtB4psIPliuHjU3cX/fWAx98q3qTXwGW8dRqUFg+IKCxEFtJpcy+/d+d0+7Z+hZnwBKlXeO4drvDTe8U2oP7tl5WkuyRZ8Z/HTwpp3heTwn8GPDcvh+G/wD+P68eNY5mX+6m1mLEjjezZAyAOcjfN+NMBQwbwHDtF0VP4pWUXbsrNu725m7paLusMn4Ix+Ix6zDiWuqzh8MU2437u6SS68qVm9W+j8Rt4Lm6uI7S1hlmmmdURETczseFUAdST0Ffm1OnKtJQgrtuyS6t9D9PnUjRg51JJJK7b0SS3b7H2f8AAL4LQ/DrSv7f1yFH8Q36fP8AxfY4jz5Q/wBo/wARHfgcDJ/ongbhCOQUFi8Wv9oktf7qf2V5/wAz+S0V3/NnHnGUuIK/1TCO2Hg9OnPL+Z+X8q+b1dl7JX6CfnhxHxg0L/hI/hh4k0tYdz/YJJok9ZIv3ifmyCvnuKsF/aGS4mh15W16x1X4o+i4Qxv9nZ3hq+y5kn6S91/g2fHHwv8AHA8Ex+J38/Y2paDc2cP/AF3dkCMPcZc1/PPDedPJvrTvbnpSiv8AE2kn8tWf0fxPkn9tPCK3wVoyf+FJtr56I9F/ZA8Oi98Yav4kkjGzS7NYE/66zN97/vlHH419b4U4D2uPrYyW0I2XrJ/5Rf3nx3i3mHsMuo4KO85XfpFf5tP5HqP7VXh4ax8L5NVjizNol3Fc57+W/wC7cfT51J/3a+38TMv+uZI68d6Uoy+T91/mn8j4XwtzD6pnyoS2qxlH5r3l/wCktL1Pl6z8Y3EHwr1DwJHLsW41m3v9n95fKkD/APjyQmvxKlm86eSVcsvvUjL5csk/xUT90rZRCefU81ttSlH580XH8HNHuX7G3h0LZ+IPFUkf33j0+F/90eZJ+e6P8q/TvCbAWpV8dLq1BfLV/nH7j8t8X8w/e4bAR6Jza9fdj+UvvPHfjxoU+g/FjxHBPFsFzdtfQt/eWb95kfizD6g1+e8aYGeBz3Exn9qTkvSXvfm2vVH6NwLjYY/h/DSh9mKg/Jx938kn6M+wPg/4x0zxp4B0jUbCdPOt7aO0u4f4oZ0UKykds4yPUEGv6A4VzWlm+U0atJ6pKMl2lFJNP13Xk0fzpxbk9bJc3rUKq0cnKL6OMm2mvyfmmddd3Vvp9vLeXdxHDbwIzyu7BVRQMliT0AFe/WqxoRdSo0kldt6JJbts+eo0pV5qlSTcm7JLVtvZJdz8/fiZ4ih8Z/EPW9f06F3hv7z/AEb5PmaNcIhx6kKDj3xX8qcRZhHN82r4ujtKWndpWitPNJaH9c8NZfLJcnoYOto4R97sm7yevZNtXPWf2ldHuPDvgD4a6Hcf66wsJLab/rokVuD+ua+58QsLPAZZlmFnvCLT9VGCf4nwPhvi4Y/N8zxUNpyTXo5Ta/A6v9jeKNPC+vzcb3v40/BYuP5mvd8Jo/7DiZdedfhH/gngeME/9vw0enI/xl/wD6Jr9aPyE/OPXYY5/GGoQSfdfUpk/OU1/IONhz5jVi+s5L/yZn9kYGXJl1OS6Qi//JUe0fHL9nXR/BPhdPFPggXjw2T/AOnwzSeYyxtgLIuAOFPDdeGzwAa/SuM+AsPk2DWOy3mai/eTd9Hs1otnv636M/MeCPEKvnOP+o5nypyXuNK2q3i9XutvNW6oufsq/FP7Hcf8Kz1y4IhuWabSnf8Agk6vD9G5Yf7W4dWFbeGnEvs5/wBjYl6O7g30e7j89153XVGHijwv7WP9tYSOqsqiXVbKXy2flZ7Jns3x8/5JB4n/AOvVf/RiV+hccf8AJP4n/Cv/AEpH5zwL/wAlFhP8T/8ASWfMX7MH/JY9L/697r/0S1fi3hx/yUFP/DP/ANJZ+4eJn/JOVf8AFD/0pH2/X9Kn8xHL/EtHk+HHitI/vvot6q/9+HrxeI482T4uMf8An1P/ANJZ7PDk1DOcHKX/AD9p/wDpUT4n+CepWek/Ffw3f30qRQi82b3+VV3qyLn05YV/OPB2Ip4XPcNUqOy5rX9U0vxZ/THGuHqYnh/FUqSu+W9l/dab/BH3rc3dvZQSXN1PHDDEu95JHCqijqSTwB71/Uk6kaEZVJtJLVt6JLu2fyhSpTqyVOEW23ZJK7bfRJHwl8dfHNl4/wDiJqGsaXJvsbZFs7R/78aZ+f6Mxcj2IzzX8w8aZ1TzzN54ij8CSjF91Hr82215WP6q4HySpkGT08NXVptuUl2cunqkkn53Ppn9m25gsvgrp11czJFDC97I7udqqqzOSSewA61+y+HtSNLhulUqOyTm23skpO7Z+JeI8JVeJatOmrtqCSW7birJGj4k+F3wp+Munp4gWCCZ7lP3eqac6pI3+9wQxHTDqSOnFdeYcN5FxZSWKik3JaTg7P59G12km1toceWcTZ9wfVeDu0ovWnNXS9Nmk97xaT31Plr4y/CG9+Emr2cP9sR39nqSSPaTbPLkXYRuVxk4I3rgg4PoMYr8S4s4WnwvXhH2ilCd3F7NWtdNfNarfy2P3Tg/i2lxVh5y9m4ThZSW8db2aem9ndPbz3PUdE8b6t4x/Zh8Tx65PJc3WkbbP7Q/zNLHviddx7kbiuepABOTk19tg83r5twTiliW3KnaPM92rxau+rV7eiV9T4fG5Lh8m45wrwiUY1Ly5VolK0k7Lona9u7dtDif2WP+Sv2n/Xnc/wDoFfLeGn/JQQ/wy/I+p8UP+Sen/ij+Zx3xX8P3nhb4j+INKni27L+WeH/bikbzEb/vlh+ORXh8T4CWW5xiKEtPebX+GTvH8Gj6HhXMKWZ5Nhq8P5Un5OK5WvvT+R9tfDfx3pXxD8KWfiDTp0aV41S8hH3oJ9vzow7c8j1GD3r+keH87oZ9gYYug1eyUl1jLqn89u6sz+Y+Isir8PY+eDrRaV24vpKN9Gn6b9ndGx4g8QaR4W0i51zXLyO0srRd7u5/QepPQAck8CvQx+OoZZQnisTJRhFXbf5Lu30W7Z5uX4DEZliIYXCwcpydkl+b7Jbt7Jan5/apcX/xB8cXl1Y2n+meIdSZ4Yf9qaX5V/DIFfyniJ1c9zOc6a96rNtLzlLRfif1zhaVLh/K4Qqy9yjBJvyjHV/O1z2D9rWxj0y/8H6bGfks9LaFP+AMg/pX6B4o0vq1XB0o7Rg19zSPzvwoq/WaWMrveU0/vTZ6R+yKMfC68/7DE/8A6Kir6/wq/wCRJP8A6+S/9JifG+LP/I+h/wBe4/8ApUj2XUv+Qbd/9cZP5Gv0TEfwp+j/ACPzfD/xYeq/M/Pv4X/8lM8Kf9h6w/8AShK/k/hv/kcYP/r7T/8AS0f11xL/AMiPGf8AXqp/6Qz9D6/rY/j8KACgD53+Of7OB8ST3HjHwHDFHqT/ALy8sOEW6Pd4z0Eh7g4Ddcg53flHGfAP9oTlj8qSVR6yhspPvHopd09Hvo9/1vgjxE/s2Mcuzdt01pGe7iu0urj2a1W2q2+b18A+OHv/AOyk8H6x9s37PJ+xS7v5dPfp3r8c/sPNPa+w+rT5u3LK/wCR+0/27lcaXt/rMOTe/NG35/hufTvwE+AH/CGMni/xrBFJrn/LrbZVlslP8RI4Mh9sgDoSTx+18E8Df2RbMMxS9t0juo+fZy9NF012/DeOuPP7YTy7LW1R+1LZz8u6j66t76b+91+nn5aFAEUiRzI6ONyt8rCpnHm92Ww4y5fejufnx4g+HPizR/EGp6XD4a1iaGzvZoUdLKVldUchWDAYIIGQe9fyjmHD+PwmKqUIUZtRlJJqMmmk2k07apn9c5fxFl2KwdKvOvBOUYtpyimm0m01fRp9D6n/AGYPCN54Y+G/2rU7KW2vNVvJLmRJozHIka/u0VlbBH3GYZ/v5r9v8OcqlluT+0qpxlUk5NNWaS91Jp+ja9T8I8TM2pZlnPJQmpQpxSTTum37zaa06pP0PSvFuhR+JvDGr+HZMBdSs5rbJ/hZ0IB/A4NfY5rgo5jgq2Dl9uLXpdWT+T1Pispx0ssx9HGR+xKMvuabXzWh+f7eCPGqyeXJ4O1j5P8AqHy//E1/KLyXMY6ewn/4DL/I/rpZ3lclzLEw/wDA4/5n2p8BPDEnhT4W6JY3MDw3VwjXlwjptcNKxYAjqCE2Ag+lf0lwVlssryShRqK0mnJp6O8nfVd0rL5H8ycdZnHNc+r1abvGLUU1qrRVnZ9nK7+ZR+N3wXsvippkd1ZTx2mu2CMttM/3JV6+VJjnGeQecEnggkVzcY8I0uJKEalJqNaC0b2a/lflfZ9HfTVnVwVxlV4WruFROVCb96K3T/mj0vbRrS6troj5Wl0n4tfB3U5J0tNY0KX7jzQ7jBKv++MpIO+DnHpmvw2WFz/hOu5JTpPur8r+avFr7z95hi+H+LqCjJwqrdRdlJfJ2lF+lg1Txz8XPifGmj3WpavraP8A8ultB8r+m5IlAP4g4oxGdcQcRf7POpOov5YrR+qikn8x4bJeHeGL4iEIUn/NKWq9HJtr5M9n+Bf7OOoaRqdv4y+IEMUU1owmstO4YrJ2eXHAx1VRk5wTjG0/o3BnAFXCYiOY5orOOsYb2fSUumm6S66u1rH5pxx4iUsVh55blLbUtJT2uusY9ddm+2ive5a/a70fWNXtvC40jSLy98l7zeLeB5NmRFjO0HGcHFaeKeExGKhhfq0JSs535U3a/JvZaGHhNjcLg54v6xUjC6hbmklf4trtGh+yVpOqaP4W1yLVdMu7F5L9XRLmFoyy+UORkCuzwvwuIwmBrqvBxfMrcya+yu9jk8V8Xh8Tj6EsPUjJKDvytO3vPse+1+on5Wfn3q3g3xa3jC8mj8K6x5f9pSPv+xS7dvmnnOOlfynisqx8swnKNCdudu/LL+b0P61wmcZdHLoRlXhfkStzRvfl9T75vLO2v7S4sb2BJre5jaKaJx8rowwVPsRX9T1qUK9OVKorxaaaezT0a+Z/JtGtOhVjVpO0otNNbprVNfM+G/iF8J/F/wAPvG89l4f03VLm2hmW7028t4HkPl7sp86g4dSMHocjPQiv5nz3hnH5Dmbp4WEnFNShKKb0vdapfFF6PzV9mj+o+H+Kstz/ACtVMZOMZNOM4yaWtrPRv4WndeTtume/614n1r4h/s86xPd6Df22uLbLbXdo1q6s8wdPnRMZKsPmGBxyO1fquNzLE59wjWlUpSVayjKPK02046xVrtNa6barofkeBy3C8P8AGNGFKrF0OZyjLmTSi1LRu9k09Nd9H1PIf2cPDXiLS/ixpt1qeganaQpBc7pbi1eNBmJscsAK+A8PstxmGz6nUrUZRVpauLS+F9Wj9F8RcywVfh+rToVoyfNHRSi38S6Jn2dX9Dn84Fa5tre5t5LWeMPFMjI6H+JSMEflWc4RqxcJ6pqzXkyqc5UpqcNGmmn2a2Ph/wCJHwE8beCtYuU0zQrzVdHMjNbXlnC037vssiqCUYdCSME9DX81cQcE5nk9eXsaUqlK/uyir6dpJaprrdWfRn9P8O8dZXnOGh7erGnVt70ZNR16uLdk091Z3XVGfpPgv40eOPL0ODTvEd1bJtTZePKttF9WkIUY9OvoDXLhcn4izjlwsYVXH+9zKK+cvdVvv7I68VnHDWR3xTnSjL+6ouT+UdXf7u7Oi+Iv7PXirwt/ZGm+G9Dv9bmezMt/c2kLtH9pMh+ReOFChcZ5PXAzgetn/AeOy32NLB05VXy3lKMW1zNvReSVrdXvpex4/D/H+AzL21bGVY0lzWhGTSfKorV+bd720W2trnrHhX4aeM9a/Z0i8CwzSeH9WmmmeaK8gZfMj8528p+6BvlOQDxxggmvu8t4ezHGcILLE3RqNyupJq65m7PqlLTVJ6aWs2fAZrxFlmE4yeaySrUko2cWnZ8qXMujcddG1rre6R4XL4L+OHwwvZEsdO8Sad/fm015Whl+rxZU/Q8+1fmMsn4l4dquNKFWHnDmcX846P5n6pHOeF+JaS9rOlPsp8qkvlKzXy+8hg8B/GT4maukl3o/iC/uH+T7ZqIdY4l/66SYAA64B+gzUQyXiLiLEJ1KdSctuafMkl6y0S8l8kXLPeGuGsO40qlOEVryw5W2/wDDHVt9382fQWrfC2T4f/s7a34SsTJf6lcRi5uWtkZvNnZ48hFxnACgDjkDJAyRX6vi+G3kXCNfL6V51Grysm7ybjey3skkl6X0ufkGF4n/ALf4xoZhWtCnF8seZpcsUpbva7bbfrbWx5b+zR4a8RaX8VrO61PQdQs4Es7n557V415T1IAr4fw8y/GYbPYTrUZRXLLVxaW3do++8R8ywWJyCdOhWjJ80dFJN79kz3T40/BTTvilZRXtpPFY67Zpstrlx8sqdfKkxztzyCMkEnggkV+ncXcHUuJKSqU5KFaKsn0a/ll1tfZ7rXR3sflfBvGdfhaq6VSLlQk7yit0/wCaPS9t1s9NVa58v3Xw8+M/wy1SSew0fxBYyp8n2zSt7Ruv+/FkYPo2D6ivxWrkPEfD1VypU6kH/NDmaa/xR6eT+4/c6Wf8NcR4dRq1Kcl/LOyaf+GVtfNfeMk8OfG74j3EcF9pvijV3X7jXnm+TF/wKTCJ+YrOWA4k4gnGNWFWp25uay+crRX3o0hmHC/DsHKlOjT78vLzP5RvJ/cz6F+B37PUfgG4TxT4qkgudc2f6PFF80dllcMc/wAbkcZ6AZAznNfrXB3Akcin9exzUq1tEto3316u2l9lra+5+O8a8fyz6H1DAJxoX95vRzttp0jfW270vbY5H9rjRNb1XX/D76Vo97eLHZzb2toHk2fOOu0HFeB4p4LE4rE4Z0KcpWjK/Km+q7I+j8J8bhcJhcTGvUjG8o25pJX0fdo7j9lXTr/Sfhrc2up2FxZzf2rM3lzwtG23yosHaQDivpfDShWw2TyhWg4v2knZpp25Y9GfLeKOIpYrO4VKE1Jezirppq/NLqj1/UF3WFyq/wDPJ/8A0E199iP4U/R/kfn2H/iw9V+Z8HfDXwl4otPiJ4XuJ/DeqxQw63ZO7vZSqqKs6EksRgAdzX8wcPZbjqebYWpKjNJVINtxdkuaN29D+qeI81wFTJsXCFaDbpVEkpRbbcXZJX3Pvuv6lP5RCgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKACgAoAKAP//ZCmVuZHN0cmVhbQplbmRvYmoKOCAwIG9iagoxNjMzNwplbmRvYmoKOSAwIG9iago8PC9MZW5ndGggMTAgMCBSCi9GaWx0ZXIvRmxhdGVEZWNvZGUKPj4Kc3RyZWFtCnicK+QyNjVQAEEjIyMFQ2NDBSMLU4XkXC59TwMFl3yuQC4AcuAGuAplbmRzdHJlYW0KZW5kb2JqCjEwIDAgb2JqCjM5CmVuZG9iagoxMSAwIG9iagpbIDQgMCBSIDkgMCBSXQplbmRvYmoKMTIgMCBvYmoKPDwvUHJvY1NldCAxIDAgUgovWE9iamVjdDw8L0kwIDcgMCBSCj4+Cj4+CmVuZG9iagoxMyAwIG9iago8PC9TdWJqZWN0IChHZW5lcmF0ZWQgb24gQXByaWwgMTgsIDIwMTcsIDk6MDUgYW0pCi9UaXRsZSAoQ29udmVydCBKUEcgdG8gUERGIG9ubGluZSAtIGNvbnZlcnQtanBnLXRvLXBkZi5uZXQpCi9BdXRob3IgKGNvbnZlcnQtanBnLXRvLXBkZi5uZXQpCi9DcmVhdG9yIChjb252ZXJ0LWpwZy10by1wZGYubmV0KQovQ3JlYXRpb25EYXRlIChEOjIwMTcwNDE4MDkwNTUyKzAyJzAwJykKL1Byb2R1Y2VyIChQREZsaWIgTGl0ZSA3LjAuNXAzIFwoUEhQNy9MaW51eC14ODZfNjRcKSkKPj4KZW5kb2JqCjMgMCBvYmoKPDwvVHlwZS9QYWdlCi9QYXJlbnQgMiAwIFIKL0NvbnRlbnRzIDExIDAgUgovUmVzb3VyY2VzIDEyIDAgUgovTWVkaWFCb3hbMCAwIDYxMiA3OTJdCj4+CmVuZG9iagoyIDAgb2JqCjw8L1R5cGUvUGFnZXMKL0NvdW50IDEKL0tpZHNbIDMgMCBSXT4+CmVuZG9iagoxNCAwIG9iago8PC9UeXBlL0NhdGFsb2cKL1BhZ2VzIDIgMCBSCj4+CmVuZG9iagp4cmVmCjAgMTUKMDAwMDAwMDAwNiA2NTUzNSBmIAowMDAwMDAwMDE1IDAwMDAwIG4gCjAwMDAwMTcyODIgMDAwMDAgbiAKMDAwMDAxNzE3OSAwMDAwMCBuIAowMDAwMDAwMDYzIDAwMDAwIG4gCjAwMDAwMDAxNDMgMDAwMDAgbiAKMDAwMDAwMDAwMCAwMDAwMSBmIAowMDAwMDAwMTYwIDAwMDAwIG4gCjAwMDAwMTY2NDcgMDAwMDAgbiAKMDAwMDAxNjY2OCAwMDAwMCBuIAowMDAwMDE2NzgwIDAwMDAwIG4gCjAwMDAwMTY3OTkgMDAwMDAgbiAKMDAwMDAxNjgzMCAwMDAwMCBuIAowMDAwMDE2ODg5IDAwMDAwIG4gCjAwMDAwMTczMzYgMDAwMDAgbiAKdHJhaWxlcgo8PC9TaXplIDE1Ci9Sb290IDE0IDAgUgovSW5mbyAxMyAwIFIKL0lEWzw2NDMyNDEzOEIxRDUxOTFBRkIyMkYxODlEOEM5ODNDRT48NjQzMjQxMzhCMUQ1MTkxQUZCMjJGMTg5RDhDOTgzQ0U+XQo+PgpzdGFydHhyZWYKMTczODQKJSVFT0YK
  &lt;/var-def&gt;

  &lt;var-def name="pdfContent"&gt;
    &lt;script return="pdfContentBase64.toString().decodeBase64()" /&gt;
  &lt;/var-def&gt;
  
        &lt;log level="WARN"&gt;
          &lt;template&gt;Test S3 Component: PDF content created.&lt;/template&gt;
        &lt;/log&gt;
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test S3 Component: performing S3 PUT operation for created PDF file...&lt;/template&gt;
        &lt;/log&gt;

  &lt;var-def name="pdfS3Link"&gt;
    &lt;s3 bucket="${s3_bucket}"&gt;
      &lt;s3-put path="${pdfFileName.toString()}" acl="PublicRead"
              expires-in-seconds="3600" content-type="application/pdf"
              content-disposition="inline"&gt;
        &lt;var name='pdfContent' /&gt;
      &lt;/s3-put&gt;
    &lt;/s3&gt;
  &lt;/var-def&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test S3 Component: PDF stored in S3. link: ${pdfS3Link}&lt;/template&gt;
        &lt;/log&gt;

  &lt;var-def name="htmlFileName"&gt;
    &lt;template&gt;${java.util.UUID.randomUUID()}.html&lt;/template&gt;
  &lt;/var-def&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test S3 Component: generating html file. name: ${htmlFileName}&lt;/template&gt;
        &lt;/log&gt;

  &lt;var-def name="htmlContent"&gt;&lt;![CDATA[
	&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;
	&lt;html&gt;
      &lt;head&gt;
          &lt;meta http-equiv="Content-Type" content="text/html; charset=UTF-8"&gt;
          &lt;meta name="generator" content="ABBYY FineReader 11"&gt;
          &lt;link rel="stylesheet" href="./document_html_link_files/947534d8-be72-4b91-88de-147f59d036a4.css" type="text/css"&gt;
      &lt;/head&gt;
      &lt;body style="background-color:#FFFFFF;"&gt;
      	&lt;p&gt;&lt;span class="font0" style="color:#FC6B03;"&gt;^A/orkFusion&lt;/span&gt;&lt;/p&gt;
      &lt;/body&gt;
	&lt;/html&gt;
  ]]&gt;&lt;/var-def&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test S3 Component: generating html content. content: ${htmlContent}&lt;/template&gt;
        &lt;/log&gt;
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test S3 Component: performing S3 PUT operation for created HTML file...&lt;/template&gt;
        &lt;/log&gt;

  &lt;var-def name="htmlS3Link"&gt;
    &lt;s3 bucket="${s3_bucket}"&gt;
      &lt;s3-put path="${htmlFileName.toString()}" acl="PublicRead"
              expires-in-seconds="3600" content-type="text/html"
              content-disposition="inline"&gt;
        &lt;var name='htmlContent' /&gt;
      &lt;/s3-put&gt;
    &lt;/s3&gt;
  &lt;/var-def&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test S3 Component: HTML file stored in S3. link: ${htmlS3Link}&lt;/template&gt;
        &lt;/log&gt;
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test S3 Component: starting S3 check: performing HTTP GET request for created HTML link...&lt;/template&gt;
        &lt;/log&gt;
  
  &lt;var-def name="s3checkResponse"&gt;
    &lt;http-extended url="${htmlS3Link}" method="GET"/&gt;
  &lt;/var-def&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test S3 Component: response from S3: ${s3checkResponse}&lt;/template&gt;
        &lt;/log&gt;
  
  &lt;script&gt;&lt;![CDATA[
 	if (!s3checkResponse.getWrappedObject().get(0).toString().contains("^A/orkFusion")) {
		throw new Exception("Error during HTTP GET request to S3");
	}
  ]]&gt;&lt;/script&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test S3 Component: S3 check completed successfully.&lt;/template&gt;
        &lt;/log&gt;
 		&lt;log level="WARN"&gt;
          &lt;template&gt;Test S3 Component: starting result data export...&lt;/template&gt;
        &lt;/log&gt;

  &lt;export include-original-data="true"&gt;
    &lt;single-column name="s3_status" value="active" /&gt;
    &lt;single-column name="document_link" value="${pdfS3Link.toList().get(0)}" /&gt;
    &lt;single-column name="document_html_link" value="${htmlS3Link.toList().get(0)}" /&gt;
  &lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>d74460a7-fd9b-45b0-b3b1-69de0bcb0a35</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>Test S3 </name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>d74460a7-fd9b-45b0-b3b1-69de0bcb0a35</uuid>
                                 <version>
                                    <componentUuid>0656bbe1-7c5b-4ce4-b124-2feff1455437</componentUuid>
                                    <incrementalVersion>1.1</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-05-30T12:41:56Z</lastModified>
                                    <versionUuid>e0ac77c1-8b25-4b59-ac0f-b0f6b0c409c1</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>Test S3 </title>
                              <type>SINGLE</type>
                              <uuid>dd5ed5d4-6754-402d-b085-d2910664558a</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>a9690e95-e6b3-4b5d-bab3-25d72fd13779</componentUuid>
                                 <incrementalVersion>1.50</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-05-30T14:40:51Z</lastModified>
                                 <versionUuid>e8de0528-ceb0-4be4-b1fe-d6a3cb06102c</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>3</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>746b7186-6f28-4272-8747-29002ffc9eae</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>36c04858-48e1-4260-b426-01812064d900</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config xmlns="http://web-harvest.sourceforge.net/schema/1.0/config"
	charset="UTF-8" scriptlang="groovy"&gt;
  
        &lt;log level="WARN"&gt;
          &lt;template&gt;Test Datastore Component: starting test...&lt;/template&gt;
        &lt;/log&gt;

  &lt;var-def name="dataStoreName"&gt;
    test_datastore
  &lt;/var-def&gt;
  
        &lt;log level="WARN"&gt;
          &lt;template&gt;Test Datastore Component: creating datastore with name: ${dataStoreName}&lt;/template&gt;
        &lt;/log&gt;

  &lt;create-datastore name="${dataStoreName}"&gt;
    &lt;datastore-column name="column1"/&gt;
  &lt;/create-datastore&gt;
  
        &lt;log level="WARN"&gt;
          &lt;template&gt;Test Datastore Component: datastore created.&lt;/template&gt;
        &lt;/log&gt;

  &lt;script&gt;&lt;![CDATA[
    Map insertedParamMap = new HashMap();
    insertedParamMap.put("column1", "col_1_val");
    jsonValueMap = new com.google.gson.Gson().toJson(insertedParamMap);
  ]]&gt;&lt;/script&gt;
  
        &lt;log level="WARN"&gt;
          &lt;template&gt;Test Datastore Component: inserting values...&lt;/template&gt;
        &lt;/log&gt;

  &lt;insert-datastore datastore-name="${dataStoreName}" json-value-map="${jsonValueMap}"/&gt;
  
        &lt;log level="WARN"&gt;
          &lt;template&gt;Test Datastore Component: values inserted: ${jsonValueMap}&lt;/template&gt;
        &lt;/log&gt;

        &lt;log level="WARN"&gt;
          &lt;template&gt;Test Datastore Component: updating values...&lt;/template&gt;
        &lt;/log&gt;
  
  &lt;datastore name="${dataStoreName}"&gt;
    UPDATE @this SET column1 = 'changed1'
  &lt;/datastore&gt;
  
        &lt;log level="WARN"&gt;
          &lt;template&gt;Test Datastore Component: values updated.&lt;/template&gt;
        &lt;/log&gt;
        &lt;log level="WARN"&gt;
          &lt;template&gt;Test Datastore Component: checking if update completed successfully...&lt;/template&gt;
        &lt;/log&gt;

  &lt;var-def name="selectResultSet"&gt;
    &lt;datastore name="${dataStoreName}"&gt;
      select * from @this;
    &lt;/datastore&gt;
  &lt;/var-def&gt;
  
        &lt;log level="WARN"&gt;
          &lt;template&gt;Test Datastore Component: current datastore state: ${selectResultSet.toList().get(0)}&lt;/template&gt;
        &lt;/log&gt;

  &lt;script&gt;&lt;![CDATA[
    String value = selectResultSet.toList().get(0).get("column1").toString();
    log.warn("column1 value: " + value + " (proper result: changed1)");
    if (!"changed1".equals(value)) {
    	throw Exception ("Column in datastore was not updated properly");
    }
  ]]&gt;&lt;/script&gt;
  
        &lt;log level="WARN"&gt;
          &lt;template&gt;Test Datastore Component: exporting results...&lt;/template&gt;
        &lt;/log&gt;

  &lt;export include-original-data="true"&gt;
    &lt;single-column name="datastore_status" value="active"/&gt;
  &lt;/export&gt;

&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>1a3d6be6-0a10-42aa-9297-a593c0b1225d</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>Test Datastore</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>1a3d6be6-0a10-42aa-9297-a593c0b1225d</uuid>
                                 <version>
                                    <componentUuid>ca3c7091-cb14-45ba-ae65-1c5c554dafb5</componentUuid>
                                    <incrementalVersion>1.1</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-05-30T12:41:56Z</lastModified>
                                    <versionUuid>48ef58c5-2edf-4e77-b407-a223c9c89d65</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>Test Datastore</title>
                              <type>SINGLE</type>
                              <uuid>d3b6c2da-0a4f-4f45-8411-e8098f427453</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>41879bf7-c9c0-4185-8726-0ad53384da6d</componentUuid>
                                 <incrementalVersion>1.48</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-05-30T14:40:51Z</lastModified>
                                 <versionUuid>ee193fbe-e6bf-4fd9-8660-8423460f6549</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>4</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>86cf15dd-0f2f-4d3a-a4d8-cf201fb7d638</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>4aa21110-27fc-4831-a152-d7ee4f2d5b06</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config xmlns="http://web-harvest.sourceforge.net/schema/1.0/config" charset="UTF-8"&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test OCR Component: starting component test...&lt;/template&gt;
        &lt;/log&gt;
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test OCR Component: performing HTTP GET request for image file. link: ${document_image_link}&lt;/template&gt;
        &lt;/log&gt;

  &lt;var-def name="inputImageByteArray"&gt;
    &lt;http url="${document_image_link}"/&gt;
  &lt;/var-def&gt;
  		
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test OCR Component: file obtained.&lt;/template&gt;
        &lt;/log&gt;
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test OCR Component: starting OCR process...&lt;/template&gt;
        &lt;/log&gt;

  &lt;var-def name="ocrResult"&gt;
    &lt;ocr profile="documentConversion" export-format="txt,xml,html"&gt;
      &lt;ocr-image&gt;
        &lt;var name="inputImageByteArray"/&gt;
      &lt;/ocr-image&gt;
    &lt;/ocr&gt;
  &lt;/var-def&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test OCR Component: OCR process completed. result: ${ocrResult}&lt;/template&gt;
        &lt;/log&gt;
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test OCR Component: parsing results...&lt;/template&gt;
        &lt;/log&gt;

  &lt;var-def name="ocrText"&gt;
    &lt;script return="parsedTXTResult"&gt;&lt;![CDATA[
		parsedTXTResult = new String(ocrResult.get(0).wrappedObject.results.get("txt"));
	]]&gt;&lt;/script&gt;
  &lt;/var-def&gt;
  &lt;var-def name="ocrXML"&gt;
    &lt;script return="parsedXMLResult"&gt;&lt;![CDATA[
		parsedXMLResult = new String(ocrResult.get(0).wrappedObject.results.get("xml"));
	]]&gt;&lt;/script&gt;
  &lt;/var-def&gt;
  &lt;var-def name="ocrHTML"&gt;
    &lt;script return="parsedHTMLResult"&gt;&lt;![CDATA[
		parsedHTMLResult = new String(ocrResult.get(0).wrappedObject.results.get("html"));
	]]&gt;&lt;/script&gt;
  &lt;/var-def&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test OCR Component: parsing completed. exporting result data...&lt;/template&gt;
        &lt;/log&gt;

  &lt;export include-original-data="true"&gt;
    &lt;single-column name="ocr_status" value="active" /&gt;
    &lt;single-column name="ocr_result_text" value='${ocrText}'/&gt;
    &lt;single-column name="ocr_result_xml" value='${ocrXML}'/&gt;
    &lt;single-column name="ocr_result_html" value='${ocrHTML}'/&gt;
  &lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>e497b052-6b34-4392-b01f-9b6dcce320b9</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>Test OCR</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>e497b052-6b34-4392-b01f-9b6dcce320b9</uuid>
                                 <version>
                                    <componentUuid>10db4c78-e904-4d4b-85f0-47ef6378a141</componentUuid>
                                    <incrementalVersion>1.1</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-05-30T12:41:56Z</lastModified>
                                    <versionUuid>badd5271-5959-405d-952d-118e47425580</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>Test OCR</title>
                              <type>SINGLE</type>
                              <uuid>960f4048-d595-482e-baa1-526fd8504058</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>4452dfd4-8178-4beb-9021-d2127fb866a6</componentUuid>
                                 <incrementalVersion>1.37</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-05-30T14:40:51Z</lastModified>
                                 <versionUuid>c2797cd0-4060-4fd3-b38d-3601cdff4118</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>5</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>3ad0fe09-3161-4d0f-915c-168d40ee42db</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>ebfa3d73-f069-4a8c-a263-c4e5fda969f6</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>true</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <description>Miscellaneous Tasks</description>
                              <executingType>HUMAN</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <question>
                                 <answers>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>WorkFusion</answer>
                                       <answerCode>ocr_result_html</answerCode>
                                       <answerHtml/>
                                       <answerTypeObject>
                                          <answerTypeGroup>ADVANCED</answerTypeGroup>
                                          <code>INFO_EXTRACTION</code>
                                          <description/>
                                          <optionsAvailable>true</optionsAvailable>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>false</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>false</showForMachineConfig>
                                          <title>Information Extraction</title>
                                          <valueType>SINGLEVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <category/>
                                       <constantable>false</constantable>
                                       <defaultValue/>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <htmlClasses/>
                                       <lastModified>2017-09-06T10:30:01Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <options>{"ieExtractorType":"KEEP_EVERYTHING_EXTRACTOR"}</options>
                                       <originalDocumentSource>${question.data['document_link']}</originalDocumentSource>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>false</required>
                                       <sequenceNumber>1</sequenceNumber>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>Your Answer</answer>
                                       <answerCode>human_task_result</answerCode>
                                       <answerHtml/>
                                       <answerTypeObject>
                                          <answerTypeGroup>UNCONSTRAINED_TEXT</answerTypeGroup>
                                          <code>FREE_TEXT</code>
                                          <description/>
                                          <optionsAvailable>false</optionsAvailable>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>true</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>true</showForMachineConfig>
                                          <title>Free Text</title>
                                          <valueType>SINGLEVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <category/>
                                       <constantable>false</constantable>
                                       <defaultValue/>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <hotKey>w</hotKey>
                                       <htmlClasses/>
                                       <lastModified>2017-09-06T12:48:04Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <parentAnswer>
                                          <allowNA>false</allowNA>
                                          <answer>WorkFusion</answer>
                                          <answerCode>ocr_result_html</answerCode>
                                          <answerHtml/>
                                          <answerTypeObject>
                                             <answerTypeGroup>ADVANCED</answerTypeGroup>
                                             <code>INFO_EXTRACTION</code>
                                             <description/>
                                             <optionsAvailable>true</optionsAvailable>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>false</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>false</showForMachineConfig>
                                             <title>Information Extraction</title>
                                             <valueType>SINGLEVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <category/>
                                          <constantable>false</constantable>
                                          <defaultValue/>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <htmlClasses/>
                                          <lastModified>2017-09-06T10:30:01Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <options>{"ieExtractorType":"KEEP_EVERYTHING_EXTRACTOR"}</options>
                                          <originalDocumentSource>${question.data['document_link']}</originalDocumentSource>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>false</required>
                                          <sequenceNumber>1</sequenceNumber>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </parentAnswer>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>true</required>
                                       <sequenceNumber>2</sequenceNumber>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                 </answers>
                                 <assignmentDuration>1800000</assignmentDuration>
                                 <assignmentLimit>1</assignmentLimit>
                                 <attrs>{"lnaa":"Run","lnam":"Tasks","lna":"0"}</attrs>
                                 <autoApprovalDelay>108000000</autoApprovalDelay>
                                 <automaticallyProcessed>0</automaticallyProcessed>
                                 <blockSize>1</blockSize>
                                 <constQualifiedWorkers>false</constQualifiedWorkers>
                                 <currency>USD</currency>
                                 <description>Miscellaneous Tasks</description>
                                 <dynamicTaskRenderingDisabled>true</dynamicTaskRenderingDisabled>
                                 <expiredTime>2592000000</expiredTime>
                                 <faqItems/>
                                 <frameHeight>2500</frameHeight>
                                 <geolocationEnabled>false</geolocationEnabled>
                                 <instructionItems/>
                                 <keywords>Miscellaneous Tasks</keywords>
                                 <maxAssignments>1</maxAssignments>
                                 <moderation>false</moderation>
                                 <moderationFlag>false</moderationFlag>
                                 <origination>CREATED_MANUALLY</origination>
                                 <pendingAssignmentsLimit>10</pendingAssignmentsLimit>
                                 <qualificationInstruction/>
                                 <qualificationRequirements/>
                                 <qualificationRequirementsRequiredForPreview>false</qualificationRequirementsRequiredForPreview>
                                 <qualificationTasks>20</qualificationTasks>
                                 <qualificationTraining>false</qualificationTraining>
                                 <questionRuleMaps>
                                    <questionRuleMap>
                                       <businessRule>
                                          <content>

package com.freedomoss.requester;

#list any import classes here.
import com.freedomoss.objective.model.RuleContext;
import com.freedomoss.objective.model.RuleContext.MajorityType;
import com.freedomoss.objective.model.RuleAssigmentContext;
import com.freedomoss.objective.model.RuleQuestionContext;
import com.freedomoss.requester.model.AwsHitQuestion;
import com.freedomoss.requester.model.AwsHitQuestionItem;
import com.freedomoss.requester.model.AwsHitQuestionAnswerItem;

import org.slf4j.Logger;
import java.util.ArrayList;
import java.util.List;
import java.util.Set;
import java.util.Map;
import java.util.Iterator;

#declare any global variables here
global RuleContext source
global Logger log
global Map params


rule "Rule context initialization"
auto-focus true
no-loop
dialect "mvel"
agenda-group "initialization-group"
	when
		$ctx:RuleContext(initialized == false);
	then
	    # set parameters

        $ctx.properties[RuleContext.MAJORITY_TYPE] =  RuleContext.MajorityType.COUNT;
        $ctx.properties[RuleContext.MAJORITY_VALUE] = new Integer(1);

        #$ctx.properties[RuleContext.MAX_ASSIGNMENT_LIMIT] = new Integer(1);
        $ctx.properties[RuleContext.MAJORITY_HIT_THRESHOLD] = new Double(100/100);
        $ctx.properties[RuleContext.ASSIGNMENT_APPROVE_THRESHOLD] = new Double(0.5);

        # insert processed facts into memory
        $ctx.updateWorkingMemory();
        # move to business rules
        kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
        $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Worst accuracy rule-Evaluate every 5 gold question and set Accuracy based qualification score to 70 if gold accuracy goes up &lt; 75 percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  5) == 0 &amp;&amp; $campaignStatistic.goldAccuracy &lt; (75/100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, 70);
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Normal accuracy rule-Evaluate every 5 gold question and set Accuracy based qualification score to 80 if gold accuracy goes up &gt;= 75 percents and &lt; 90"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  5) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= (75/ 100) &amp;&amp; $campaignStatistic.goldAccuracy &lt; (90 / 100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, 80);
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Super accuracy rule-Evaluate every 5 gold question and set Accuracy based qualification score to 95 if gold accuracy goes up &gt;= 90 percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  5) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= (90 / 100) )
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, 95);
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "0. Check, if exist majority"
agenda-group "calculation"
dialect "mvel"
salience 100
no-loop
	when
	    $ctx:RuleContext (initialized == true, $gold:gold, $threshold:properties.MAJORITY_HIT_THRESHOLD)
        eval($ctx.majorityWithoutGold().size() &gt;= ($ctx.questions.size() - $gold.size()) *  $threshold)
	then
		insert(new String("MAJORITY_FOUND"));
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "1. Approve question by majority"
agenda-group "calculation"
dialect "mvel"
salience 90
no-loop
	when
		((String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true))
		or
		(not String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true, assignments.size == properties.MAX_ASSIGNMENT_LIMIT)))
		$rqc:RuleQuestionContext()
	then
		$rqc.approveQuestion($ctx.majority());
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rqc);
end

rule "3. Approve assignment (always)"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		$ctx:RuleContext(initialized == true, $threshold:properties.ASSIGNMENT_APPROVE_THRESHOLD)
		$rac:RuleAssigmentContext()
	then
	    insert(new String("ASSIGNMENT_PROCESSED"));
		$ctx.addApproved($rac);
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rac);
end

rule "5. Extend HIT"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		not String(toString == "MAJORITY_FOUND")
		$ctx:RuleContext(initialized == true, assignments.size &lt; properties.MAX_ASSIGNMENT_LIMIT);
	then
		$ctx.setExtendHit(true);
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

</content>
                                          <name>Start with one assignment 1+0 pay all</name>
                                          <paramValues>{"NORMAL_ACCURACY_LEVEL_SCORE":"80","NORMAL_ACCURACY_LEVEL_UPPER_LIMIT":"90","WORST_ACCURACY_LEVEL_SCORE":"70","MAJORITY_HIT_THRESHOLD":"100","SUPER_ACCURACY_LEVEL_LOWER_LIMIT":"90","WORST_ACCURACY_LEVEL_UPPER_LIMIT":"75","SUPER_ACCURACY_LEVEL_SCORE":"95","NORMAL_ACCURACY_LEVEL_LOWER_LIMIT":"75","MAJORITY_VALUE":"1","CHECK_EVERY":"5","MAX_ASSIGNMENT_LIMIT":"1"}</paramValues>
                                          <ruleType>DROOLS</ruleType>
                                          <ruleTypeUI>Adjudication</ruleTypeUI>
                                          <template>
                                             <content>

package com.freedomoss.requester;

#list any import classes here.
import com.freedomoss.objective.model.RuleContext;
import com.freedomoss.objective.model.RuleContext.MajorityType;
import com.freedomoss.objective.model.RuleAssigmentContext;
import com.freedomoss.objective.model.RuleQuestionContext;
import com.freedomoss.requester.model.AwsHitQuestion;
import com.freedomoss.requester.model.AwsHitQuestionItem;
import com.freedomoss.requester.model.AwsHitQuestionAnswerItem;

import org.slf4j.Logger;
import java.util.ArrayList;
import java.util.List;
import java.util.Set;
import java.util.Map;
import java.util.Iterator;

#declare any global variables here
global RuleContext source
global Logger log
global Map params


rule "Rule context initialization"
auto-focus true
no-loop
dialect "mvel"
agenda-group "initialization-group"
	when
		$ctx:RuleContext(initialized == false);
	then
	    # set parameters

        $ctx.properties[RuleContext.MAJORITY_TYPE] =  RuleContext.MajorityType.COUNT;
        $ctx.properties[RuleContext.MAJORITY_VALUE] = new Integer({{MAJORITY_VALUE}});

        #$ctx.properties[RuleContext.MAX_ASSIGNMENT_LIMIT] = new Integer({{MAX_ASSIGNMENT_LIMIT}});
        $ctx.properties[RuleContext.MAJORITY_HIT_THRESHOLD] = new Double({{MAJORITY_HIT_THRESHOLD}}/100);
        $ctx.properties[RuleContext.ASSIGNMENT_APPROVE_THRESHOLD] = new Double(0.5);

        # insert processed facts into memory
        $ctx.updateWorkingMemory();
        # move to business rules
        kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
        $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Worst accuracy rule-Evaluate every {{CHECK_EVERY}} gold question and set Accuracy based qualification score to {{WORST_ACCURACY_LEVEL_SCORE}} if gold accuracy goes up &lt; {{WORST_ACCURACY_LEVEL_UPPER_LIMIT}} percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  {{CHECK_EVERY}}) == 0 &amp;&amp; $campaignStatistic.goldAccuracy &lt; ({{WORST_ACCURACY_LEVEL_UPPER_LIMIT}}/100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, {{WORST_ACCURACY_LEVEL_SCORE}});
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Normal accuracy rule-Evaluate every {{CHECK_EVERY}} gold question and set Accuracy based qualification score to {{NORMAL_ACCURACY_LEVEL_SCORE}} if gold accuracy goes up &gt;= {{NORMAL_ACCURACY_LEVEL_LOWER_LIMIT}} percents and &lt; {{NORMAL_ACCURACY_LEVEL_UPPER_LIMIT}}"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  {{CHECK_EVERY}}) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= ({{NORMAL_ACCURACY_LEVEL_LOWER_LIMIT}}/ 100) &amp;&amp; $campaignStatistic.goldAccuracy &lt; ({{NORMAL_ACCURACY_LEVEL_UPPER_LIMIT}} / 100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, {{NORMAL_ACCURACY_LEVEL_SCORE}});
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Super accuracy rule-Evaluate every {{CHECK_EVERY}} gold question and set Accuracy based qualification score to {{SUPER_ACCURACY_LEVEL_SCORE}} if gold accuracy goes up &gt;= {{SUPER_ACCURACY_LEVEL_LOWER_LIMIT}} percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  {{CHECK_EVERY}}) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= ({{SUPER_ACCURACY_LEVEL_LOWER_LIMIT}} / 100) )
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, {{SUPER_ACCURACY_LEVEL_SCORE}});
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "0. Check, if exist majority"
agenda-group "calculation"
dialect "mvel"
salience 100
no-loop
	when
	    $ctx:RuleContext (initialized == true, $gold:gold, $threshold:properties.MAJORITY_HIT_THRESHOLD)
        eval($ctx.majorityWithoutGold().size() &gt;= ($ctx.questions.size() - $gold.size()) *  $threshold)
	then
		insert(new String("MAJORITY_FOUND"));
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "1. Approve question by majority"
agenda-group "calculation"
dialect "mvel"
salience 90
no-loop
	when
		((String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true))
		or
		(not String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true, assignments.size == properties.MAX_ASSIGNMENT_LIMIT)))
		$rqc:RuleQuestionContext()
	then
		$rqc.approveQuestion($ctx.majority());
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rqc);
end

rule "3. Approve assignment (always)"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		$ctx:RuleContext(initialized == true, $threshold:properties.ASSIGNMENT_APPROVE_THRESHOLD)
		$rac:RuleAssigmentContext()
	then
	    insert(new String("ASSIGNMENT_PROCESSED"));
		$ctx.addApproved($rac);
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rac);
end

rule "5. Extend HIT"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		not String(toString == "MAJORITY_FOUND")
		$ctx:RuleContext(initialized == true, assignments.size &lt; properties.MAX_ASSIGNMENT_LIMIT);
	then
		$ctx.setExtendHit(true);
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

</content>
                                             <description>Get qualified workers: pay if ${MAJORITY_VALUE} correct answers, start with 1 assignment, extend to maximum of ${MAX_ASSIGNMENT_LIMIT} assignments. Set qualification scores depending on gold accuracy.</description>
                                             <name>Start with 1 assignment X+0 rule (pay all)</name>
                                             <params>
                                                <param>
                                                   <code>WORST_ACCURACY_LEVEL_UPPER_LIMIT</code>
                                                   <defaultValue>75</defaultValue>
                                                   <description>Worst accuracy level upper limit in percents exclusive, lower limit is considered as 0</description>
                                                   <name>Worst accuracy level upper limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>MAJORITY_HIT_THRESHOLD</code>
                                                   <defaultValue>100</defaultValue>
                                                   <description>Percent (from 0 to 100) of correct answers when  majority is found</description>
                                                   <name>Percent of correct answers</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>MAJORITY_VALUE</code>
                                                   <defaultValue>1</defaultValue>
                                                   <description>Number of correct answers</description>
                                                   <name>Majority value</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>WORST_ACCURACY_LEVEL_SCORE</code>
                                                   <defaultValue>70</defaultValue>
                                                   <description>Qualification score will be given to a worker who has demonstrated a low accuracy</description>
                                                   <name>Worst accuracy level score</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>SUPER_ACCURACY_LEVEL_LOWER_LIMIT</code>
                                                   <defaultValue>90</defaultValue>
                                                   <description>Super accuracy level lower limit in percents inclusive, upper limit is considered as 100</description>
                                                   <name>Super accuracy level lower limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>CHECK_EVERY</code>
                                                   <defaultValue>5</defaultValue>
                                                   <description>Check every i-th gold question when evaluating qualification score</description>
                                                   <name>Check every i-th gold question</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>MAX_ASSIGNMENT_LIMIT</code>
                                                   <defaultValue>1</defaultValue>
                                                   <description>Maximum number of assignments</description>
                                                   <name>Max assignments limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>NORMAL_ACCURACY_LEVEL_SCORE</code>
                                                   <defaultValue>80</defaultValue>
                                                   <description>Qualification score will be given to a worker who has demonstrated a normal accuracy</description>
                                                   <name>Normal accuracy level score</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>NORMAL_ACCURACY_LEVEL_LOWER_LIMIT</code>
                                                   <defaultValue>75</defaultValue>
                                                   <description>Normal accuracy level lower limit in percents inclusive</description>
                                                   <name>Normal accuracy level lower limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>SUPER_ACCURACY_LEVEL_SCORE</code>
                                                   <defaultValue>95</defaultValue>
                                                   <description>Qualification score will be given to a worker who has demonstrated a super accuracy</description>
                                                   <name>Super accuracy level score</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>NORMAL_ACCURACY_LEVEL_UPPER_LIMIT</code>
                                                   <defaultValue>90</defaultValue>
                                                   <description>Normal accuracy level upper limit in percents exclusive</description>
                                                   <name>Normal accuracy level upper limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                             </params>
                                          </template>
                                          <uuid>f5159a8c-03e8-4863-980c-49185acdf1e1</uuid>
                                          <workflowRuleMode>ADVANCED</workflowRuleMode>
                                       </businessRule>
                                    </questionRuleMap>
                                 </questionRuleMaps>
                                 <radiusSelector>ExactLocation</radiusSelector>
                                 <randomizeAnswers>false</randomizeAnswers>
                                 <recursiveThreshold>1</recursiveThreshold>
                                 <restrictedCountries/>
                                 <taskNotificationSchedule>IMMEDIATE</taskNotificationSchedule>
                                 <templates>
                                    <template>
                                       <code/>
                                       <content>&lt;#include "extras.ftl" parse=true/&gt;
&lt;#include "html.ftl" parse=true/&gt;
&lt;#include "answers.ftl" parse=true/&gt;
&lt;#assign FEEDBACK_ENABLED = true&gt;

&lt;@hit contentCss="${applicationResourceUrl}/workfusion-resources/saas/ms/ms.bootstrap.min.css"&gt;
&lt;@script src="${applicationResourceUrl}/workfusion-resources/bootstrap/js/bootstrap-tab.js"/&gt;  
  

  
&lt;@instructions title="&lt;h2&gt;Integration Testing (WorkSpace)&lt;/h2&gt;"&gt;
  &lt;!--- editable content --&gt;
  &lt;@editable id="__INSTRUCTIONS__"&gt;&lt;h4&gt;Below You should see OCRed text "^Workfusion"&lt;br&gt;&lt;/h4&gt;&lt;p&gt;&lt;span style="font-size: 10pt;" data-mce-style="font-size: 10pt;"&gt;1. Please tag it, you need to tag only "Workfusion" word itself without "^" character.&lt;/span&gt;&lt;/p&gt;&lt;/@editable&gt;
&lt;/@instructions&gt;
&lt;@form&gt;
&lt;#if questions??&gt;
    &lt;div class="thumbnail"&gt;
    &lt;#list questions as question&gt;
      &lt;@report question=question includeAll=true/&gt;
      &lt;div style="position:relative;margin:2px 0px" class="block question"&gt;
           &lt;div style="position:absolute;top:0px;right:0px;background-color:#e0e0e0;padding:1px 4px;border: 1px solid #C0C0C0;border-radius: 0px" class="number"&gt;
                &lt;b&gt;${question_index + 1}&lt;/b&gt;
           &lt;/div&gt;
           &lt;div&gt;
               &lt;div class="place bg-dark"&gt;
                 &lt;@editable id="__DATA__"&gt;Please verify that original document is available. Click &lt;strong&gt;Popup&lt;/strong&gt; link &amp;nbsp;below!&lt;/@editable&gt;
               &lt;/div&gt;
               &lt;div class="place"&gt;
                 &lt;@answers question=question/&gt;
               &lt;/div&gt;
            &lt;/div&gt;
      &lt;/div&gt;
    &lt;/#list&gt;
    &lt;/div&gt;
&lt;/#if&gt;
&lt;@submit text="Submit" /&gt;
&lt;/@form&gt;
&lt;/@hit&gt;</content>
                                       <name>Miscellaneous Tasks (Blank)</name>
                                       <origination>CREATED_AUTOMATICALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>TASK</type>
                                       <uuid>59b71a98-1972-4d83-8506-4c05f147f09a</uuid>
                                       <version>
                                          <componentUuid>48382ec9-4df6-48e1-b2bb-aa3d95969c11</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2017-09-06T12:48:04Z</lastModified>
                                          <versionUuid>33a5015b-600e-4886-a9ab-acc51c660f33</versionUuid>
                                       </version>
                                    </template>
                                 </templates>
                                 <title>Integration Testing (WorkSpace)</title>
                                 <useCommonHitCoordinates>false</useCommonHitCoordinates>
                                 <uuid>85c6aae0-b8bb-4337-a717-69e60ced12f2</uuid>
                                 <version>
                                    <componentUuid>94f0a378-3388-4405-8c8f-3b4940ea8f76</componentUuid>
                                    <incrementalVersion>1.0</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2017-09-06T12:48:04Z</lastModified>
                                    <versionUuid>c086e771-6a1c-4676-bcc2-1a3952a500c4</versionUuid>
                                 </version>
                                 <workSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>HUMAN</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1104</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac8</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac8</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:30Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac8</versionUuid>
                                    </version>
                                    <answers/>
                                    <businessRules>
                                       <businessRule>
                                          <content>

package com.freedomoss.requester;

#list any import classes here.
import com.freedomoss.objective.model.RuleContext;
import com.freedomoss.objective.model.RuleContext.MajorityType;
import com.freedomoss.objective.model.RuleAssigmentContext;
import com.freedomoss.objective.model.RuleQuestionContext;
import com.freedomoss.requester.model.AwsHitQuestion;
import com.freedomoss.requester.model.AwsHitQuestionItem;
import com.freedomoss.requester.model.AwsHitQuestionAnswerItem;

import org.slf4j.Logger;
import java.util.ArrayList;
import java.util.List;
import java.util.Set;
import java.util.Map;
import java.util.Iterator;

#declare any global variables here
global RuleContext source
global Logger log
global Map params


rule "Rule context initialization"
auto-focus true
no-loop
dialect "mvel"
agenda-group "initialization-group"
	when
		$ctx:RuleContext(initialized == false);
	then
	    # set parameters

        $ctx.properties[RuleContext.MAJORITY_TYPE] =  RuleContext.MajorityType.COUNT;
        $ctx.properties[RuleContext.MAJORITY_VALUE] = new Integer(1);

        #$ctx.properties[RuleContext.MAX_ASSIGNMENT_LIMIT] = new Integer(1);
        $ctx.properties[RuleContext.MAJORITY_HIT_THRESHOLD] = new Double(100/100);
        $ctx.properties[RuleContext.ASSIGNMENT_APPROVE_THRESHOLD] = new Double(0.5);

        # insert processed facts into memory
        $ctx.updateWorkingMemory();
        # move to business rules
        kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
        $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Worst accuracy rule-Evaluate every 5 gold question and set Accuracy based qualification score to 70 if gold accuracy goes up &lt; 75 percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  5) == 0 &amp;&amp; $campaignStatistic.goldAccuracy &lt; (75/100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, 70);
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Normal accuracy rule-Evaluate every 5 gold question and set Accuracy based qualification score to 80 if gold accuracy goes up &gt;= 75 percents and &lt; 90"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  5) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= (75/ 100) &amp;&amp; $campaignStatistic.goldAccuracy &lt; (90 / 100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, 80);
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Super accuracy rule-Evaluate every 5 gold question and set Accuracy based qualification score to 95 if gold accuracy goes up &gt;= 90 percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  5) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= (90 / 100) )
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, 95);
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "0. Check, if exist majority"
agenda-group "calculation"
dialect "mvel"
salience 100
no-loop
	when
	    $ctx:RuleContext (initialized == true, $gold:gold, $threshold:properties.MAJORITY_HIT_THRESHOLD)
        eval($ctx.majorityWithoutGold().size() &gt;= ($ctx.questions.size() - $gold.size()) *  $threshold)
	then
		insert(new String("MAJORITY_FOUND"));
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "1. Approve question by majority"
agenda-group "calculation"
dialect "mvel"
salience 90
no-loop
	when
		((String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true))
		or
		(not String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true, assignments.size == properties.MAX_ASSIGNMENT_LIMIT)))
		$rqc:RuleQuestionContext()
	then
		$rqc.approveQuestion($ctx.majority());
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rqc);
end

rule "3. Approve assignment (always)"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		$ctx:RuleContext(initialized == true, $threshold:properties.ASSIGNMENT_APPROVE_THRESHOLD)
		$rac:RuleAssigmentContext()
	then
	    insert(new String("ASSIGNMENT_PROCESSED"));
		$ctx.addApproved($rac);
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rac);
end

rule "5. Extend HIT"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		not String(toString == "MAJORITY_FOUND")
		$ctx:RuleContext(initialized == true, assignments.size &lt; properties.MAX_ASSIGNMENT_LIMIT);
	then
		$ctx.setExtendHit(true);
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

</content>
                                          <name>Start with one assignment 1+0 pay all</name>
                                          <paramValues>{"NORMAL_ACCURACY_LEVEL_SCORE":"80","NORMAL_ACCURACY_LEVEL_UPPER_LIMIT":"90","WORST_ACCURACY_LEVEL_SCORE":"70","MAJORITY_HIT_THRESHOLD":"100","SUPER_ACCURACY_LEVEL_LOWER_LIMIT":"90","WORST_ACCURACY_LEVEL_UPPER_LIMIT":"75","SUPER_ACCURACY_LEVEL_SCORE":"95","NORMAL_ACCURACY_LEVEL_LOWER_LIMIT":"75","MAJORITY_VALUE":"1","CHECK_EVERY":"5","MAX_ASSIGNMENT_LIMIT":"1"}</paramValues>
                                          <ruleType>DROOLS</ruleType>
                                          <ruleTypeUI>Adjudication</ruleTypeUI>
                                          <template>
                                             <content>

package com.freedomoss.requester;

#list any import classes here.
import com.freedomoss.objective.model.RuleContext;
import com.freedomoss.objective.model.RuleContext.MajorityType;
import com.freedomoss.objective.model.RuleAssigmentContext;
import com.freedomoss.objective.model.RuleQuestionContext;
import com.freedomoss.requester.model.AwsHitQuestion;
import com.freedomoss.requester.model.AwsHitQuestionItem;
import com.freedomoss.requester.model.AwsHitQuestionAnswerItem;

import org.slf4j.Logger;
import java.util.ArrayList;
import java.util.List;
import java.util.Set;
import java.util.Map;
import java.util.Iterator;

#declare any global variables here
global RuleContext source
global Logger log
global Map params


rule "Rule context initialization"
auto-focus true
no-loop
dialect "mvel"
agenda-group "initialization-group"
	when
		$ctx:RuleContext(initialized == false);
	then
	    # set parameters

        $ctx.properties[RuleContext.MAJORITY_TYPE] =  RuleContext.MajorityType.COUNT;
        $ctx.properties[RuleContext.MAJORITY_VALUE] = new Integer({{MAJORITY_VALUE}});

        #$ctx.properties[RuleContext.MAX_ASSIGNMENT_LIMIT] = new Integer({{MAX_ASSIGNMENT_LIMIT}});
        $ctx.properties[RuleContext.MAJORITY_HIT_THRESHOLD] = new Double({{MAJORITY_HIT_THRESHOLD}}/100);
        $ctx.properties[RuleContext.ASSIGNMENT_APPROVE_THRESHOLD] = new Double(0.5);

        # insert processed facts into memory
        $ctx.updateWorkingMemory();
        # move to business rules
        kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
        $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Worst accuracy rule-Evaluate every {{CHECK_EVERY}} gold question and set Accuracy based qualification score to {{WORST_ACCURACY_LEVEL_SCORE}} if gold accuracy goes up &lt; {{WORST_ACCURACY_LEVEL_UPPER_LIMIT}} percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  {{CHECK_EVERY}}) == 0 &amp;&amp; $campaignStatistic.goldAccuracy &lt; ({{WORST_ACCURACY_LEVEL_UPPER_LIMIT}}/100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, {{WORST_ACCURACY_LEVEL_SCORE}});
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Normal accuracy rule-Evaluate every {{CHECK_EVERY}} gold question and set Accuracy based qualification score to {{NORMAL_ACCURACY_LEVEL_SCORE}} if gold accuracy goes up &gt;= {{NORMAL_ACCURACY_LEVEL_LOWER_LIMIT}} percents and &lt; {{NORMAL_ACCURACY_LEVEL_UPPER_LIMIT}}"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  {{CHECK_EVERY}}) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= ({{NORMAL_ACCURACY_LEVEL_LOWER_LIMIT}}/ 100) &amp;&amp; $campaignStatistic.goldAccuracy &lt; ({{NORMAL_ACCURACY_LEVEL_UPPER_LIMIT}} / 100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, {{NORMAL_ACCURACY_LEVEL_SCORE}});
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Super accuracy rule-Evaluate every {{CHECK_EVERY}} gold question and set Accuracy based qualification score to {{SUPER_ACCURACY_LEVEL_SCORE}} if gold accuracy goes up &gt;= {{SUPER_ACCURACY_LEVEL_LOWER_LIMIT}} percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  {{CHECK_EVERY}}) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= ({{SUPER_ACCURACY_LEVEL_LOWER_LIMIT}} / 100) )
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, {{SUPER_ACCURACY_LEVEL_SCORE}});
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "0. Check, if exist majority"
agenda-group "calculation"
dialect "mvel"
salience 100
no-loop
	when
	    $ctx:RuleContext (initialized == true, $gold:gold, $threshold:properties.MAJORITY_HIT_THRESHOLD)
        eval($ctx.majorityWithoutGold().size() &gt;= ($ctx.questions.size() - $gold.size()) *  $threshold)
	then
		insert(new String("MAJORITY_FOUND"));
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "1. Approve question by majority"
agenda-group "calculation"
dialect "mvel"
salience 90
no-loop
	when
		((String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true))
		or
		(not String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true, assignments.size == properties.MAX_ASSIGNMENT_LIMIT)))
		$rqc:RuleQuestionContext()
	then
		$rqc.approveQuestion($ctx.majority());
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rqc);
end

rule "3. Approve assignment (always)"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		$ctx:RuleContext(initialized == true, $threshold:properties.ASSIGNMENT_APPROVE_THRESHOLD)
		$rac:RuleAssigmentContext()
	then
	    insert(new String("ASSIGNMENT_PROCESSED"));
		$ctx.addApproved($rac);
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rac);
end

rule "5. Extend HIT"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		not String(toString == "MAJORITY_FOUND")
		$ctx:RuleContext(initialized == true, assignments.size &lt; properties.MAX_ASSIGNMENT_LIMIT);
	then
		$ctx.setExtendHit(true);
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

</content>
                                             <description>Get qualified workers: pay if ${MAJORITY_VALUE} correct answers, start with 1 assignment, extend to maximum of ${MAX_ASSIGNMENT_LIMIT} assignments. Set qualification scores depending on gold accuracy.</description>
                                             <name>Start with 1 assignment X+0 rule (pay all)</name>
                                             <params>
                                                <param>
                                                   <code>WORST_ACCURACY_LEVEL_UPPER_LIMIT</code>
                                                   <defaultValue>75</defaultValue>
                                                   <description>Worst accuracy level upper limit in percents exclusive, lower limit is considered as 0</description>
                                                   <name>Worst accuracy level upper limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>MAJORITY_HIT_THRESHOLD</code>
                                                   <defaultValue>100</defaultValue>
                                                   <description>Percent (from 0 to 100) of correct answers when  majority is found</description>
                                                   <name>Percent of correct answers</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>MAJORITY_VALUE</code>
                                                   <defaultValue>1</defaultValue>
                                                   <description>Number of correct answers</description>
                                                   <name>Majority value</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>WORST_ACCURACY_LEVEL_SCORE</code>
                                                   <defaultValue>70</defaultValue>
                                                   <description>Qualification score will be given to a worker who has demonstrated a low accuracy</description>
                                                   <name>Worst accuracy level score</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>SUPER_ACCURACY_LEVEL_LOWER_LIMIT</code>
                                                   <defaultValue>90</defaultValue>
                                                   <description>Super accuracy level lower limit in percents inclusive, upper limit is considered as 100</description>
                                                   <name>Super accuracy level lower limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>CHECK_EVERY</code>
                                                   <defaultValue>5</defaultValue>
                                                   <description>Check every i-th gold question when evaluating qualification score</description>
                                                   <name>Check every i-th gold question</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>MAX_ASSIGNMENT_LIMIT</code>
                                                   <defaultValue>1</defaultValue>
                                                   <description>Maximum number of assignments</description>
                                                   <name>Max assignments limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>NORMAL_ACCURACY_LEVEL_SCORE</code>
                                                   <defaultValue>80</defaultValue>
                                                   <description>Qualification score will be given to a worker who has demonstrated a normal accuracy</description>
                                                   <name>Normal accuracy level score</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>NORMAL_ACCURACY_LEVEL_LOWER_LIMIT</code>
                                                   <defaultValue>75</defaultValue>
                                                   <description>Normal accuracy level lower limit in percents inclusive</description>
                                                   <name>Normal accuracy level lower limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>SUPER_ACCURACY_LEVEL_SCORE</code>
                                                   <defaultValue>95</defaultValue>
                                                   <description>Qualification score will be given to a worker who has demonstrated a super accuracy</description>
                                                   <name>Super accuracy level score</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>NORMAL_ACCURACY_LEVEL_UPPER_LIMIT</code>
                                                   <defaultValue>90</defaultValue>
                                                   <description>Normal accuracy level upper limit in percents exclusive</description>
                                                   <name>Normal accuracy level upper limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                             </params>
                                          </template>
                                          <uuid>f5159a8c-03e8-4863-980c-49185acdf1e1</uuid>
                                          <workflowRuleMode>ADVANCED</workflowRuleMode>
                                       </businessRule>
                                    </businessRules>
                                    <isPrivate>false</isPrivate>
                                    <items>
                                       <item>
                                          <type>HIT_EXPIRES_IN</type>
                                          <value>2592000000</value>
                                       </item>
                                       <item>
                                          <type>RECOMMENDATION_TAGS</type>
                                          <value>["information_extraction"]</value>
                                       </item>
                                       <item>
                                          <type>AUTOMATICALLY_APPROVED</type>
                                          <value>432000000</value>
                                       </item>
                                       <item>
                                          <type>TIME_PER_ASSIGNMENT</type>
                                          <value>1800000</value>
                                       </item>
                                       <item>
                                          <type>TITLE</type>
                                          <value>Miscellaneous Tasks</value>
                                       </item>
                                    </items>
                                    <template>
                                       <code/>
                                       <content>&lt;#include "extras.ftl" parse=true/&gt;
&lt;#include "html.ftl" parse=true/&gt;
&lt;#include "answers.ftl" parse=true/&gt;
&lt;#assign FEEDBACK_ENABLED = true&gt;

&lt;@hit contentCss="${applicationResourceUrl}/workfusion-resources/saas/ms/ms.bootstrap.min.css"&gt;
&lt;@script src="${applicationResourceUrl}/workfusion-resources/bootstrap/js/bootstrap-tab.js"/&gt;  
  

  
&lt;@instructions title="&lt;h2&gt;BLANK&lt;/h2&gt;"&gt;
  &lt;!--- editable content --&gt;
  &lt;@editable id="__INSTRUCTIONS__"&gt;&lt;br&gt;&lt;br&gt;&lt;/@editable&gt;
&lt;/@instructions&gt;
&lt;@form&gt;
&lt;#if questions??&gt;
    &lt;div class="thumbnail"&gt;
    &lt;#list questions as question&gt;
      &lt;@report question=question includeAll=true/&gt;
      &lt;div style="position:relative;margin:2px 0px" class="block question"&gt;
           &lt;div style="position:absolute;top:0px;right:0px;background-color:#e0e0e0;padding:1px 4px;border: 1px solid #C0C0C0;border-radius: 0px" class="number"&gt;
                &lt;b&gt;${question_index + 1}&lt;/b&gt;
           &lt;/div&gt;
           &lt;div&gt;
               &lt;div class="place bg-dark"&gt;
                 &lt;@editable id="__DATA__"&gt;${question.data.blank} &lt;br&gt;&lt;br&gt;&lt;/@editable&gt;
               &lt;/div&gt;
               &lt;div class="place"&gt;
                 &lt;@answers question=question/&gt;
               &lt;/div&gt;
            &lt;/div&gt;
      &lt;/div&gt;
    &lt;/#list&gt;
    &lt;/div&gt;
&lt;/#if&gt;
&lt;@submit text="Submit" /&gt;
&lt;/@form&gt;
&lt;/@hit&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc3</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc3</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc3</versionUuid>
                                       </version>
                                    </template>
                                 </workSetting>
                              </question>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>Integration Testing (WorkSpace)</title>
                              <type>SINGLE</type>
                              <uuid>fe885df5-59ea-4b92-9197-50d78b90db90</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>df6c7c7a-ab31-499f-a03a-67eaf49d939d</componentUuid>
                                 <incrementalVersion>1.0</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2017-09-06T12:48:04Z</lastModified>
                                 <versionUuid>607d5a44-f96d-4a00-8ba1-adc458b53e1a</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>6</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>c7d0326e-a898-4444-b704-11707e75ba95</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>2d65ff08-d517-48eb-9962-eb79cc962920</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config xmlns="http://web-harvest.sourceforge.net/schema/1.0/config"&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test GhostScript Component: starting component test...&lt;/template&gt;
        &lt;/log&gt;

    	&lt;log level="WARN"&gt;
          &lt;template&gt;Test GhostScript Component: using S3 bucket: ${s3_bucket}&lt;/template&gt;
        &lt;/log&gt;

  &lt;var-def name="completed_tiff"&gt;false&lt;/var-def&gt;

  &lt;var-def name='document_uuid'&gt;
    &lt;template&gt;${java.util.UUID.randomUUID().toString()}&lt;/template&gt;
  &lt;/var-def&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test GhostScript Component: generating document ID: ${document_uuid}&lt;/template&gt;
        &lt;/log&gt;
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test GhostScript Component: staring innner script...&lt;/template&gt;
        &lt;/log&gt;

  &lt;var-def name="scaledPath"&gt;
    &lt;script return="scale(document_link.toString()).getAbsolutePath()"&gt;
      &lt;![CDATA[ 
      	import java.io.BufferedReader;
        import java.io.File;
        import java.io.IOException;
        import java.io.InputStreamReader;
        import java.net.URL;

        import com.google.common.io.Files;
        import org.apache.commons.io.FileUtils;
        import org.apache.commons.io.FilenameUtils;
		import org.apache.commons.lang3.ArrayUtils;

        //for s3 private bucket
        import org.apache.http.client.methods.CloseableHttpResponse;
        import org.apache.http.client.methods.HttpHead;
        import org.apache.http.impl.client.CloseableHttpClient;
        import org.apache.http.impl.client.HttpClients;
        import org.apache.http.util.EntityUtils;
        import com.freedomoss.appliance.impl.S3SecuredDocumentsHandler;
        import com.freedomoss.spring.ApplicationContextProvider;

        static boolean checkIfS3PrivateBucket(String url) {
          CloseableHttpClient httpclient = null;
          CloseableHttpResponse response = null;
          int statusCode = -1;

          try {
            httpclient = HttpClients.createDefault();
            HttpHead httpHead = new HttpHead(url);
            response = httpclient.execute(httpHead);
            statusCode = response.getStatusLine().getStatusCode();

            // do something useful with the response body
            // and ensure it is fully consumed
            EntityUtils.consume(response.getEntity());
            log.warn("Status: " + statusCode);
          } catch(Exception e) {
            log.error(e.getMessage());
            throw e;
          } finally {
            if (response != null) {
              response.close();
            }
            if (httpclient != null) {
              httpclient.close();
            }
          }
          log.warn("S3 check - End");
          return statusCode == 403;
        }

        static File scale(String documentLink) throws IOException, InterruptedException {
          log.warn("Creating baseDir directory...");

          File baseDir = Files.createTempDir();

          log.warn("Base diretory created.");

          sys.defineVariable("base_dir_path", baseDir.getAbsolutePath());
          log.warn("Base diretory: " + baseDir.getAbsolutePath());

          File inputFolder = new File(baseDir, "input");
		
		  log.warn("Cheking PDF S3 link...");
          if (checkIfS3PrivateBucket(documentLink)) {
            log.warn("Link is secured");
            S3SecuredDocumentsHandler documentsHandler = ApplicationContextProvider.getContext().getBean(S3SecuredDocumentsHandler.class);
            documentLink = documentsHandler.generatePreSignedLink(documentLink, 60).toString();
          }
          log.warn("S3 PDF link: " + documentLink);   
          URL documentUrl = new URL(documentLink);
          String inputFileName = FilenameUtils.getName(documentUrl.getPath());
          if (inputFileName == null || inputFileName.isEmpty()) {
            inputFileName = "input.pdf";
          }

          log.warn("Creating input PDF file...");

          File inputFile = new File(inputFolder, inputFileName);
          FileUtils.copyURLToFile(documentUrl, inputFile);

          log.warn("Creating output folder...");

          File outputFolder = new File(baseDir, "output");
          FileUtils.forceMkdir(outputFolder);

		  log.warn("Output folder created: " + outputFolder.getAbsolutePath());

          File result = new File(baseDir, "combined.tiff");
		  String gsResultFileName = "\\gs_result.tiff";
		  String gsExecutive;
		  String[] imExecutive;
          log.warn("Input and Output folders created.");
          log.warn("GS output file: " + outputFolder.getAbsolutePath() + gsResultFileName);
          log.warn("GS input file: " + inputFile.getAbsolutePath());
		  log.warn("Starting GS script...");

          try {
			if(getOS()){
				gsExecutive = "gswin64c";		
				imExecutive = new String[] {"magick", "convert"};			
			}
			else{
				gsExecutive = "gs";
				imExecutive = new String[] {"convert"};
			}

		
            invoke(new ProcessBuilder(new String[] {
              gsExecutive,
              "-r400",
              "-q",
              "-dBATCH",
              "-dNOPAUSE",
              "-sDEVICE=tiff24nc",
              "-sCompression=lzw",
              "-dShowAnnots=false",
              "-sOutputFile=" + outputFolder.getAbsolutePath() + gsResultFileName,
			  inputFile.getAbsolutePath(),
              "-c", "quit"})); 
            } catch (Exception e) {
              log.warn("Errors during Ghost Script run!");
              log.error(e.getMessage());	
            }
			
			log.warn("GhostScript completed.");
            log.warn("Starting ImageMagic convert script...");

		

			imParameters = new String[] {"-background", "white", 
										 "-colorspace", "gray", 
										 outputFolder.getAbsolutePath() + gsResultFileName, 
										 result.getAbsolutePath()};

			imResultCommand = (String[])ArrayUtils.addAll(imExecutive, imParameters);

            invoke(new ProcessBuilder(imResultCommand));

            log.warn("ImageMagic convert operation completed.");

            return result;
          }
		     static boolean getOS(){
				return ((String)System.getProperties().get("os.name")).contains("Windows");
			}
          static void invoke(ProcessBuilder builder) throws IOException, InterruptedException {
            builder.redirectErrorStream(true);
			
			builderCommand = builder.command();
            log.warn("Command: " + builderCommand);
            Process process = builder.start();

            BufferedReader in = new BufferedReader(new InputStreamReader(process.getInputStream()));
            String line = "";
            while ((line = in.readLine()) != null) {
              log.error(line);
            }
            in.close();

            int code = process.waitFor();
            if (code != 0) {
              sys.defineVariable("error_return_code",code,true);
              sys.defineVariable("error_return_message",line,true);
              log.error(line);
              throw new RuntimeException("Failed to invoke process: " + builderCommand + ". Return code: " + code);
            }
          }
       ]]&gt;
    &lt;/script&gt;
  &lt;/var-def&gt;
  
        &lt;log level="WARN"&gt;
          &lt;template&gt;Test GhostScript Component: inner script completed: result: ${scaledPath}&lt;/template&gt;
        &lt;/log&gt;

  &lt;var-def name="content"&gt;
    &lt;file path="${scaledPath}" type="binary" /&gt;
  &lt;/var-def&gt;
  
        &lt;log level="WARN"&gt;
          &lt;template&gt;Test GhostScript Component: binary file with scaled image created. puting it to S3 storage...&lt;/template&gt;
        &lt;/log&gt;

  &lt;var-def name="s3Links"&gt;
    &lt;s3 bucket="${s3_bucket}"&gt;
      &lt;s3-put path="tiff/${document_uuid}.tiff" acl="PublicReadWrite" content-type="image/tiff" content-disposition="inline"&gt;
        &lt;var name="content" /&gt;
      &lt;/s3-put&gt;
    &lt;/s3&gt;
  &lt;/var-def&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test GhostScript Component: file put to S3. link: ${s3Links}&lt;/template&gt;
        &lt;/log&gt;

  &lt;var-def name="completed_tiff"&gt;true&lt;/var-def&gt;

  &lt;var-def name="document_image_link"&gt;
    &lt;template&gt;${s3Links.toList().get(0).toString()}&lt;/template&gt;
  &lt;/var-def&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test GhostScript Component: checking if file created successfully...&lt;/template&gt;
        &lt;/log&gt;

  &lt;script language="groovy"&gt;&lt;![CDATA[
    def tiffCreated = completed_tiff.toString().toBoolean()

    if (!tiffCreated) {
      def errorCode = error_return_code.toString()
      def errorMessage = error_return_message.toString()
      throw new RuntimeException("PDF to TIFF conversion has failed. Error code: " + errorCode + ". Error message: " + errorMessage)
    }
  ]]&gt;&lt;/script&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test GhostScript Component: check completed. exporing result data...&lt;/template&gt;
        &lt;/log&gt;

  &lt;export include-original-data="true"&gt;
    &lt;single-column name="document_image_link" value="${document_image_link}" /&gt;
    &lt;single-column name="ghost_script_status" value="active" /&gt;
  &lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>47f99b76-88af-4ee9-9046-a0e80c936856</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>Test GhostScript</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>47f99b76-88af-4ee9-9046-a0e80c936856</uuid>
                                 <version>
                                    <componentUuid>6d537c6e-dc26-46b2-aa63-1a443a6791cd</componentUuid>
                                    <incrementalVersion>1.0</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-05-15T11:12:39Z</lastModified>
                                    <versionUuid>e8b2a10c-f42c-4bb5-b16a-5d7dfa0fc719</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>Test GhostScript</title>
                              <type>SINGLE</type>
                              <uuid>d1ef51ac-5c01-4798-80bd-04b3937246e1</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>7c39a2e2-5c35-49a0-8515-22f36a3300fe</componentUuid>
                                 <incrementalVersion>1.0</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-05-15T11:12:39Z</lastModified>
                                 <versionUuid>bd723ab3-47a1-4de2-9dea-577412b66369</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>7</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>359507f8-e6be-4118-9c50-b83a536691e6</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>3e362764-ba8a-4dbe-9532-7227d7900f9f</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config xmlns="http://web-harvest.sourceforge.net/schema/1.0/config"
        scriptlang="groovy"&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;RPA: Test IE Browser Component: starting component test...&lt;/template&gt;
        &lt;/log&gt;
  		&lt;log level="WARN"&gt;
          &lt;template&gt;RPA: Test IE Browser Component: starting selenium flow...&lt;/template&gt;
        &lt;/log&gt;

  	&lt;case&gt;
        &lt;if condition="${test_ie_driver.toString() == 'true'}"&gt;
        	  &lt;selenium-flow&gt;
                &lt;selenium browser="internet explorer" name="ieWrapper"&gt;
                  &lt;script&gt;&lt;![CDATA[
                    import org.openqa.selenium.WebElement;

                    scrapingCheckTxt = "Yahoo";

                    ieDriver = ieWrapper.getWrappedObject();
                    ieDriver.get("https://www.yahoo.com/");
                    WebElement element = ieDriver.findElement(By.xpath("/html/head/title"));
                    testStr = element.getAttribute("innerHTML");

                    if (!testStr.equals(scrapingCheckTxt)) {
                        throw new Exception("Scrapped Text is not equals to the check string. check string: " + scrapingCheckTxt + " got: " + testStr + " \n Please check original web site. There could be changes.");
                    } 
                  ]]&gt;&lt;/script&gt;
                &lt;/selenium&gt;
              &lt;/selenium-flow&gt;          
        &lt;/if&gt;
    &lt;/case&gt;
  		&lt;log level="WARN"&gt;
          &lt;template&gt;RPA: Test IE Browser Component: exporting reslut data.&lt;/template&gt;
        &lt;/log&gt;

  &lt;export include-original-data="true"&gt;
    &lt;single-column name="rpa_ie_browser_status" value="active" /&gt;
  &lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>9f6943b0-53fb-490f-8c9a-e3b3c6d551ed</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>RPA: Test IE Browser</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>9f6943b0-53fb-490f-8c9a-e3b3c6d551ed</uuid>
                                 <version>
                                    <componentUuid>a08c6d79-f41d-4e99-8ebe-1217b4922b6d</componentUuid>
                                    <incrementalVersion>1.0</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-05-15T11:37:47Z</lastModified>
                                    <versionUuid>012dad35-a183-4ef1-b04a-484839786865</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>RPA: Test IE Browser</title>
                              <type>SINGLE</type>
                              <uuid>70bb2a90-83b3-48a0-9a6d-48794ac9ddc3</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>087b2e96-4eaf-48ba-8c7d-c31972e93aae</componentUuid>
                                 <incrementalVersion>1.0</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-05-15T11:37:47Z</lastModified>
                                 <versionUuid>a06d9f4e-b020-43dc-b267-427d552c7710</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>8</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>5451d4b9-4421-4649-a960-1bbde3b582ce</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>d5c657d6-95aa-4529-8abb-287157f1fb0c</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config xmlns="http://web-harvest.sourceforge.net/schema/1.0/config"
	scriptlang="groovy"&gt;
  
 		&lt;log level="WARN"&gt;
          &lt;template&gt;RPA: Test Desktop Driver Component: starting component test...&lt;/template&gt;
        &lt;/log&gt;
  		&lt;log level="WARN"&gt;
          &lt;template&gt;RPA: Test Desktop Driver Component: starting selenium flow...&lt;/template&gt;
        &lt;/log&gt;
	&lt;case&gt;
        &lt;if condition="${test_desktop_driver.toString() == 'true'}"&gt;
            &lt;selenium-flow&gt;
                &lt;selenium browser="autoit" name="desktopWrapper"&gt;
                  &lt;var-def name="autoit_status"&gt;
                    &lt;script return="checkFlag"&gt;&lt;![CDATA[

                        log.warn("import timeUnit library for setup timeouts");
                        import java.util.concurrent.TimeUnit;

                        log.warn("initialize and config autoit driver");
                        sDriver = desktopWrapper.getWrappedObject();
                        sDriver.manage().timeouts().implicitlyWait(1, TimeUnit.MINUTES);

                        log.warn("start notepad.exe and switch to notepad window");
                        sDriver.get("notepad.exe");
                        sDriver.switchTo().window("[CLASS:Notepad]");
                        def keyboard = sDriver.getKeyboard();

                        log.warn("entering test string to notepad");
                        initialStr = "test";
                        [initialStr].each {
                            testChr = it.toString();
                            keyboard.sendKeys(testChr);
                        }

                        log.warn("copying string to clipboard");
                        keyboard.sendKeys("^a");
                        keyboard.sendKeys("^c");		

                        log.warn("checking results");
                        checkFlag = "not working";

                        checkStr = clipboard().clipboardText();
                        if (checkStr.equals(initialStr)) {
                            checkFlag = "active";
                        }
                    ]]&gt;&lt;/script&gt;      		
                  &lt;/var-def&gt;
                &lt;/selenium&gt;
            &lt;/selenium-flow&gt;
        &lt;/if&gt;
    &lt;/case&gt;
  		&lt;log level="WARN"&gt;
          &lt;template&gt;RPA: Test Desktop Driver Component: exporting result data.&lt;/template&gt;
        &lt;/log&gt;

	&lt;export include-original-data="true"&gt;
		&lt;single-column name="rpa_desktop_status" value="${autoit_status}" /&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>a44ba56a-9cef-4af7-ba46-09e211ea54bc</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>RPA: Test Desktop Driver</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>a44ba56a-9cef-4af7-ba46-09e211ea54bc</uuid>
                                 <version>
                                    <componentUuid>04285a31-d436-4e6d-8646-eeef2352b4b7</componentUuid>
                                    <incrementalVersion>1.0</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-05-15T11:37:47Z</lastModified>
                                    <versionUuid>5111797f-39b4-41bf-9b0d-284a72abb81d</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>RPA: Test Desktop Driver</title>
                              <type>SINGLE</type>
                              <uuid>a1ab8e10-c486-4ec6-bade-ca4d888b5922</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>78faf98f-616b-491b-9858-5ac7a4fbbce9</componentUuid>
                                 <incrementalVersion>1.0</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-05-15T11:37:47Z</lastModified>
                                 <versionUuid>7a0e77d5-35d2-4da0-a1ce-188d85a6f339</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>9</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>c9f01708-c51e-4dab-9dd0-5469e6084208</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>8f95f763-84d4-40b1-b9ac-bb3a42eec70d</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config xmlns="http://web-harvest.sourceforge.net/schema/1.0/config"
        scriptlang="groovy"&gt;
  
    	&lt;log level="WARN"&gt;
          &lt;template&gt;RPA: Test Chrome Browser Component: starting component test...&lt;/template&gt;
        &lt;/log&gt;
  		&lt;log level="WARN"&gt;
          &lt;template&gt;RPA: Test Chrome Browser Component: starting selenium flow...&lt;/template&gt;
        &lt;/log&gt;
 	&lt;case&gt;
        &lt;if condition="${test_chrome_driver.toString() == 'true'}"&gt;
          &lt;selenium-flow&gt;
            &lt;selenium browser="chrome" name="chromeWrapper"&gt;
              &lt;script&gt;&lt;![CDATA[
                import org.openqa.selenium.WebElement;

                scrapingCheckTxt = "Yahoo";

                chromeDriver = chromeWrapper.getWrappedObject();
                chromeDriver.get("https://www.yahoo.com/");
                WebElement element = chromeDriver.findElement(By.xpath("/html/head/title"));
                testStr = element.getAttribute("innerHTML");

                if (!testStr.equals(scrapingCheckTxt)) {
                    throw new Exception("Scrapped Text is not equals to the check string. check string: " + scrapingCheckTxt + " got: " + testStr + " \n Please check original web site. There could be changes.");
                } 
              ]]&gt;&lt;/script&gt;
            &lt;/selenium&gt;
          &lt;/selenium-flow&gt;
        &lt;/if&gt;
    &lt;/case&gt;  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;RPA: Test Chrome Browser Component: exporting result data.&lt;/template&gt;
        &lt;/log&gt;

  &lt;export include-original-data="true"&gt;
    &lt;single-column name="rpa_chrome_browser_status" value="active" /&gt;
  &lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>76e7951c-4e57-4056-9db9-79c7ffcaf04f</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>RPA: Test Chrome Browser</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>76e7951c-4e57-4056-9db9-79c7ffcaf04f</uuid>
                                 <version>
                                    <componentUuid>fc51d01a-4d6a-41d3-8eff-5911b1b7fe6b</componentUuid>
                                    <incrementalVersion>1.0</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-05-15T11:37:47Z</lastModified>
                                    <versionUuid>88ee1c6a-7ed9-4a21-985e-0e87d4cec3bf</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>RPA: Test Chrome Browser</title>
                              <type>SINGLE</type>
                              <uuid>e9d802a2-f6bc-4e02-ae58-45f0f2944d5a</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>76f7944b-8339-48cb-b582-bd79f4bd2b52</componentUuid>
                                 <incrementalVersion>1.0</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-05-15T11:37:47Z</lastModified>
                                 <versionUuid>d800adcc-4a01-4ecd-8ef5-dc54d4b34abd</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>10</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>19e7e0cd-8464-4ba7-be27-b668a8d03ea2</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content># Rule.Definition={"moderationRule":false,"approveAllRule":false,"splitData":false,"splitRule":false,"splitRuleSuffix":"","joinRule":false,"joinRuleSuffix":"","streamingRule":false,"streamingRuleSuffix":"","namedRule":false,"namedRuleName":""}
package com.freedomoss.requester;

# list any import classes here.
import java.util.Map;
import java.util.ArrayList;
import com.freedomoss.objective.model.CompositeRuleContext;
import com.freedomoss.objective.model.CompositeRuleDataItemContext;
import org.slf4j.Logger;


# declare any global variables here
global CompositeRuleContext source
global Logger log
global Map params


rule "Rule context initialization"
auto-focus true
no-loop
agenda-group "initialization-group"
    when
        $ctx:CompositeRuleContext(initialized == false);
    then
        # insert processed facts into memory
        $ctx.updateWorkingMemory();
        # move to business rules
        kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
end

# RuleOutcome.Definition={"outcomeId":"No","conditional":true,"reworkBySameWorker":false,"assignToSameWorker":false,"anableLogging":false,"sendRejectNotification":false,"assignToAnyWorker":false,"approveRelatedAssignments":false,"rejectRelatedAssignments":false,"renameAutomationAnswerItem":false,"conditions":[{"fieldName":"test_rpa","value":"false","operator":"EQ"}],"customConditions":[]}
rule "1. Send records to 'No' when test_rpa EQ 'false'"
agenda-group "calculation"
dialect "mvel"
salience 100
    when
        $ctx:CompositeRuleContext(initialized == true);
        $item:CompositeRuleDataItemContext();
        eval($item.checkValue("test_rpa", "EQ", "false"));

    then
        $ctx.sendResultTo("No", $item);
end

# RuleOutcome.Definition={"outcomeId":"Yes","conditional":true,"reworkBySameWorker":false,"assignToSameWorker":false,"anableLogging":false,"sendRejectNotification":false,"assignToAnyWorker":false,"approveRelatedAssignments":false,"rejectRelatedAssignments":false,"renameAutomationAnswerItem":false,"conditions":[{"fieldName":"test_rpa","value":"true","operator":"EQ"}],"customConditions":[]}
rule "2. Send records to 'Yes' when test_rpa EQ 'true'"
agenda-group "calculation"
dialect "mvel"
salience 100
    when
        $ctx:CompositeRuleContext(initialized == true);
        $item:CompositeRuleDataItemContext();
        eval($item.checkValue("test_rpa", "EQ", "true"));

    then
        $ctx.sendResultTo("Yes", $item);
end



rule "Send unprocessed result to unconditional outcome(s)"
agenda-group "calculation"
dialect "mvel"
salience 80
    when
        $ctx:CompositeRuleContext(initialized == true);
        $item:CompositeRuleDataItemContext();
    then
        $ctx.sendResultToUnconditionalOutcomes($item, true);
end</content>
                              <name>Is RPA Included?</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>2b548ff4-0897-40b8-9e1a-54a017de3df6</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test Empty Component: empty component...&lt;/template&gt;
        &lt;/log&gt;
  
	&lt;export include-original-data="true"&gt;&lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>001596a5-50ab-442e-94e0-b4a604880f87</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>Empty</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>001596a5-50ab-442e-94e0-b4a604880f87</uuid>
                                 <version>
                                    <componentUuid>004f1c8f-50bb-4556-9862-a9d7ca974426</componentUuid>
                                    <incrementalVersion>1.1</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-05-30T12:41:56Z</lastModified>
                                    <versionUuid>84c9dbe2-524f-45c0-a88a-86f227ec0cc1</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>Empty</title>
                              <type>SINGLE</type>
                              <uuid>e70a5540-0ce1-4ba9-90df-323767e0b394</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>687cee5e-4910-4461-8909-ab157abda5c6</componentUuid>
                                 <incrementalVersion>1.41</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-05-30T14:40:51Z</lastModified>
                                 <versionUuid>45a8f7f7-3871-4664-b8ea-f877807f37fe</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>11</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>fa62ecef-3c8c-4ffc-9559-8df51fe0ae37</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>2b505a43-8159-4def-805d-746eec6c005b</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
  		
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test Simulate OCR result Component: starting component...&lt;/template&gt;
        &lt;/log&gt;
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Test Simulate OCR result Component: simulating export data...&lt;/template&gt;
        &lt;/log&gt;
  
	&lt;export include-original-data="true"&gt;
      &lt;single-column name="ocr_result_text" value='${document_html_link}'/&gt;
      &lt;single-column name="ocr_result_xml" value='${document_html_link}'/&gt;
      &lt;single-column name="ocr_result_html" value='${document_html_link}'/&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>aa57993f-8d74-42b0-a617-260b0f4580f6</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>Simulate OCR result</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>aa57993f-8d74-42b0-a617-260b0f4580f6</uuid>
                                 <version>
                                    <componentUuid>c1e56e97-8e67-4e49-ab54-1756f983922b</componentUuid>
                                    <incrementalVersion>1.1</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-05-30T12:41:56Z</lastModified>
                                    <versionUuid>9102bf58-0b2a-4747-b7cb-c8844c3b60e4</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>Simulate OCR result</title>
                              <type>SINGLE</type>
                              <uuid>da54720b-6746-4fcc-8580-e253682bf4d5</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>22ac6a73-30b7-4811-a83f-679093233867</componentUuid>
                                 <incrementalVersion>1.33</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-05-30T14:40:51Z</lastModified>
                                 <versionUuid>441b30ba-951a-4e75-83cc-ce148d64c14e</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>12</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>3ead6ce9-0b8c-4fdd-b823-39b257ccb94b</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>f464046a-04b3-4c2c-b4ab-0acc7f41908a</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;

        &lt;log level="WARN"&gt;
          &lt;template&gt;Export BP Run details Component: starting...&lt;/template&gt;
        &lt;/log&gt;
        &lt;log level="WARN"&gt;
          &lt;template&gt;Export BP Run details Component: getting details...&lt;/template&gt;
        &lt;/log&gt;
        &lt;log level="WARN"&gt;
          &lt;template&gt;Export BP Run details Component: exporting results...&lt;/template&gt;
        &lt;/log&gt;

  &lt;export include-original-data="true"&gt;
	&lt;single-column name="current_bp_run" value="${applicationHost}/workfusion/secure/business-process/edit/${item.getWrappedObject().getRun().getUuid()}" /&gt;
  &lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>3044dd67-77bb-42a9-a964-e61ae8ecb9b5</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>Export BP Run details</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>3044dd67-77bb-42a9-a964-e61ae8ecb9b5</uuid>
                                 <version>
                                    <componentUuid>efd99de6-59ec-410f-bc41-7e2d23cbc0f7</componentUuid>
                                    <incrementalVersion>1.1</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-05-30T12:41:56Z</lastModified>
                                    <versionUuid>dac4adef-786f-44bb-99e8-fc965b8ea7e4</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>Export BP Run details</title>
                              <type>SINGLE</type>
                              <uuid>76d18561-2b36-4f24-aed4-36c8ffc4b5cf</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>b538dbf9-b8ee-4ac8-9a6b-4ee5bb346f77</componentUuid>
                                 <incrementalVersion>1.40</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-05-30T14:40:51Z</lastModified>
                                 <versionUuid>8ab71b52-0013-4dd9-94e6-48bed7644de8</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>13</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>18ba5216-f247-4b48-8c75-a64af093387a</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>eda927c7-feb2-434d-9cff-754f5ef20035</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;Export Result Data Component: starting...&lt;/template&gt;
        &lt;/log&gt;
        &lt;log level="WARN"&gt;
          &lt;template&gt;Export Result Data Component: exporting results...&lt;/template&gt;
        &lt;/log&gt;
  
	&lt;export include-original-data="false"&gt;
      &lt;single-column name="current_bp_run" value="${current_bp_run}"/&gt;
      &lt;single-column name="datastore_status" value="${datastore_status}"/&gt;
      &lt;single-column name="s3_status" value="${s3_status}"/&gt;
      &lt;single-column name="secure_storage_status" value="${secure_storage_status}"/&gt;
      &lt;single-column name="ghost_script_status" value="${ghost_script_status}"/&gt;
      &lt;single-column name="ocr_status" value="${ocr_status}"/&gt;
      &lt;single-column name="rpa_ie_browser_status" value="${rpa_ie_browser_status}"/&gt;
      &lt;single-column name="rpa_desktop_status" value="${rpa_desktop_status}"/&gt;
      &lt;single-column name="rpa_chrome_browser_status" value="${rpa_chrome_browser_status}"/&gt;
      &lt;single-column name="ghost_script_status" value="${ghost_script_status}"/&gt;
      &lt;single-column name="ml_status" value="${ml_status}"/&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>f5da0dd2-7cdf-4a38-8b47-fc4fb1f64b36</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>Export Result Data</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>f5da0dd2-7cdf-4a38-8b47-fc4fb1f64b36</uuid>
                                 <version>
                                    <componentUuid>536277df-6663-404e-9c0f-76ce4c27896e</componentUuid>
                                    <incrementalVersion>1.2</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-06-01T09:26:26Z</lastModified>
                                    <versionUuid>d5e60765-fb29-4020-82d2-93004531e97b</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>Export Result Data</title>
                              <type>SINGLE</type>
                              <uuid>9b64b63a-d2ae-4d4a-ae32-c4374a7c2464</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>2e24e816-2fea-4953-9bbd-97c8383124e6</componentUuid>
                                 <incrementalVersion>1.46</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-06-01T09:26:26Z</lastModified>
                                 <versionUuid>04c5fc04-c6f3-4313-8fb0-b1c849c0d5e6</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>14</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>19b104f0-3aca-49ad-a389-129e5ad09657</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>3b297ff9-bac3-49ac-82e9-ee9937ecb3a2</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config xmlns="http://web-harvest.sourceforge.net/schema/1.0/config"
        scriptlang="groovy"&gt;
  
    	&lt;log level="WARN"&gt;
          &lt;template&gt;RPA: Test Firefox Browser Component: starting component test...&lt;/template&gt;
        &lt;/log&gt;
  		&lt;log level="WARN"&gt;
          &lt;template&gt;RPA: Test Firefox Browser Component: starting selenium flow...&lt;/template&gt;
        &lt;/log&gt;
 	&lt;case&gt;
        &lt;if condition="${test_firefox_driver.toString() == 'true'}"&gt;
          &lt;selenium-flow&gt;
            &lt;selenium browser="firefox" name="firefoxWrapper"&gt;
              &lt;script&gt;&lt;![CDATA[
                import org.openqa.selenium.WebElement;

                scrapingCheckTxt = "Yahoo";

                firefoxDriver = firefoxWrapper.getWrappedObject();
                firefoxDriver.get("https://www.yahoo.com/");
                WebElement element = firefoxDriver.findElement(By.xpath("/html/head/title"));
                testStr = element.getAttribute("innerHTML");

                if (!testStr.equals(scrapingCheckTxt)) {
                    throw new Exception("Scrapped Text is not equals to the check string. check string: " + scrapingCheckTxt + " got: " + testStr + " \n Please check original web site. There could be changes.");
                } 
              ]]&gt;&lt;/script&gt;
            &lt;/selenium&gt;
          &lt;/selenium-flow&gt;
        &lt;/if&gt;
    &lt;/case&gt;  
  		&lt;log level="WARN"&gt;
          &lt;template&gt;RPA: Test Firefox Browser Component: exporting result data.&lt;/template&gt;
        &lt;/log&gt;

  &lt;export include-original-data="true"&gt;
    &lt;single-column name="rpa_firefox_browser_status" value="active" /&gt;
  &lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>514b9eb7-6c70-4d3d-8051-4d919346e107</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>RPA: Test Firefox Browser</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>514b9eb7-6c70-4d3d-8051-4d919346e107</uuid>
                                 <version>
                                    <componentUuid>fac7ca4e-66aa-4ad5-a48d-497a43985db1</componentUuid>
                                    <incrementalVersion>1.0</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-05-15T11:37:47Z</lastModified>
                                    <versionUuid>cd3ba702-44da-4b37-b01e-f25f663878d3</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>RPA: Test Firefox Browser</title>
                              <type>SINGLE</type>
                              <uuid>d2991763-566d-4d8f-b4b3-70e71710028b</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>dfc4cecc-44d1-4596-afe2-543403ca156e</componentUuid>
                                 <incrementalVersion>1.0</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-05-15T11:37:47Z</lastModified>
                                 <versionUuid>60039d3b-6f5d-470b-b676-a13e2ca97195</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>15</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>d6e1e4a0-9406-4f87-b44b-6966fcc6f09a</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>c8a3a3ab-adf4-4a4a-f88e-f4c98b750099</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>HUMAN</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <question>
                                 <answers>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>Read news</answer>
                                       <answerCode>news</answerCode>
                                       <answerHtml/>
                                       <answerTypeObject>
                                          <answerTypeGroup>ADVANCED</answerTypeGroup>
                                          <code>INFO_EXTRACTION</code>
                                          <description/>
                                          <optionsAvailable>true</optionsAvailable>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>false</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>false</showForMachineConfig>
                                          <title>Information Extraction</title>
                                          <valueType>SINGLEVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <constantable>false</constantable>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <htmlClasses/>
                                       <lastModified>2018-06-05T14:53:23Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <options>{"ieExtractorType":"KEEP_EVERYTHING_EXTRACTOR"}</options>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>false</required>
                                       <sequenceNumber>1</sequenceNumber>
                                       <shuffle>false</shuffle>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>Select company</answer>
                                       <answerCode>company_name</answerCode>
                                       <answerHtml/>
                                       <answerTypeObject>
                                          <answerTypeGroup>MULTIPLE_CHOICE</answerTypeGroup>
                                          <code>CHECK_ONE</code>
                                          <description/>
                                          <optionsAvailable>true</optionsAvailable>
                                          <optionsDescription>Provide options for the answer using key=value format. For example, Option Name1=value1 or Option Name2=value2.</optionsDescription>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>true</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>true</showForMachineConfig>
                                          <title>Check One</title>
                                          <valueType>SINGLEVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <category/>
                                       <constantable>false</constantable>
                                       <defaultValue/>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <htmlClasses/>
                                       <lastModified>2018-06-05T14:53:23Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <options>Apple=Apple|Microsoft=Microsoft|Intel=Intel</options>
                                       <originalDocumentSource/>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>true</required>
                                       <sequenceNumber>2</sequenceNumber>
                                       <shuffle>false</shuffle>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                 </answers>
                                 <assignmentDuration>1800000</assignmentDuration>
                                 <assignmentLimit>1</assignmentLimit>
                                 <attrs>{"lnaa":"Run","lnam":"Tasks","lna":"0"}</attrs>
                                 <autoApprovalDelay>432000000</autoApprovalDelay>
                                 <automaticallyProcessed>0</automaticallyProcessed>
                                 <blockSize>1</blockSize>
                                 <constQualifiedWorkers>false</constQualifiedWorkers>
                                 <currency>USD</currency>
                                 <description>Classification Cognitive Automation Task Example</description>
                                 <dynamicTaskRenderingDisabled>true</dynamicTaskRenderingDisabled>
                                 <expiredTime>2592000000</expiredTime>
                                 <faqItems/>
                                 <frameHeight>2500</frameHeight>
                                 <geolocationEnabled>false</geolocationEnabled>
                                 <instructionItems/>
                                 <keywords>Classification Cognitive Automation Task Example</keywords>
                                 <maxAssignments>1</maxAssignments>
                                 <moderation>false</moderation>
                                 <moderationFlag>false</moderationFlag>
                                 <origination>CREATED_MANUALLY</origination>
                                 <pendingAssignmentsLimit>10</pendingAssignmentsLimit>
                                 <qualificationInstruction/>
                                 <qualificationRequirements/>
                                 <qualificationRequirementsRequiredForPreview>false</qualificationRequirementsRequiredForPreview>
                                 <qualificationTasks>20</qualificationTasks>
                                 <qualificationTraining>false</qualificationTraining>
                                 <questionRuleMaps>
                                    <questionRuleMap>
                                       <businessRule>
                                          <content>

package com.freedomoss.requester;

#list any import classes here.
import com.freedomoss.objective.model.RuleContext;
import com.freedomoss.objective.model.RuleContext.MajorityType;
import com.freedomoss.objective.model.RuleAssigmentContext;
import com.freedomoss.objective.model.RuleQuestionContext;
import com.freedomoss.requester.model.AwsHitQuestion;
import com.freedomoss.requester.model.AwsHitQuestionItem;
import com.freedomoss.requester.model.AwsHitQuestionAnswerItem;

import org.slf4j.Logger;
import java.util.ArrayList;
import java.util.List;
import java.util.Set;
import java.util.Map;
import java.util.Iterator;

#declare any global variables here
global RuleContext source
global Logger log
global Map params


rule "Rule context initialization"
auto-focus true
no-loop
dialect "mvel"
agenda-group "initialization-group"
	when
		$ctx:RuleContext(initialized == false);
	then
	    # set parameters

        $ctx.properties[RuleContext.MAJORITY_TYPE] =  RuleContext.MajorityType.COUNT;
        $ctx.properties[RuleContext.MAJORITY_VALUE] = new Integer(1);

        #$ctx.properties[RuleContext.MAX_ASSIGNMENT_LIMIT] = new Integer(1);
        $ctx.properties[RuleContext.MAJORITY_HIT_THRESHOLD] = new Double(100/100);
        $ctx.properties[RuleContext.ASSIGNMENT_APPROVE_THRESHOLD] = new Double(0.5);

        # insert processed facts into memory
        $ctx.updateWorkingMemory();
        # move to business rules
        kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
        $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Worst accuracy rule-Evaluate every 5 gold question and set Accuracy based qualification score to 70 if gold accuracy goes up &lt; 75 percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  5) == 0 &amp;&amp; $campaignStatistic.goldAccuracy &lt; (75/100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, 70);
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Normal accuracy rule-Evaluate every 5 gold question and set Accuracy based qualification score to 80 if gold accuracy goes up &gt;= 75 percents and &lt; 90"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  5) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= (75/ 100) &amp;&amp; $campaignStatistic.goldAccuracy &lt; (90 / 100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, 80);
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Super accuracy rule-Evaluate every 5 gold question and set Accuracy based qualification score to 95 if gold accuracy goes up &gt;= 90 percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  5) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= (90 / 100) )
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, 95);
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "0. Check, if exist majority"
agenda-group "calculation"
dialect "mvel"
salience 100
no-loop
	when
	    $ctx:RuleContext (initialized == true, $gold:gold, $threshold:properties.MAJORITY_HIT_THRESHOLD)
        eval($ctx.majorityWithoutGold().size() &gt;= ($ctx.questions.size() - $gold.size()) *  $threshold)
	then
		insert(new String("MAJORITY_FOUND"));
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "1. Approve question by majority"
agenda-group "calculation"
dialect "mvel"
salience 90
no-loop
	when
		((String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true))
		or
		(not String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true, assignments.size == properties.MAX_ASSIGNMENT_LIMIT)))
		$rqc:RuleQuestionContext()
	then
		$rqc.approveQuestion($ctx.majority());
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rqc);
end

rule "3. Approve assignment (always)"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		$ctx:RuleContext(initialized == true, $threshold:properties.ASSIGNMENT_APPROVE_THRESHOLD)
		$rac:RuleAssigmentContext()
	then
	    insert(new String("ASSIGNMENT_PROCESSED"));
		$ctx.addApproved($rac);
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rac);
end

rule "5. Extend HIT"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		not String(toString == "MAJORITY_FOUND")
		$ctx:RuleContext(initialized == true, assignments.size &lt; properties.MAX_ASSIGNMENT_LIMIT);
	then
		$ctx.setExtendHit(true);
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

</content>
                                          <name>Start with one assignment 1+0 pay all</name>
                                          <paramValues>{"NORMAL_ACCURACY_LEVEL_SCORE":"80","NORMAL_ACCURACY_LEVEL_UPPER_LIMIT":"90","WORST_ACCURACY_LEVEL_SCORE":"70","MAJORITY_HIT_THRESHOLD":"100","SUPER_ACCURACY_LEVEL_LOWER_LIMIT":"90","WORST_ACCURACY_LEVEL_UPPER_LIMIT":"75","SUPER_ACCURACY_LEVEL_SCORE":"95","NORMAL_ACCURACY_LEVEL_LOWER_LIMIT":"75","MAJORITY_VALUE":"1","CHECK_EVERY":"5","MAX_ASSIGNMENT_LIMIT":"1"}</paramValues>
                                          <ruleType>DROOLS</ruleType>
                                          <ruleTypeUI>Adjudication</ruleTypeUI>
                                          <template>
                                             <content>

package com.freedomoss.requester;

#list any import classes here.
import com.freedomoss.objective.model.RuleContext;
import com.freedomoss.objective.model.RuleContext.MajorityType;
import com.freedomoss.objective.model.RuleAssigmentContext;
import com.freedomoss.objective.model.RuleQuestionContext;
import com.freedomoss.requester.model.AwsHitQuestion;
import com.freedomoss.requester.model.AwsHitQuestionItem;
import com.freedomoss.requester.model.AwsHitQuestionAnswerItem;

import org.slf4j.Logger;
import java.util.ArrayList;
import java.util.List;
import java.util.Set;
import java.util.Map;
import java.util.Iterator;

#declare any global variables here
global RuleContext source
global Logger log
global Map params


rule "Rule context initialization"
auto-focus true
no-loop
dialect "mvel"
agenda-group "initialization-group"
	when
		$ctx:RuleContext(initialized == false);
	then
	    # set parameters

        $ctx.properties[RuleContext.MAJORITY_TYPE] =  RuleContext.MajorityType.COUNT;
        $ctx.properties[RuleContext.MAJORITY_VALUE] = new Integer({{MAJORITY_VALUE}});

        #$ctx.properties[RuleContext.MAX_ASSIGNMENT_LIMIT] = new Integer({{MAX_ASSIGNMENT_LIMIT}});
        $ctx.properties[RuleContext.MAJORITY_HIT_THRESHOLD] = new Double({{MAJORITY_HIT_THRESHOLD}}/100);
        $ctx.properties[RuleContext.ASSIGNMENT_APPROVE_THRESHOLD] = new Double(0.5);

        # insert processed facts into memory
        $ctx.updateWorkingMemory();
        # move to business rules
        kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
        $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Worst accuracy rule-Evaluate every {{CHECK_EVERY}} gold question and set Accuracy based qualification score to {{WORST_ACCURACY_LEVEL_SCORE}} if gold accuracy goes up &lt; {{WORST_ACCURACY_LEVEL_UPPER_LIMIT}} percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  {{CHECK_EVERY}}) == 0 &amp;&amp; $campaignStatistic.goldAccuracy &lt; ({{WORST_ACCURACY_LEVEL_UPPER_LIMIT}}/100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, {{WORST_ACCURACY_LEVEL_SCORE}});
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Normal accuracy rule-Evaluate every {{CHECK_EVERY}} gold question and set Accuracy based qualification score to {{NORMAL_ACCURACY_LEVEL_SCORE}} if gold accuracy goes up &gt;= {{NORMAL_ACCURACY_LEVEL_LOWER_LIMIT}} percents and &lt; {{NORMAL_ACCURACY_LEVEL_UPPER_LIMIT}}"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  {{CHECK_EVERY}}) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= ({{NORMAL_ACCURACY_LEVEL_LOWER_LIMIT}}/ 100) &amp;&amp; $campaignStatistic.goldAccuracy &lt; ({{NORMAL_ACCURACY_LEVEL_UPPER_LIMIT}} / 100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, {{NORMAL_ACCURACY_LEVEL_SCORE}});
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Super accuracy rule-Evaluate every {{CHECK_EVERY}} gold question and set Accuracy based qualification score to {{SUPER_ACCURACY_LEVEL_SCORE}} if gold accuracy goes up &gt;= {{SUPER_ACCURACY_LEVEL_LOWER_LIMIT}} percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  {{CHECK_EVERY}}) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= ({{SUPER_ACCURACY_LEVEL_LOWER_LIMIT}} / 100) )
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, {{SUPER_ACCURACY_LEVEL_SCORE}});
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "0. Check, if exist majority"
agenda-group "calculation"
dialect "mvel"
salience 100
no-loop
	when
	    $ctx:RuleContext (initialized == true, $gold:gold, $threshold:properties.MAJORITY_HIT_THRESHOLD)
        eval($ctx.majorityWithoutGold().size() &gt;= ($ctx.questions.size() - $gold.size()) *  $threshold)
	then
		insert(new String("MAJORITY_FOUND"));
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "1. Approve question by majority"
agenda-group "calculation"
dialect "mvel"
salience 90
no-loop
	when
		((String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true))
		or
		(not String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true, assignments.size == properties.MAX_ASSIGNMENT_LIMIT)))
		$rqc:RuleQuestionContext()
	then
		$rqc.approveQuestion($ctx.majority());
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rqc);
end

rule "3. Approve assignment (always)"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		$ctx:RuleContext(initialized == true, $threshold:properties.ASSIGNMENT_APPROVE_THRESHOLD)
		$rac:RuleAssigmentContext()
	then
	    insert(new String("ASSIGNMENT_PROCESSED"));
		$ctx.addApproved($rac);
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rac);
end

rule "5. Extend HIT"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		not String(toString == "MAJORITY_FOUND")
		$ctx:RuleContext(initialized == true, assignments.size &lt; properties.MAX_ASSIGNMENT_LIMIT);
	then
		$ctx.setExtendHit(true);
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

</content>
                                             <description>Get qualified workers: pay if ${MAJORITY_VALUE} correct answers, start with 1 assignment, extend to maximum of ${MAX_ASSIGNMENT_LIMIT} assignments. Set qualification scores depending on gold accuracy.</description>
                                             <name>Start with 1 assignment X+0 rule (pay all)</name>
                                             <params>
                                                <param>
                                                   <code>WORST_ACCURACY_LEVEL_UPPER_LIMIT</code>
                                                   <defaultValue>75</defaultValue>
                                                   <description>Worst accuracy level upper limit in percents exclusive, lower limit is considered as 0</description>
                                                   <name>Worst accuracy level upper limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>MAJORITY_HIT_THRESHOLD</code>
                                                   <defaultValue>100</defaultValue>
                                                   <description>Percent (from 0 to 100) of correct answers when  majority is found</description>
                                                   <name>Percent of correct answers</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>MAJORITY_VALUE</code>
                                                   <defaultValue>1</defaultValue>
                                                   <description>Number of correct answers</description>
                                                   <name>Majority value</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>WORST_ACCURACY_LEVEL_SCORE</code>
                                                   <defaultValue>70</defaultValue>
                                                   <description>Qualification score will be given to a worker who has demonstrated a low accuracy</description>
                                                   <name>Worst accuracy level score</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>SUPER_ACCURACY_LEVEL_LOWER_LIMIT</code>
                                                   <defaultValue>90</defaultValue>
                                                   <description>Super accuracy level lower limit in percents inclusive, upper limit is considered as 100</description>
                                                   <name>Super accuracy level lower limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>CHECK_EVERY</code>
                                                   <defaultValue>5</defaultValue>
                                                   <description>Check every i-th gold question when evaluating qualification score</description>
                                                   <name>Check every i-th gold question</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>MAX_ASSIGNMENT_LIMIT</code>
                                                   <defaultValue>1</defaultValue>
                                                   <description>Maximum number of assignments</description>
                                                   <name>Max assignments limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>NORMAL_ACCURACY_LEVEL_SCORE</code>
                                                   <defaultValue>80</defaultValue>
                                                   <description>Qualification score will be given to a worker who has demonstrated a normal accuracy</description>
                                                   <name>Normal accuracy level score</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>NORMAL_ACCURACY_LEVEL_LOWER_LIMIT</code>
                                                   <defaultValue>75</defaultValue>
                                                   <description>Normal accuracy level lower limit in percents inclusive</description>
                                                   <name>Normal accuracy level lower limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>SUPER_ACCURACY_LEVEL_SCORE</code>
                                                   <defaultValue>95</defaultValue>
                                                   <description>Qualification score will be given to a worker who has demonstrated a super accuracy</description>
                                                   <name>Super accuracy level score</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>NORMAL_ACCURACY_LEVEL_UPPER_LIMIT</code>
                                                   <defaultValue>90</defaultValue>
                                                   <description>Normal accuracy level upper limit in percents exclusive</description>
                                                   <name>Normal accuracy level upper limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                             </params>
                                          </template>
                                          <uuid>f5159a8c-03e8-4863-980c-49185acdf1e1</uuid>
                                          <workflowRuleMode>ADVANCED</workflowRuleMode>
                                       </businessRule>
                                    </questionRuleMap>
                                 </questionRuleMaps>
                                 <radiusSelector>ExactLocation</radiusSelector>
                                 <randomizeAnswers>false</randomizeAnswers>
                                 <recursiveThreshold>1</recursiveThreshold>
                                 <restrictedCountries/>
                                 <taskNotificationSchedule>IMMEDIATE</taskNotificationSchedule>
                                 <templates>
                                    <template>
                                       <content>&lt;#include "extras.ftl" parse=true/&gt;
&lt;#include "html.ftl" parse=true/&gt;
&lt;#include "answers.ftl" parse=true/&gt;
&lt;#assign FEEDBACK_ENABLED = true&gt;

&lt;@hit contentCss="${applicationResourceUrl}/workfusion-resources/saas/ms/ms.bootstrap.min.css"&gt;
&lt;@script src="${applicationResourceUrl}/workfusion-resources/bootstrap/js/bootstrap-tab.js"/&gt;  
  
&lt;script type="text/javascript"&gt;
    $(function(){
        ContextMenu.initModule = function() {
        	//disable context menu
        };
    })
&lt;/script&gt;

&lt;@instructions title="&lt;h2&gt;Classification Cognitive Automation Task&lt;/h2&gt;"&gt;
  &lt;!--- editable content --&gt;
  &lt;@editable id="__INSTRUCTIONS__"&gt;&lt;br&gt;&lt;br&gt;&lt;/@editable&gt;
&lt;/@instructions&gt;
&lt;@form&gt;
&lt;#if questions??&gt;
    &lt;div class="thumbnail"&gt;
    &lt;#list questions as question&gt;
      &lt;@report question=question includeAll=true/&gt;
      &lt;div style="position:relative;margin:2px 0px" class="block question"&gt;
           &lt;div style="position:absolute;top:0px;right:0px;background-color:#e0e0e0;padding:1px 4px;border: 1px solid #C0C0C0;border-radius: 0px" class="number"&gt;
                &lt;b&gt;${question_index + 1}&lt;/b&gt;
           &lt;/div&gt;
           &lt;div&gt;
               &lt;div class="place bg-dark"&gt;
                 &lt;@editable id="__DATA__"&gt;&lt;br data-mce-bogus="1"&gt;&lt;/@editable&gt;
               &lt;/div&gt;
               &lt;div class="place clearfix"&gt;
                 &lt;@answers question=question/&gt;
               &lt;/div&gt;
            &lt;/div&gt;
      &lt;/div&gt;
    &lt;/#list&gt;
    &lt;/div&gt;
&lt;/#if&gt;
&lt;@submit text="Submit" /&gt;
&lt;/@form&gt;

&lt;style rel="stylesheet" type="text/css"&gt;
  .cc-decorate.top-level {
  	float: left;
  }
  .cc-decorate.top-level:first-child {
  	width: 60%;
  }
  .cc-decorate.top-level:last-child {
  	width: 40%;
    padding-left: 30px;
    box-sizing: border-box;
  }
  .extraction-container {
  	min-height: initial;
  }
  .ie-answer-type-column,
  .ie-controls-toolbar{
  	display: none;
  }
  .extraction-content {
  	border-top: 0;
    max-width: inherit !important;
    max-height: none !important;
    min-height: initial !important;
    padding: 10px 25px 25px;
  }
&lt;/style&gt;
&lt;/@hit&gt;
</content>
                                       <creationType>CUSTOM</creationType>
                                       <name>Classification Cognitive Automation Task (Classification Cognitive Automation Task Template 8.5.0)</name>
                                       <origination>CREATED_AUTOMATICALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>TASK</type>
                                       <uuid>1b5bef44-89f5-4286-9ff5-46e564a3059a</uuid>
                                       <version>
                                          <componentUuid>1301f191-58dc-4246-8da2-f6e8a9b1f529</componentUuid>
                                          <incrementalVersion>1.1</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2018-06-05T14:53:23Z</lastModified>
                                          <versionUuid>30b2f0e5-4350-4999-bd2f-0e881f10ec8e</versionUuid>
                                       </version>
                                    </template>
                                 </templates>
                                 <title>Classification Cognitive Automation Task</title>
                                 <useCommonHitCoordinates>false</useCommonHitCoordinates>
                                 <uuid>7f25c51d-02e2-405e-b262-690dd5880e90</uuid>
                                 <version>
                                    <componentUuid>efd90247-79da-40a4-92a2-96c5ff9971bd</componentUuid>
                                    <incrementalVersion>1.1</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-06-05T14:53:23Z</lastModified>
                                    <versionUuid>4127f372-a30b-4a80-a514-54a3df0ed2a2</versionUuid>
                                 </version>
                                 <workSetting>
                                    <category>
                                       <automation>true</automation>
                                       <description>Cognitive Automation Use Cases</description>
                                       <enabled>true</enabled>
                                       <executingType>HUMAN</executingType>
                                       <name>Cognitive Automation Use Cases</name>
                                       <private>false</private>
                                       <publicId>44bef966-0e21-4559-954a-9759994da998</publicId>
                                    </category>
                                    <contentType>NORMAL</contentType>
                                    <description>Input data you can download from classification_input data store according you version</description>
                                    <enabled>true</enabled>
                                    <name>Classification Cognitive Automation Task for check ml version 2</name>
                                    <publicId>f2f004b3-8a07-4240-b945-124f56b850eb</publicId>
                                    <version>
                                       <componentUuid>4b19f4c5-9d45-4aec-95ad-f0244edab81e</componentUuid>
                                       <incrementalVersion>1.1</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-06-05T14:50:50Z</lastModified>
                                       <versionUuid>44459f38-e238-43ad-983d-154bd95c7831</versionUuid>
                                    </version>
                                    <answers>
                                       <answer>
                                          <allowNA>false</allowNA>
                                          <answer>Read news</answer>
                                          <answerCode>news</answerCode>
                                          <answerHtml/>
                                          <answerTypeObject>
                                             <answerTypeGroup>ADVANCED</answerTypeGroup>
                                             <code>INFO_EXTRACTION</code>
                                             <description/>
                                             <optionsAvailable>true</optionsAvailable>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>false</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>false</showForMachineConfig>
                                             <title>Information Extraction</title>
                                             <valueType>SINGLEVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <constantable>false</constantable>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <htmlClasses/>
                                          <lastModified>2018-06-05T14:41:26Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <options>{"ieExtractorType":"KEEP_EVERYTHING_EXTRACTOR"}</options>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>false</required>
                                          <sequenceNumber>1</sequenceNumber>
                                          <shuffle>false</shuffle>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </answer>
                                       <answer>
                                          <allowNA>false</allowNA>
                                          <answer>Select company</answer>
                                          <answerCode>company_name</answerCode>
                                          <answerHtml/>
                                          <answerTypeObject>
                                             <answerTypeGroup>MULTIPLE_CHOICE</answerTypeGroup>
                                             <code>CHECK_ONE</code>
                                             <description/>
                                             <optionsAvailable>true</optionsAvailable>
                                             <optionsDescription>Provide options for the answer using key=value format. For example, Option Name1=value1 or Option Name2=value2.</optionsDescription>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>true</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>true</showForMachineConfig>
                                             <title>Check One</title>
                                             <valueType>SINGLEVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <category/>
                                          <constantable>false</constantable>
                                          <defaultValue/>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <htmlClasses/>
                                          <lastModified>2018-06-05T14:41:26Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <options>Apple=Apple|Microsoft=Microsoft|Intel=Intel</options>
                                          <originalDocumentSource/>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>true</required>
                                          <sequenceNumber>2</sequenceNumber>
                                          <shuffle>false</shuffle>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </answer>
                                    </answers>
                                    <businessRules>
                                       <businessRule>
                                          <content>

package com.freedomoss.requester;

#list any import classes here.
import com.freedomoss.objective.model.RuleContext;
import com.freedomoss.objective.model.RuleContext.MajorityType;
import com.freedomoss.objective.model.RuleAssigmentContext;
import com.freedomoss.objective.model.RuleQuestionContext;
import com.freedomoss.requester.model.AwsHitQuestion;
import com.freedomoss.requester.model.AwsHitQuestionItem;
import com.freedomoss.requester.model.AwsHitQuestionAnswerItem;

import org.slf4j.Logger;
import java.util.ArrayList;
import java.util.List;
import java.util.Set;
import java.util.Map;
import java.util.Iterator;

#declare any global variables here
global RuleContext source
global Logger log
global Map params


rule "Rule context initialization"
auto-focus true
no-loop
dialect "mvel"
agenda-group "initialization-group"
	when
		$ctx:RuleContext(initialized == false);
	then
	    # set parameters

        $ctx.properties[RuleContext.MAJORITY_TYPE] =  RuleContext.MajorityType.COUNT;
        $ctx.properties[RuleContext.MAJORITY_VALUE] = new Integer(1);

        #$ctx.properties[RuleContext.MAX_ASSIGNMENT_LIMIT] = new Integer(1);
        $ctx.properties[RuleContext.MAJORITY_HIT_THRESHOLD] = new Double(100/100);
        $ctx.properties[RuleContext.ASSIGNMENT_APPROVE_THRESHOLD] = new Double(0.5);

        # insert processed facts into memory
        $ctx.updateWorkingMemory();
        # move to business rules
        kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
        $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Worst accuracy rule-Evaluate every 5 gold question and set Accuracy based qualification score to 70 if gold accuracy goes up &lt; 75 percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  5) == 0 &amp;&amp; $campaignStatistic.goldAccuracy &lt; (75/100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, 70);
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Normal accuracy rule-Evaluate every 5 gold question and set Accuracy based qualification score to 80 if gold accuracy goes up &gt;= 75 percents and &lt; 90"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  5) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= (75/ 100) &amp;&amp; $campaignStatistic.goldAccuracy &lt; (90 / 100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, 80);
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Super accuracy rule-Evaluate every 5 gold question and set Accuracy based qualification score to 95 if gold accuracy goes up &gt;= 90 percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  5) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= (90 / 100) )
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, 95);
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "0. Check, if exist majority"
agenda-group "calculation"
dialect "mvel"
salience 100
no-loop
	when
	    $ctx:RuleContext (initialized == true, $gold:gold, $threshold:properties.MAJORITY_HIT_THRESHOLD)
        eval($ctx.majorityWithoutGold().size() &gt;= ($ctx.questions.size() - $gold.size()) *  $threshold)
	then
		insert(new String("MAJORITY_FOUND"));
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "1. Approve question by majority"
agenda-group "calculation"
dialect "mvel"
salience 90
no-loop
	when
		((String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true))
		or
		(not String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true, assignments.size == properties.MAX_ASSIGNMENT_LIMIT)))
		$rqc:RuleQuestionContext()
	then
		$rqc.approveQuestion($ctx.majority());
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rqc);
end

rule "3. Approve assignment (always)"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		$ctx:RuleContext(initialized == true, $threshold:properties.ASSIGNMENT_APPROVE_THRESHOLD)
		$rac:RuleAssigmentContext()
	then
	    insert(new String("ASSIGNMENT_PROCESSED"));
		$ctx.addApproved($rac);
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rac);
end

rule "5. Extend HIT"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		not String(toString == "MAJORITY_FOUND")
		$ctx:RuleContext(initialized == true, assignments.size &lt; properties.MAX_ASSIGNMENT_LIMIT);
	then
		$ctx.setExtendHit(true);
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

</content>
                                          <name>Start with one assignment 1+0 pay all</name>
                                          <paramValues>{"NORMAL_ACCURACY_LEVEL_SCORE":"80","NORMAL_ACCURACY_LEVEL_UPPER_LIMIT":"90","WORST_ACCURACY_LEVEL_SCORE":"70","MAJORITY_HIT_THRESHOLD":"100","SUPER_ACCURACY_LEVEL_LOWER_LIMIT":"90","WORST_ACCURACY_LEVEL_UPPER_LIMIT":"75","SUPER_ACCURACY_LEVEL_SCORE":"95","NORMAL_ACCURACY_LEVEL_LOWER_LIMIT":"75","MAJORITY_VALUE":"1","CHECK_EVERY":"5","MAX_ASSIGNMENT_LIMIT":"1"}</paramValues>
                                          <ruleType>DROOLS</ruleType>
                                          <ruleTypeUI>Adjudication</ruleTypeUI>
                                          <template>
                                             <content>

package com.freedomoss.requester;

#list any import classes here.
import com.freedomoss.objective.model.RuleContext;
import com.freedomoss.objective.model.RuleContext.MajorityType;
import com.freedomoss.objective.model.RuleAssigmentContext;
import com.freedomoss.objective.model.RuleQuestionContext;
import com.freedomoss.requester.model.AwsHitQuestion;
import com.freedomoss.requester.model.AwsHitQuestionItem;
import com.freedomoss.requester.model.AwsHitQuestionAnswerItem;

import org.slf4j.Logger;
import java.util.ArrayList;
import java.util.List;
import java.util.Set;
import java.util.Map;
import java.util.Iterator;

#declare any global variables here
global RuleContext source
global Logger log
global Map params


rule "Rule context initialization"
auto-focus true
no-loop
dialect "mvel"
agenda-group "initialization-group"
	when
		$ctx:RuleContext(initialized == false);
	then
	    # set parameters

        $ctx.properties[RuleContext.MAJORITY_TYPE] =  RuleContext.MajorityType.COUNT;
        $ctx.properties[RuleContext.MAJORITY_VALUE] = new Integer({{MAJORITY_VALUE}});

        #$ctx.properties[RuleContext.MAX_ASSIGNMENT_LIMIT] = new Integer({{MAX_ASSIGNMENT_LIMIT}});
        $ctx.properties[RuleContext.MAJORITY_HIT_THRESHOLD] = new Double({{MAJORITY_HIT_THRESHOLD}}/100);
        $ctx.properties[RuleContext.ASSIGNMENT_APPROVE_THRESHOLD] = new Double(0.5);

        # insert processed facts into memory
        $ctx.updateWorkingMemory();
        # move to business rules
        kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
        $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Worst accuracy rule-Evaluate every {{CHECK_EVERY}} gold question and set Accuracy based qualification score to {{WORST_ACCURACY_LEVEL_SCORE}} if gold accuracy goes up &lt; {{WORST_ACCURACY_LEVEL_UPPER_LIMIT}} percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  {{CHECK_EVERY}}) == 0 &amp;&amp; $campaignStatistic.goldAccuracy &lt; ({{WORST_ACCURACY_LEVEL_UPPER_LIMIT}}/100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, {{WORST_ACCURACY_LEVEL_SCORE}});
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Normal accuracy rule-Evaluate every {{CHECK_EVERY}} gold question and set Accuracy based qualification score to {{NORMAL_ACCURACY_LEVEL_SCORE}} if gold accuracy goes up &gt;= {{NORMAL_ACCURACY_LEVEL_LOWER_LIMIT}} percents and &lt; {{NORMAL_ACCURACY_LEVEL_UPPER_LIMIT}}"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  {{CHECK_EVERY}}) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= ({{NORMAL_ACCURACY_LEVEL_LOWER_LIMIT}}/ 100) &amp;&amp; $campaignStatistic.goldAccuracy &lt; ({{NORMAL_ACCURACY_LEVEL_UPPER_LIMIT}} / 100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, {{NORMAL_ACCURACY_LEVEL_SCORE}});
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Super accuracy rule-Evaluate every {{CHECK_EVERY}} gold question and set Accuracy based qualification score to {{SUPER_ACCURACY_LEVEL_SCORE}} if gold accuracy goes up &gt;= {{SUPER_ACCURACY_LEVEL_LOWER_LIMIT}} percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  {{CHECK_EVERY}}) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= ({{SUPER_ACCURACY_LEVEL_LOWER_LIMIT}} / 100) )
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, {{SUPER_ACCURACY_LEVEL_SCORE}});
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "0. Check, if exist majority"
agenda-group "calculation"
dialect "mvel"
salience 100
no-loop
	when
	    $ctx:RuleContext (initialized == true, $gold:gold, $threshold:properties.MAJORITY_HIT_THRESHOLD)
        eval($ctx.majorityWithoutGold().size() &gt;= ($ctx.questions.size() - $gold.size()) *  $threshold)
	then
		insert(new String("MAJORITY_FOUND"));
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "1. Approve question by majority"
agenda-group "calculation"
dialect "mvel"
salience 90
no-loop
	when
		((String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true))
		or
		(not String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true, assignments.size == properties.MAX_ASSIGNMENT_LIMIT)))
		$rqc:RuleQuestionContext()
	then
		$rqc.approveQuestion($ctx.majority());
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rqc);
end

rule "3. Approve assignment (always)"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		$ctx:RuleContext(initialized == true, $threshold:properties.ASSIGNMENT_APPROVE_THRESHOLD)
		$rac:RuleAssigmentContext()
	then
	    insert(new String("ASSIGNMENT_PROCESSED"));
		$ctx.addApproved($rac);
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rac);
end

rule "5. Extend HIT"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		not String(toString == "MAJORITY_FOUND")
		$ctx:RuleContext(initialized == true, assignments.size &lt; properties.MAX_ASSIGNMENT_LIMIT);
	then
		$ctx.setExtendHit(true);
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

</content>
                                             <description>Get qualified workers: pay if ${MAJORITY_VALUE} correct answers, start with 1 assignment, extend to maximum of ${MAX_ASSIGNMENT_LIMIT} assignments. Set qualification scores depending on gold accuracy.</description>
                                             <name>Start with 1 assignment X+0 rule (pay all)</name>
                                             <params>
                                                <param>
                                                   <code>WORST_ACCURACY_LEVEL_UPPER_LIMIT</code>
                                                   <defaultValue>75</defaultValue>
                                                   <description>Worst accuracy level upper limit in percents exclusive, lower limit is considered as 0</description>
                                                   <name>Worst accuracy level upper limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>MAJORITY_HIT_THRESHOLD</code>
                                                   <defaultValue>100</defaultValue>
                                                   <description>Percent (from 0 to 100) of correct answers when  majority is found</description>
                                                   <name>Percent of correct answers</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>MAJORITY_VALUE</code>
                                                   <defaultValue>1</defaultValue>
                                                   <description>Number of correct answers</description>
                                                   <name>Majority value</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>WORST_ACCURACY_LEVEL_SCORE</code>
                                                   <defaultValue>70</defaultValue>
                                                   <description>Qualification score will be given to a worker who has demonstrated a low accuracy</description>
                                                   <name>Worst accuracy level score</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>SUPER_ACCURACY_LEVEL_LOWER_LIMIT</code>
                                                   <defaultValue>90</defaultValue>
                                                   <description>Super accuracy level lower limit in percents inclusive, upper limit is considered as 100</description>
                                                   <name>Super accuracy level lower limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>CHECK_EVERY</code>
                                                   <defaultValue>5</defaultValue>
                                                   <description>Check every i-th gold question when evaluating qualification score</description>
                                                   <name>Check every i-th gold question</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>MAX_ASSIGNMENT_LIMIT</code>
                                                   <defaultValue>1</defaultValue>
                                                   <description>Maximum number of assignments</description>
                                                   <name>Max assignments limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>NORMAL_ACCURACY_LEVEL_SCORE</code>
                                                   <defaultValue>80</defaultValue>
                                                   <description>Qualification score will be given to a worker who has demonstrated a normal accuracy</description>
                                                   <name>Normal accuracy level score</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>NORMAL_ACCURACY_LEVEL_LOWER_LIMIT</code>
                                                   <defaultValue>75</defaultValue>
                                                   <description>Normal accuracy level lower limit in percents inclusive</description>
                                                   <name>Normal accuracy level lower limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>SUPER_ACCURACY_LEVEL_SCORE</code>
                                                   <defaultValue>95</defaultValue>
                                                   <description>Qualification score will be given to a worker who has demonstrated a super accuracy</description>
                                                   <name>Super accuracy level score</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                                <param>
                                                   <code>NORMAL_ACCURACY_LEVEL_UPPER_LIMIT</code>
                                                   <defaultValue>90</defaultValue>
                                                   <description>Normal accuracy level upper limit in percents exclusive</description>
                                                   <name>Normal accuracy level upper limit</name>
                                                   <type>INPUT_NUMBER</type>
                                                </param>
                                             </params>
                                          </template>
                                          <uuid>f5159a8c-03e8-4863-980c-49185acdf1e1</uuid>
                                          <workflowRuleMode>ADVANCED</workflowRuleMode>
                                       </businessRule>
                                    </businessRules>
                                    <isPrivate>false</isPrivate>
                                    <items>
                                       <item>
                                          <type>EXTERNAL_URL</type>
                                          <value>https://turing.workfusion.com/workfusion/public/HTMLRenderer</value>
                                       </item>
                                       <item>
                                          <type>ASSIGNMENTS_PER_HIT</type>
                                          <value>1</value>
                                       </item>
                                       <item>
                                          <type>BLOCK_SIZE</type>
                                          <value>1</value>
                                       </item>
                                       <item>
                                          <type>TIME_PER_ASSIGNMENT</type>
                                          <value>1800000</value>
                                       </item>
                                       <item>
                                          <type>AUTOMATICALLY_APPROVED</type>
                                          <value>432000000</value>
                                       </item>
                                       <item>
                                          <type>FRAME_HEIGHT</type>
                                          <value>2500</value>
                                       </item>
                                       <item>
                                          <type>REQUIRED_FOR_PREVIEW</type>
                                          <value>false</value>
                                       </item>
                                       <item>
                                          <type>KEYWORDS</type>
                                          <value>Classification Cognitive Automation Task Example</value>
                                       </item>
                                       <item>
                                          <type>AUTOMATICALLY_PROCESSED</type>
                                          <value>0</value>
                                       </item>
                                       <item>
                                          <type>QUALIFICATION_REQUIREMENTS</type>
                                          <value>[]</value>
                                       </item>
                                       <item>
                                          <type>HIT_EXPIRES_IN</type>
                                          <value>2592000000</value>
                                       </item>
                                       <item>
                                          <type>RESTRICTED_COUNTRIES</type>
                                          <value>[]</value>
                                       </item>
                                       <item>
                                          <type>LIMIT_NUMBER_ASSIGNMENTS</type>
                                          <value>0</value>
                                       </item>
                                       <item>
                                          <type>PENDING_ASSIGNMENTS_LIMIT</type>
                                          <value>10</value>
                                       </item>
                                       <item>
                                          <type>ASSIGNMENT_LIMIT</type>
                                          <value>1</value>
                                       </item>
                                       <item>
                                          <type>TITLE</type>
                                          <value>Classification Cognitive Automation Task</value>
                                       </item>
                                       <item>
                                          <type>RECURSIVE_THRESHOLD</type>
                                          <value>1</value>
                                       </item>
                                       <item>
                                          <type>DESCRIPTION</type>
                                          <value>Classification Cognitive Automation Task Example</value>
                                       </item>
                                    </items>
                                    <template>
                                       <content>&lt;#include "extras.ftl" parse=true/&gt;
&lt;#include "html.ftl" parse=true/&gt;
&lt;#include "answers.ftl" parse=true/&gt;
&lt;#assign FEEDBACK_ENABLED = true&gt;

&lt;@hit contentCss="${applicationResourceUrl}/workfusion-resources/saas/ms/ms.bootstrap.min.css"&gt;
&lt;@script src="${applicationResourceUrl}/workfusion-resources/bootstrap/js/bootstrap-tab.js"/&gt;  
  
&lt;script type="text/javascript"&gt;
    $(function(){
        ContextMenu.initModule = function() {
        	//disable context menu
        };
    })
&lt;/script&gt;

&lt;@instructions title="&lt;h2&gt;Classification Cognitive Automation Task&lt;/h2&gt;"&gt;
  &lt;!--- editable content --&gt;
  &lt;@editable id="__INSTRUCTIONS__"&gt;&lt;br&gt;&lt;br&gt;&lt;/@editable&gt;
&lt;/@instructions&gt;
&lt;@form&gt;
&lt;#if questions??&gt;
    &lt;div class="thumbnail"&gt;
    &lt;#list questions as question&gt;
      &lt;@report question=question includeAll=true/&gt;
      &lt;div style="position:relative;margin:2px 0px" class="block question"&gt;
           &lt;div style="position:absolute;top:0px;right:0px;background-color:#e0e0e0;padding:1px 4px;border: 1px solid #C0C0C0;border-radius: 0px" class="number"&gt;
                &lt;b&gt;${question_index + 1}&lt;/b&gt;
           &lt;/div&gt;
           &lt;div&gt;
               &lt;div class="place bg-dark"&gt;
                 &lt;@editable id="__DATA__"&gt;&lt;br data-mce-bogus="1"&gt;&lt;/@editable&gt;
               &lt;/div&gt;
               &lt;div class="place clearfix"&gt;
                 &lt;@answers question=question/&gt;
               &lt;/div&gt;
            &lt;/div&gt;
      &lt;/div&gt;
    &lt;/#list&gt;
    &lt;/div&gt;
&lt;/#if&gt;
&lt;@submit text="Submit" /&gt;
&lt;/@form&gt;

&lt;style rel="stylesheet" type="text/css"&gt;
  .cc-decorate.top-level {
  	float: left;
  }
  .cc-decorate.top-level:first-child {
  	width: 60%;
  }
  .cc-decorate.top-level:last-child {
  	width: 40%;
    padding-left: 30px;
    box-sizing: border-box;
  }
  .extraction-container {
  	min-height: initial;
  }
  .ie-answer-type-column,
  .ie-controls-toolbar{
  	display: none;
  }
  .extraction-content {
  	border-top: 0;
    max-width: inherit !important;
    max-height: none !important;
    min-height: initial !important;
    padding: 10px 25px 25px;
  }
&lt;/style&gt;
&lt;/@hit&gt;
</content>
                                       <name>Classification Cognitive Automation Task Template 8.5.0</name>
                                       <origination>CREATED_AUTOMATICALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE</type>
                                       <uuid>6911e751-5c2e-45a7-a3d8-78fe8783d982</uuid>
                                       <version>
                                          <componentUuid>2955c948-f838-493c-a1ac-cb0f1e652b74</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2018-04-10T08:12:00Z</lastModified>
                                          <versionUuid>ad472a76-1b95-434c-9a26-30da6405ea08</versionUuid>
                                       </version>
                                    </template>
                                    <useCaseConfiguration>[]</useCaseConfiguration>
                                 </workSetting>
                              </question>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>Classification Cognitive Automation Task</title>
                              <type>SINGLE</type>
                              <uuid>b1690518-30f0-4b77-b196-5985154cf605</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>03f234ba-c03e-4b7a-b591-5a641fd45cfa</componentUuid>
                                 <incrementalVersion>1.4</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-06-05T14:53:23Z</lastModified>
                                 <versionUuid>fb325903-dd7c-4dec-94e1-17c74f06694f</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>16</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>131489f4-ea7b-485e-f2e2-4d3a27478735</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content># Rule.Definition={"moderationRule":false,"approveAllRule":false,"splitData":false,"splitRule":false,"splitRuleSuffix":"","joinRule":false,"joinRuleSuffix":"","streamingRule":false,"streamingRuleSuffix":"","namedRule":false,"namedRuleName":""}
package com.freedomoss.requester;

# list any import classes here.
import java.util.Map;
import java.util.ArrayList;
import com.freedomoss.objective.model.CompositeRuleContext;
import com.freedomoss.objective.model.CompositeRuleDataItemContext;
import org.slf4j.Logger;


# declare any global variables here
global CompositeRuleContext source
global Logger log
global Map params


rule "Rule context initialization"
auto-focus true
no-loop
agenda-group "initialization-group"
    when
        $ctx:CompositeRuleContext(initialized == false);
    then
        # insert processed facts into memory
        $ctx.updateWorkingMemory();
        # move to business rules
        kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
end

# RuleOutcome.Definition={"outcomeId":"Yes","conditional":true,"reworkBySameWorker":false,"assignToSameWorker":false,"anableLogging":false,"sendRejectNotification":false,"assignToAnyWorker":false,"approveRelatedAssignments":false,"rejectRelatedAssignments":false,"renameAutomationAnswerItem":false,"conditions":[{"fieldName":"test_ocr","value":"true","operator":"EQ"}],"customConditions":[]}
rule "1. Send records to 'Yes' when test_ocr EQ 'true'"
agenda-group "calculation"
dialect "mvel"
salience 100
    when
        $ctx:CompositeRuleContext(initialized == true);
        $item:CompositeRuleDataItemContext();
        eval($item.checkValue("test_ocr", "EQ", "true"));

    then
        $ctx.sendResultTo("Yes", $item);
end

# RuleOutcome.Definition={"outcomeId":"No","conditional":true,"reworkBySameWorker":false,"assignToSameWorker":false,"anableLogging":false,"sendRejectNotification":false,"assignToAnyWorker":false,"approveRelatedAssignments":false,"rejectRelatedAssignments":false,"renameAutomationAnswerItem":false,"conditions":[{"fieldName":"test_ocr","value":"false","operator":"EQ"}],"customConditions":[]}
rule "2. Send records to 'No' when test_ocr EQ 'false'"
agenda-group "calculation"
dialect "mvel"
salience 100
    when
        $ctx:CompositeRuleContext(initialized == true);
        $item:CompositeRuleDataItemContext();
        eval($item.checkValue("test_ocr", "EQ", "false"));

    then
        $ctx.sendResultTo("No", $item);
end



rule "Send unprocessed result to unconditional outcome(s)"
agenda-group "calculation"
dialect "mvel"
salience 80
    when
        $ctx:CompositeRuleContext(initialized == true);
        $item:CompositeRuleDataItemContext();
    then
        $ctx.sendResultToUnconditionalOutcomes($item, true);
end</content>
                              <name>Is OCR included?</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>d3012f19-75d3-41a2-a1c1-0110747ae6b3</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>1a1548c1-c92b-4bba-8e68-0cd9dcc7d07a</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>Simulate ML</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>1a1548c1-c92b-4bba-8e68-0cd9dcc7d07a</uuid>
                                 <version>
                                    <componentUuid>32eb33ba-1381-4f79-bce6-992a791ca9d4</componentUuid>
                                    <incrementalVersion>1.0</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-06-01T05:34:12Z</lastModified>
                                    <versionUuid>46973524-bfba-42c3-8281-88c460377480</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>Simulate ML</title>
                              <type>SINGLE</type>
                              <uuid>1652fd51-6168-45b9-cc1f-17915ba2a78d</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>fc0369d8-0a2b-485b-b5a2-cdd386a42b0d</componentUuid>
                                 <incrementalVersion>1.1</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-06-01T05:34:12Z</lastModified>
                                 <versionUuid>5ca3991b-73af-4e8b-a9d6-b85377b283f4</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>17</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>9ff51a1f-8836-4794-804d-7b0f986128fa</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>e28a5303-7dc8-4a38-c4c9-4dfc6869b2b6</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
      &lt;single-column name="news" value="Intel" /&gt;      
	&lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>633759ea-8770-419a-8cea-e5641b22dcc2</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>input for ML</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>633759ea-8770-419a-8cea-e5641b22dcc2</uuid>
                                 <version>
                                    <componentUuid>144afb25-6352-41c5-9075-3a36d740fb67</componentUuid>
                                    <incrementalVersion>1.37</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-06-04T14:38:02Z</lastModified>
                                    <versionUuid>01ac8d75-9696-4243-8a7f-420df9a999fe</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>input for ML</title>
                              <type>SINGLE</type>
                              <uuid>b19ce24d-d9e9-405b-9700-ab8813aa4cef</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>d8c467d9-587e-48d5-a556-1ed436a0fdc9</componentUuid>
                                 <incrementalVersion>1.4</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-06-04T14:38:02Z</lastModified>
                                 <versionUuid>bfa7a8bf-7029-4c01-96fb-e56b68f16cac</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>18</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>c8732949-e982-4027-b89d-05bb505c051a</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content># Rule.Definition={"moderationRule":false,"approveAllRule":false,"splitData":false,"splitRule":false,"splitRuleSuffix":"","joinRule":false,"joinRuleSuffix":"","streamingRule":false,"streamingRuleSuffix":"","namedRule":false,"namedRuleName":""}
package com.freedomoss.requester;

# list any import classes here.
import java.util.Map;
import java.util.ArrayList;
import com.freedomoss.objective.model.CompositeRuleContext;
import com.freedomoss.objective.model.CompositeRuleDataItemContext;
import org.slf4j.Logger;


# declare any global variables here
global CompositeRuleContext source
global Logger log
global Map params


rule "Rule context initialization"
auto-focus true
no-loop
agenda-group "initialization-group"
    when
        $ctx:CompositeRuleContext(initialized == false);
    then
        # insert processed facts into memory
        $ctx.updateWorkingMemory();
        # move to business rules
        kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
end

# RuleOutcome.Definition={"outcomeId":"Yes","conditional":true,"reworkBySameWorker":false,"assignToSameWorker":false,"anableLogging":false,"sendRejectNotification":false,"assignToAnyWorker":false,"approveRelatedAssignments":false,"rejectRelatedAssignments":false,"renameAutomationAnswerItem":false,"conditions":[{"fieldName":"test_ocr","value":"true","operator":"EQ"}],"customConditions":[]}
rule "1. Send records to 'Yes' when test_ocr EQ 'true'"
agenda-group "calculation"
dialect "mvel"
salience 100
    when
        $ctx:CompositeRuleContext(initialized == true);
        $item:CompositeRuleDataItemContext();
        eval($item.checkValue("test_ocr", "EQ", "true"));

    then
        $ctx.sendResultTo("Yes", $item);
end

# RuleOutcome.Definition={"outcomeId":"No","conditional":true,"reworkBySameWorker":false,"assignToSameWorker":false,"anableLogging":false,"sendRejectNotification":false,"assignToAnyWorker":false,"approveRelatedAssignments":false,"rejectRelatedAssignments":false,"renameAutomationAnswerItem":false,"conditions":[{"fieldName":"test_ocr","value":"false","operator":"EQ"}],"customConditions":[]}
rule "2. Send records to 'No' when test_ocr EQ 'false'"
agenda-group "calculation"
dialect "mvel"
salience 100
    when
        $ctx:CompositeRuleContext(initialized == true);
        $item:CompositeRuleDataItemContext();
        eval($item.checkValue("test_ocr", "EQ", "false"));

    then
        $ctx.sendResultTo("No", $item);
end



rule "Send unprocessed result to unconditional outcome(s)"
agenda-group "calculation"
dialect "mvel"
salience 80
    when
        $ctx:CompositeRuleContext(initialized == true);
        $item:CompositeRuleDataItemContext();
    then
        $ctx.sendResultToUnconditionalOutcomes($item, true);
end</content>
                              <name>Is OCR included?</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>d3012f19-75d3-41a2-a1c1-0110747ae6b3</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
  	
  &lt;var-def name="ml_result"&gt;
    &lt;template&gt;
      ${company_name}
    &lt;/template&gt;
  &lt;/var-def&gt;
  
	&lt;export include-original-data="true"&gt;
       &lt;single-column name="ml_status" value="active" /&gt;
       &lt;single-column name="ml_result" value="${ml_result}" /&gt;  
	&lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>89d1b6fb-64f8-4f91-8b38-9524f0fc8275</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>add result</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>89d1b6fb-64f8-4f91-8b38-9524f0fc8275</uuid>
                                 <version>
                                    <componentUuid>4ae624f0-c25e-4668-84ab-a15e4c3663ce</componentUuid>
                                    <incrementalVersion>1.0</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-06-01T08:38:25Z</lastModified>
                                    <versionUuid>9bbd2826-fb95-4a77-bc06-b9ece2dff68a</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>add result</title>
                              <type>SINGLE</type>
                              <uuid>d7ad4fb6-1ba5-4e0a-92e7-89e79292bbe3</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>beb6b88e-cca6-4fbf-9f73-3fd7ffa436ea</componentUuid>
                                 <incrementalVersion>1.1</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-06-01T08:38:25Z</lastModified>
                                 <versionUuid>fa8339df-cd1e-4e12-ac86-f6ffe193d199</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>19</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>de5d554a-d55e-446c-b7ce-60e5e19921ca</uuid>
                        </campaignMap>
                        <campaignMap>
                           <businessRule>
                              <content>package com.freedomoss.requester;

#list any import classes here.
import com.freedomoss.objective.model.CompositeRuleContext;
import com.freedomoss.objective.model.CompositeRuleDataItemContext;
import com.freedomoss.requester.model.AwsHitQuestionItem;
import com.freedomoss.requester.model.AwsHitQuestionAnswerItem;
import org.slf4j.Logger;
import java.util.Map;
import java.util.Iterator;
import java.util.List;
import java.util.Set;
import java.util.ArrayList;
import com.freedomoss.requester.dto.SubmissionResultDTO;

#declare any global variables here
global CompositeRuleContext source
global Logger log
global Map params



rule "Rule context initialization"
auto-focus true
no-loop
dialect "mvel"
agenda-group "initialization-group"
	when
		$ctx:CompositeRuleContext(initialized == false);
	then
		$ctx.updateWorkingMemory();
		# move to business rules
		$ctx.logExecutedRule(kcontext.getRule().getName());
		kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
end</content>
                              <name>Business Process: End Rule</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <uuid>2b502c10-58dd-4bc5-97dd-19fa16c5e18e</uuid>
                              <workflowRuleMode>ADVANCED</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;

    &lt;var-def name="exportType"&gt;
        &lt;case&gt;
            &lt;if condition='${sys.isVariableDefined("_sys_export_type")}'&gt;
                &lt;template&gt;${_sys_export_type}&lt;/template&gt;
            &lt;/if&gt;
        &lt;/case&gt;
    &lt;/var-def&gt;

    &lt;var-def name="exportColumns"&gt;
        &lt;case&gt;
            &lt;if condition='${sys.isVariableDefined("_sys_export_columns")}'&gt;
                &lt;template&gt;${_sys_export_columns}&lt;/template&gt;
            &lt;/if&gt;
            &lt;else&gt;&lt;/else&gt;
        &lt;/case&gt;
    &lt;/var-def&gt;

    &lt;var-def name="columnNameCase"&gt;
        &lt;case&gt;
            &lt;if condition='${sys.isVariableDefined("_sys_column_name_case")}'&gt;
                &lt;template&gt;${_sys_column_name_case}&lt;/template&gt;
            &lt;/if&gt;
            &lt;else&gt;keep&lt;/else&gt;
        &lt;/case&gt;
    &lt;/var-def&gt;

    &lt;var-def name="dataOnly"&gt;
        &lt;case&gt;
            &lt;if condition='${sys.isVariableDefined("_sys_data_only")}'&gt;
                &lt;template&gt;${_sys_data_only}&lt;/template&gt;
            &lt;/if&gt;
            &lt;else&gt;true&lt;/else&gt;
        &lt;/case&gt;
    &lt;/var-def&gt;

    &lt;var-def name="datastoreName"&gt;
        &lt;script return="item.getWrappedObject().getRun().getDatastoreName()" /&gt;
    &lt;/var-def&gt;
    &lt;case&gt;
        &lt;if condition="${!datastoreName.isEmpty()}"&gt;
            &lt;insert-datastore   datastore-name="${datastoreName}" create="true"&gt;
                &lt;script return="hit_submission_data_item.getWrappedObject().getItemValueMap()"/&gt;
            &lt;/insert-datastore&gt;
        &lt;/if&gt;
    &lt;/case&gt;

    &lt;export include-original-data="true"
            export-type="${exportType}"
            export-columns="${exportColumns}"
            column-name-case="${columnNameCase}"
            data-only="${dataOnly}"&gt;
    &lt;/export&gt;
&lt;/config&gt;</content>
                                 <description>Default machine campaign for end step.</description>
                                 <includedConfigs/>
                                 <inclusionCode>9e5000e3-c243-42d3-b5ad-c6ac90dec35e</inclusionCode>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <name>Final Results</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>9e5000e3-c243-42d3-b5ad-c6ac90dec35e</uuid>
                                 <version>
                                    <componentUuid>9e5000e3-c243-42d3-b5ad-c6ac90dec35e</componentUuid>
                                    <incrementalVersion>1.0</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-05-10T10:44:47Z</lastModified>
                                    <versionUuid>30998aab-543f-11e8-b8a9-12e20640c4de</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>100</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Percents</streamValueType>
                              <title>Final Results</title>
                              <type>SINGLE</type>
                              <uuid>af4c8905-26dd-4120-b208-39ad3530ffc6</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>300a4c67-543f-11e8-b8a9-12e20640c4de</componentUuid>
                                 <incrementalVersion>1.0</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-05-10T10:44:47Z</lastModified>
                                 <versionUuid>3099b630-543f-11e8-b8a9-12e20640c4de</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>20</stepIndex>
                           <stepPosition>END</stepPosition>
                           <uuid>6c330b45-c095-44d1-b1e2-ac635e601387</uuid>
                        </campaignMap>
                     </campaignMaps>
                     <campaigns/>
                     <compositeCampaignVersion>NEW_WORKFLOW</compositeCampaignVersion>
                     <compositeStructureXml>&lt;mxGraphModel&gt;&lt;root&gt;&lt;mxCell id="0"/&gt;&lt;mxCell id="1" parent="0"/&gt;&lt;Start id="3" name="Start" type="start"&gt;&lt;mxCell parent="1" style="start" vertex="1"&gt;&lt;mxGeometry as="geometry" height="32.0" width="38.0" x="926.0"/&gt;&lt;/mxCell&gt;&lt;/Start&gt;&lt;MachineTask campaignMapUUID="86cf15dd-0f2f-4d3a-a4d8-cf201fb7d638" id="5" name="Test Datastore" taskUUID="d3b6c2da-0a4f-4f45-8411-e8098f427453" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="638.0" y="156.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;MachineTask campaignMapUUID="746b7186-6f28-4272-8747-29002ffc9eae" id="6" name="Test S3 " taskUUID="dd5ed5d4-6754-402d-b085-d2910664558a" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="865.0" y="156.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;MachineTask campaignMapUUID="2eb6169e-fb99-4e2f-8a7c-fe1e898cb927" id="7" name="Test Secure Storage" taskUUID="d1113ee7-5f48-4cdb-aff6-91a332b5f693" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="1146.0" y="110.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;Rule id="17" name="Is OCR included?" ruleUUID="d3012f19-75d3-41a2-a1c1-0110747ae6b3" type="rule"&gt;&lt;mxCell parent="1" style="rule" vertex="1"&gt;&lt;mxGeometry as="geometry" height="32.0" width="28.0" x="1146.0" y="330.0"/&gt;&lt;/mxCell&gt;&lt;/Rule&gt;&lt;Link id="19" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="36c04858-48e1-4260-b426-01812064d900" type="link"&gt;&lt;mxCell edge="1" parent="1" source="5" style="link" target="6"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link id="20" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="68fda004-19a0-467b-bd07-7e75508c3e5f" type="link"&gt;&lt;mxCell edge="1" parent="1" source="6" style="link" target="7"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link conditional="true" id="22" label="Yes" name="" outcomeId="Yes" ruleUUID="d3012f19-75d3-41a2-a1c1-0110747ae6b3" type="link"&gt;&lt;mxCell edge="1" parent="1" source="17" style="link" target="44"&gt;&lt;mxGeometry as="geometry" relative="1" x="7.0E-4" y="-5.0"&gt;&lt;Array as="points"/&gt;&lt;mxPoint as="offset" x="4.0" y="5.0"/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;End campaignMapUUID="6c330b45-c095-44d1-b1e2-ac635e601387" id="23" name="End" type="end"&gt;&lt;mxCell parent="1" style="end" vertex="1"&gt;&lt;mxGeometry as="geometry" height="40.0" width="38.0" x="1108.0" y="1080.0"/&gt;&lt;/mxCell&gt;&lt;/End&gt;&lt;HumanTask campaignMapUUID="c7d0326e-a898-4444-b704-11707e75ba95" id="37" name="Integration Testing (WorkSpace)" taskUUID="fe885df5-59ea-4b92-9197-50d78b90db90" type="human_task"&gt;&lt;mxCell parent="1" style="human_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="1047.0" y="890.0"/&gt;&lt;/mxCell&gt;&lt;/HumanTask&gt;&lt;Link id="41" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="4aa21110-27fc-4831-a152-d7ee4f2d5b06" type="link"&gt;&lt;mxCell edge="1" parent="1" source="14" style="link" target="50"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"&gt;&lt;Array as="points"/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;MachineTask campaignMapUUID="359507f8-e6be-4118-9c50-b83a536691e6" id="44" name="Test GhostScript" taskUUID="d1ef51ac-5c01-4798-80bd-04b3937246e1" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="865.0" y="316.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;MachineTask campaignMapUUID="3ad0fe09-3161-4d0f-915c-168d40ee42db" id="14" name="Test OCR" taskUUID="960f4048-d595-482e-baa1-526fd8504058" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="638.0" y="316.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;Link id="45" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="2d65ff08-d517-48eb-9962-eb79cc962920" type="link"&gt;&lt;mxCell edge="1" parent="1" source="44" style="link" target="14"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"&gt;&lt;mxPoint as="sourcePoint" x="530.0" y="365.0"/&gt;&lt;mxPoint as="targetPoint" x="142.0" y="411.0"/&gt;&lt;Array as="points"/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Rule id="49" name="Is RPA Included?" ruleUUID="2b548ff4-0897-40b8-9e1a-54a017de3df6" type="rule"&gt;&lt;mxCell parent="1" style="rule" vertex="1"&gt;&lt;mxGeometry as="geometry" height="32.0" width="32.0" x="440.0" y="654.0"/&gt;&lt;/mxCell&gt;&lt;/Rule&gt;&lt;MachineTask campaignMapUUID="fa62ecef-3c8c-4ffc-9559-8df51fe0ae37" id="50" name="Empty" taskUUID="e70a5540-0ce1-4ba9-90df-323767e0b394" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="638.0" y="416.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;Link id="51" name="" type="link"&gt;&lt;mxCell edge="1" parent="1" source="50" style="link" target="49"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"&gt;&lt;Array as="points"/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;MachineTask campaignMapUUID="5451d4b9-4421-4649-a960-1bbde3b582ce" id="58" name="RPA: Test IE Browser" taskUUID="70bb2a90-83b3-48a0-9a6d-48794ac9ddc3" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="540.0" y="640.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;MachineTask campaignMapUUID="19e7e0cd-8464-4ba7-be27-b668a8d03ea2" id="59" name="RPA: Test Chrome Browser" taskUUID="e9d802a2-f6bc-4e02-ae58-45f0f2944d5a" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="760.0" y="640.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;MachineTask campaignMapUUID="c9f01708-c51e-4dab-9dd0-5469e6084208" id="60" name="RPA: Test Desktop Driver" taskUUID="a1ab8e10-c486-4ec6-bade-ca4d888b5922" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="1190.0" y="640.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;MachineTask campaignMapUUID="3ead6ce9-0b8c-4fdd-b823-39b257ccb94b" id="74" name="Simulate OCR result" taskUUID="da54720b-6746-4fcc-8580-e253682bf4d5" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="865.0" y="500.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;Link id="75" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="2b505a43-8159-4def-805d-746eec6c005b" type="link"&gt;&lt;mxCell edge="1" parent="1" source="74" style="link" target="50"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link conditional="true" id="76" label="No" name="" outcomeId="No" ruleUUID="d3012f19-75d3-41a2-a1c1-0110747ae6b3" type="link"&gt;&lt;mxCell edge="1" parent="1" source="17" style="link" target="74"&gt;&lt;mxGeometry as="geometry"&gt;&lt;mxPoint as="targetPoint" x="1266.0" y="346.0"/&gt;&lt;Array as="points"&gt;&lt;mxPoint x="1160.0" y="530.0"/&gt;&lt;/Array&gt;&lt;mxPoint as="offset" x="68.0" y="-36.0"/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;MachineTask campaignMapUUID="18ba5216-f247-4b48-8c75-a64af093387a" id="91" name="Export BP Run details" taskUUID="76d18561-2b36-4f24-aed4-36c8ffc4b5cf" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="638.0" y="70.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;Link id="93" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="f464046a-04b3-4c2c-b4ab-0acc7f41908a" type="link"&gt;&lt;mxCell edge="1" parent="1" source="91" style="link" target="5"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;MachineTask campaignMapUUID="19b104f0-3aca-49ad-a389-129e5ad09657" id="94" name="Export Result Data" taskUUID="9b64b63a-d2ae-4d4a-ae32-c4374a7c2464" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="1047.0" y="970.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;Link id="95" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="ebfa3d73-f069-4a8c-a263-c4e5fda969f6" type="link"&gt;&lt;mxCell edge="1" parent="1" source="37" style="link" target="94"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link id="96" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="eda927c7-feb2-434d-9cff-754f5ef20035" type="link"&gt;&lt;mxCell edge="1" parent="1" source="94" style="link" target="23"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link id="111" name="" type="link"&gt;&lt;mxCell edge="1" parent="1" source="3" style="link" target="150"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"&gt;&lt;mxPoint as="targetPoint" x="967.0" y="70.0"/&gt;&lt;Array as="points"/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link id="112" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="edeaa11b-86a5-460e-8f33-48437b1c17a0" type="link"&gt;&lt;mxCell edge="1" parent="1" source="150" style="link" target="91"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"&gt;&lt;mxPoint as="sourcePoint" x="887.0" y="100.0"/&gt;&lt;Array as="points"/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link conditional="true" id="125" label="Yes" name="" outcomeId="Yes" ruleUUID="2b548ff4-0897-40b8-9e1a-54a017de3df6" type="link"&gt;&lt;mxCell edge="1" parent="1" source="49" style="link" target="58"&gt;&lt;mxGeometry as="geometry"&gt;&lt;mxPoint as="targetPoint" x="610.0" y="640.0"/&gt;&lt;Array as="points"/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link id="126" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="3e362764-ba8a-4dbe-9532-7227d7900f9f" type="link"&gt;&lt;mxCell edge="1" parent="1" source="58" style="link" target="59"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;MachineTask campaignMapUUID="d6e1e4a0-9406-4f87-b44b-6966fcc6f09a" id="127" name="RPA: Test Firefox Browser" taskUUID="d2991763-566d-4d8f-b4b3-70e71710028b" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="977.0" y="640.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;Link id="128" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="8f95f763-84d4-40b1-b9ac-bb3a42eec70d" type="link"&gt;&lt;mxCell edge="1" parent="1" source="59" style="link" target="127"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link id="129" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="3b297ff9-bac3-49ac-82e9-ee9937ecb3a2" type="link"&gt;&lt;mxCell edge="1" parent="1" source="127" style="link" target="60"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link id="130" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="d5c657d6-95aa-4529-8abb-287157f1fb0c" type="link"&gt;&lt;mxCell edge="1" parent="1" source="60" style="link" target="37"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"&gt;&lt;Array as="points"&gt;&lt;mxPoint x="1270.0" y="790.0"/&gt;&lt;mxPoint x="1127.0" y="790.0"/&gt;&lt;/Array&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link conditional="true" id="131" label="No" name="" outcomeId="No" ruleUUID="2b548ff4-0897-40b8-9e1a-54a017de3df6" type="link"&gt;&lt;mxCell edge="1" parent="1" source="49" style="link" target="37"&gt;&lt;mxGeometry as="geometry"&gt;&lt;mxPoint as="targetPoint" x="540.0" y="880.0"/&gt;&lt;Array as="points"&gt;&lt;mxPoint x="456.0" y="790.0"/&gt;&lt;mxPoint x="1127.0" y="790.0"/&gt;&lt;/Array&gt;&lt;mxPoint as="offset" x="-322.0" y="-38.0"/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Rule id="136" name="Is ML included?" ruleUUID="c46847d1-cc45-483a-a84e-84be1c93d873" type="rule"&gt;&lt;mxCell parent="1" style="rule" vertex="1"&gt;&lt;mxGeometry as="geometry" height="32.0" width="32.0" x="1430.0" y="210.0"/&gt;&lt;/mxCell&gt;&lt;/Rule&gt;&lt;Link id="137" name="" type="link"&gt;&lt;mxCell edge="1" parent="1" source="7" style="link" target="136"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;MachineTask campaignMapUUID="9ff51a1f-8836-4794-804d-7b0f986128fa" id="138" name="Simulate ML" taskUUID="1652fd51-6168-45b9-cc1f-17915ba2a78d" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="116.0" x="1174.0" y="210.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;Link conditional="true" id="140" label="no" name="" outcomeId="no" ruleUUID="c46847d1-cc45-483a-a84e-84be1c93d873" type="link"&gt;&lt;mxCell edge="1" parent="1" source="136" style="link" target="138"&gt;&lt;mxGeometry as="geometry"&gt;&lt;mxPoint as="targetPoint" x="1560.0" y="330.0"/&gt;&lt;Array as="points"/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link id="141" name="" type="link"&gt;&lt;mxCell edge="1" parent="1" source="138" style="link" target="17"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"&gt;&lt;mxPoint as="targetPoint" x="1260.0" y="220.0"/&gt;&lt;Array as="points"/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;MachineTask campaignMapUUID="c8732949-e982-4027-b89d-05bb505c051a" id="143" name="input for ML" taskUUID="b19ce24d-d9e9-405b-9700-ab8813aa4cef" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="1550.0" y="250.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;Link id="145" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="e28a5303-7dc8-4a38-c4c9-4dfc6869b2b6" type="link"&gt;&lt;mxCell edge="1" parent="1" source="143" style="link" target="151"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"&gt;&lt;mxPoint as="targetPoint" x="1542.0" y="470.3999938964844"/&gt;&lt;Array as="points"/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link conditional="true" id="146" label="yes" name="" outcomeId="yes" ruleUUID="c46847d1-cc45-483a-a84e-84be1c93d873" type="link"&gt;&lt;mxCell edge="1" parent="1" source="136" style="link" target="143"&gt;&lt;mxGeometry as="geometry"&gt;&lt;mxPoint as="targetPoint" x="1550.0" y="211.0"/&gt;&lt;Array as="points"/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;MachineTask campaignMapUUID="de5d554a-d55e-446c-b7ce-60e5e19921ca" id="147" name="add result" taskUUID="d7ad4fb6-1ba5-4e0a-92e7-89e79292bbe3" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="70.0" width="170.0" x="1250.0" y="316.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;Link id="148" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="c8a3a3ab-adf4-4a4a-f88e-f4c98b750099" type="link"&gt;&lt;mxCell edge="1" parent="1" source="151" style="link" target="147"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"&gt;&lt;mxPoint as="sourcePoint" x="1462.1999969482422" y="500.0"/&gt;&lt;Array as="points"/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link id="149" name="" type="link"&gt;&lt;mxCell edge="1" parent="1" source="147" style="link" target="17"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;MachineTask campaignMapUUID="4121c2ed-e222-448d-b6f5-fea5a66d9d3c" id="150" name="Settings" taskUUID="a614d050-9907-42f9-df11-7ae394ae4dbd" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="900.0" y="80.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;HumanTask campaignMapUUID="131489f4-ea7b-485e-f2e2-4d3a27478735" id="151" name="Classification Cognitive Automation Task" taskUUID="b1690518-30f0-4b77-b196-5985154cf605" type="human_task"&gt;&lt;mxCell parent="1" style="human_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="1470.0" y="480.0"/&gt;&lt;/mxCell&gt;&lt;/HumanTask&gt;&lt;/root&gt;&lt;/mxGraphModel&gt;</compositeStructureXml>
                     <description/>
                     <executingType>COMPOSITE</executingType>
                     <goldBucketBlockSize>0</goldBucketBlockSize>
                     <goldRatio>0</goldRatio>
                     <goldSource>Empty</goldSource>
                     <goldType>Percentage</goldType>
                     <moderation>false</moderation>
                     <origination>CREATED_AUTOMATICALLY</origination>
                     <question>
                        <answers>
                           <answer>
                              <allowNA>false</allowNA>
                              <answer>WorkFusion</answer>
                              <answerCode>ocr_result_html</answerCode>
                              <answerHtml/>
                              <answerTypeObject>
                                 <answerTypeGroup>ADVANCED</answerTypeGroup>
                                 <code>INFO_EXTRACTION</code>
                                 <description/>
                                 <optionsAvailable>true</optionsAvailable>
                                 <showDefaultValue>true</showDefaultValue>
                                 <showForFieldScheme>false</showForFieldScheme>
                                 <showForHumanTask>true</showForHumanTask>
                                 <showForMachineConfig>false</showForMachineConfig>
                                 <title>Information Extraction</title>
                                 <valueType>SINGLEVALUE</valueType>
                              </answerTypeObject>
                              <appendDataStoreOptions>false</appendDataStoreOptions>
                              <autocompleteField>false</autocompleteField>
                              <category/>
                              <constantable>false</constantable>
                              <defaultValue/>
                              <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                              <doNotUseInAdjudication>false</doNotUseInAdjudication>
                              <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                              <htmlClasses/>
                              <lastModified>2017-09-06T10:30:01Z</lastModified>
                              <letCustomValues>false</letCustomValues>
                              <manualField>false</manualField>
                              <multiValue>false</multiValue>
                              <options>{"ieExtractorType":"KEEP_EVERYTHING_EXTRACTOR"}</options>
                              <originalDocumentSource>${question.data['document_link']}</originalDocumentSource>
                              <percentRequired>false</percentRequired>
                              <range>false</range>
                              <required>false</required>
                              <sequenceNumber>1</sequenceNumber>
                              <useBlocks>false</useBlocks>
                              <useEmptyCell>false</useEmptyCell>
                           </answer>
                           <answer>
                              <allowNA>false</allowNA>
                              <answer>Your Answer</answer>
                              <answerCode>human_task_result</answerCode>
                              <answerHtml/>
                              <answerTypeObject>
                                 <answerTypeGroup>UNCONSTRAINED_TEXT</answerTypeGroup>
                                 <code>FREE_TEXT</code>
                                 <description/>
                                 <optionsAvailable>false</optionsAvailable>
                                 <showDefaultValue>true</showDefaultValue>
                                 <showForFieldScheme>true</showForFieldScheme>
                                 <showForHumanTask>true</showForHumanTask>
                                 <showForMachineConfig>true</showForMachineConfig>
                                 <title>Free Text</title>
                                 <valueType>SINGLEVALUE</valueType>
                              </answerTypeObject>
                              <appendDataStoreOptions>false</appendDataStoreOptions>
                              <autocompleteField>false</autocompleteField>
                              <category/>
                              <constantable>false</constantable>
                              <defaultValue/>
                              <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                              <doNotUseInAdjudication>false</doNotUseInAdjudication>
                              <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                              <hotKey>w</hotKey>
                              <htmlClasses/>
                              <lastModified>2017-09-06T12:48:04Z</lastModified>
                              <letCustomValues>false</letCustomValues>
                              <manualField>false</manualField>
                              <multiValue>false</multiValue>
                              <parentAnswer>
                                 <allowNA>false</allowNA>
                                 <answer>WorkFusion</answer>
                                 <answerCode>ocr_result_html</answerCode>
                                 <answerHtml/>
                                 <answerTypeObject>
                                    <answerTypeGroup>ADVANCED</answerTypeGroup>
                                    <code>INFO_EXTRACTION</code>
                                    <description/>
                                    <optionsAvailable>true</optionsAvailable>
                                    <showDefaultValue>true</showDefaultValue>
                                    <showForFieldScheme>false</showForFieldScheme>
                                    <showForHumanTask>true</showForHumanTask>
                                    <showForMachineConfig>false</showForMachineConfig>
                                    <title>Information Extraction</title>
                                    <valueType>SINGLEVALUE</valueType>
                                 </answerTypeObject>
                                 <appendDataStoreOptions>false</appendDataStoreOptions>
                                 <autocompleteField>false</autocompleteField>
                                 <category/>
                                 <constantable>false</constantable>
                                 <defaultValue/>
                                 <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                 <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                 <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                 <htmlClasses/>
                                 <lastModified>2017-09-06T10:30:01Z</lastModified>
                                 <letCustomValues>false</letCustomValues>
                                 <manualField>false</manualField>
                                 <multiValue>false</multiValue>
                                 <options>{"ieExtractorType":"KEEP_EVERYTHING_EXTRACTOR"}</options>
                                 <originalDocumentSource>${question.data['document_link']}</originalDocumentSource>
                                 <percentRequired>false</percentRequired>
                                 <range>false</range>
                                 <required>false</required>
                                 <sequenceNumber>1</sequenceNumber>
                                 <useBlocks>false</useBlocks>
                                 <useEmptyCell>false</useEmptyCell>
                              </parentAnswer>
                              <percentRequired>false</percentRequired>
                              <range>false</range>
                              <required>true</required>
                              <sequenceNumber>2</sequenceNumber>
                              <useBlocks>false</useBlocks>
                              <useEmptyCell>false</useEmptyCell>
                           </answer>
                        </answers>
                        <assignmentDuration>1800000</assignmentDuration>
                        <assignmentLimit>1</assignmentLimit>
                        <attrs>{"lnaa":"Run","lnam":"Tasks","lna":"0"}</attrs>
                        <autoApprovalDelay>108000000</autoApprovalDelay>
                        <automaticallyProcessed>0</automaticallyProcessed>
                        <blockSize>1</blockSize>
                        <constQualifiedWorkers>false</constQualifiedWorkers>
                        <currency>USD</currency>
                        <description>Miscellaneous Tasks</description>
                        <dynamicTaskRenderingDisabled>true</dynamicTaskRenderingDisabled>
                        <expiredTime>2592000000</expiredTime>
                        <faqItems/>
                        <frameHeight>2500</frameHeight>
                        <geolocationEnabled>false</geolocationEnabled>
                        <instructionItems/>
                        <keywords>Miscellaneous Tasks</keywords>
                        <maxAssignments>1</maxAssignments>
                        <moderation>false</moderation>
                        <moderationFlag>false</moderationFlag>
                        <origination>CREATED_MANUALLY</origination>
                        <pendingAssignmentsLimit>10</pendingAssignmentsLimit>
                        <qualificationInstruction/>
                        <qualificationRequirements/>
                        <qualificationRequirementsRequiredForPreview>false</qualificationRequirementsRequiredForPreview>
                        <qualificationTasks>20</qualificationTasks>
                        <qualificationTraining>false</qualificationTraining>
                        <questionRuleMaps>
                           <questionRuleMap>
                              <businessRule>
                                 <content>

package com.freedomoss.requester;

#list any import classes here.
import com.freedomoss.objective.model.RuleContext;
import com.freedomoss.objective.model.RuleContext.MajorityType;
import com.freedomoss.objective.model.RuleAssigmentContext;
import com.freedomoss.objective.model.RuleQuestionContext;
import com.freedomoss.requester.model.AwsHitQuestion;
import com.freedomoss.requester.model.AwsHitQuestionItem;
import com.freedomoss.requester.model.AwsHitQuestionAnswerItem;

import org.slf4j.Logger;
import java.util.ArrayList;
import java.util.List;
import java.util.Set;
import java.util.Map;
import java.util.Iterator;

#declare any global variables here
global RuleContext source
global Logger log
global Map params


rule "Rule context initialization"
auto-focus true
no-loop
dialect "mvel"
agenda-group "initialization-group"
	when
		$ctx:RuleContext(initialized == false);
	then
	    # set parameters

        $ctx.properties[RuleContext.MAJORITY_TYPE] =  RuleContext.MajorityType.COUNT;
        $ctx.properties[RuleContext.MAJORITY_VALUE] = new Integer(1);

        #$ctx.properties[RuleContext.MAX_ASSIGNMENT_LIMIT] = new Integer(1);
        $ctx.properties[RuleContext.MAJORITY_HIT_THRESHOLD] = new Double(100/100);
        $ctx.properties[RuleContext.ASSIGNMENT_APPROVE_THRESHOLD] = new Double(0.5);

        # insert processed facts into memory
        $ctx.updateWorkingMemory();
        # move to business rules
        kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
        $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Worst accuracy rule-Evaluate every 5 gold question and set Accuracy based qualification score to 70 if gold accuracy goes up &lt; 75 percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  5) == 0 &amp;&amp; $campaignStatistic.goldAccuracy &lt; (75/100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, 70);
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Normal accuracy rule-Evaluate every 5 gold question and set Accuracy based qualification score to 80 if gold accuracy goes up &gt;= 75 percents and &lt; 90"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  5) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= (75/ 100) &amp;&amp; $campaignStatistic.goldAccuracy &lt; (90 / 100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, 80);
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Super accuracy rule-Evaluate every 5 gold question and set Accuracy based qualification score to 95 if gold accuracy goes up &gt;= 90 percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  5) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= (90 / 100) )
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, 95);
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "0. Check, if exist majority"
agenda-group "calculation"
dialect "mvel"
salience 100
no-loop
	when
	    $ctx:RuleContext (initialized == true, $gold:gold, $threshold:properties.MAJORITY_HIT_THRESHOLD)
        eval($ctx.majorityWithoutGold().size() &gt;= ($ctx.questions.size() - $gold.size()) *  $threshold)
	then
		insert(new String("MAJORITY_FOUND"));
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "1. Approve question by majority"
agenda-group "calculation"
dialect "mvel"
salience 90
no-loop
	when
		((String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true))
		or
		(not String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true, assignments.size == properties.MAX_ASSIGNMENT_LIMIT)))
		$rqc:RuleQuestionContext()
	then
		$rqc.approveQuestion($ctx.majority());
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rqc);
end

rule "3. Approve assignment (always)"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		$ctx:RuleContext(initialized == true, $threshold:properties.ASSIGNMENT_APPROVE_THRESHOLD)
		$rac:RuleAssigmentContext()
	then
	    insert(new String("ASSIGNMENT_PROCESSED"));
		$ctx.addApproved($rac);
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rac);
end

rule "5. Extend HIT"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		not String(toString == "MAJORITY_FOUND")
		$ctx:RuleContext(initialized == true, assignments.size &lt; properties.MAX_ASSIGNMENT_LIMIT);
	then
		$ctx.setExtendHit(true);
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

</content>
                                 <name>Start with one assignment 1+0 pay all</name>
                                 <paramValues>{"NORMAL_ACCURACY_LEVEL_SCORE":"80","NORMAL_ACCURACY_LEVEL_UPPER_LIMIT":"90","WORST_ACCURACY_LEVEL_SCORE":"70","MAJORITY_HIT_THRESHOLD":"100","SUPER_ACCURACY_LEVEL_LOWER_LIMIT":"90","WORST_ACCURACY_LEVEL_UPPER_LIMIT":"75","SUPER_ACCURACY_LEVEL_SCORE":"95","NORMAL_ACCURACY_LEVEL_LOWER_LIMIT":"75","MAJORITY_VALUE":"1","CHECK_EVERY":"5","MAX_ASSIGNMENT_LIMIT":"1"}</paramValues>
                                 <ruleType>DROOLS</ruleType>
                                 <ruleTypeUI>Adjudication</ruleTypeUI>
                                 <template>
                                    <content>

package com.freedomoss.requester;

#list any import classes here.
import com.freedomoss.objective.model.RuleContext;
import com.freedomoss.objective.model.RuleContext.MajorityType;
import com.freedomoss.objective.model.RuleAssigmentContext;
import com.freedomoss.objective.model.RuleQuestionContext;
import com.freedomoss.requester.model.AwsHitQuestion;
import com.freedomoss.requester.model.AwsHitQuestionItem;
import com.freedomoss.requester.model.AwsHitQuestionAnswerItem;

import org.slf4j.Logger;
import java.util.ArrayList;
import java.util.List;
import java.util.Set;
import java.util.Map;
import java.util.Iterator;

#declare any global variables here
global RuleContext source
global Logger log
global Map params


rule "Rule context initialization"
auto-focus true
no-loop
dialect "mvel"
agenda-group "initialization-group"
	when
		$ctx:RuleContext(initialized == false);
	then
	    # set parameters

        $ctx.properties[RuleContext.MAJORITY_TYPE] =  RuleContext.MajorityType.COUNT;
        $ctx.properties[RuleContext.MAJORITY_VALUE] = new Integer({{MAJORITY_VALUE}});

        #$ctx.properties[RuleContext.MAX_ASSIGNMENT_LIMIT] = new Integer({{MAX_ASSIGNMENT_LIMIT}});
        $ctx.properties[RuleContext.MAJORITY_HIT_THRESHOLD] = new Double({{MAJORITY_HIT_THRESHOLD}}/100);
        $ctx.properties[RuleContext.ASSIGNMENT_APPROVE_THRESHOLD] = new Double(0.5);

        # insert processed facts into memory
        $ctx.updateWorkingMemory();
        # move to business rules
        kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
        $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Worst accuracy rule-Evaluate every {{CHECK_EVERY}} gold question and set Accuracy based qualification score to {{WORST_ACCURACY_LEVEL_SCORE}} if gold accuracy goes up &lt; {{WORST_ACCURACY_LEVEL_UPPER_LIMIT}} percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  {{CHECK_EVERY}}) == 0 &amp;&amp; $campaignStatistic.goldAccuracy &lt; ({{WORST_ACCURACY_LEVEL_UPPER_LIMIT}}/100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, {{WORST_ACCURACY_LEVEL_SCORE}});
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Normal accuracy rule-Evaluate every {{CHECK_EVERY}} gold question and set Accuracy based qualification score to {{NORMAL_ACCURACY_LEVEL_SCORE}} if gold accuracy goes up &gt;= {{NORMAL_ACCURACY_LEVEL_LOWER_LIMIT}} percents and &lt; {{NORMAL_ACCURACY_LEVEL_UPPER_LIMIT}}"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  {{CHECK_EVERY}}) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= ({{NORMAL_ACCURACY_LEVEL_LOWER_LIMIT}}/ 100) &amp;&amp; $campaignStatistic.goldAccuracy &lt; ({{NORMAL_ACCURACY_LEVEL_UPPER_LIMIT}} / 100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, {{NORMAL_ACCURACY_LEVEL_SCORE}});
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Super accuracy rule-Evaluate every {{CHECK_EVERY}} gold question and set Accuracy based qualification score to {{SUPER_ACCURACY_LEVEL_SCORE}} if gold accuracy goes up &gt;= {{SUPER_ACCURACY_LEVEL_LOWER_LIMIT}} percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  {{CHECK_EVERY}}) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= ({{SUPER_ACCURACY_LEVEL_LOWER_LIMIT}} / 100) )
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, {{SUPER_ACCURACY_LEVEL_SCORE}});
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "0. Check, if exist majority"
agenda-group "calculation"
dialect "mvel"
salience 100
no-loop
	when
	    $ctx:RuleContext (initialized == true, $gold:gold, $threshold:properties.MAJORITY_HIT_THRESHOLD)
        eval($ctx.majorityWithoutGold().size() &gt;= ($ctx.questions.size() - $gold.size()) *  $threshold)
	then
		insert(new String("MAJORITY_FOUND"));
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "1. Approve question by majority"
agenda-group "calculation"
dialect "mvel"
salience 90
no-loop
	when
		((String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true))
		or
		(not String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true, assignments.size == properties.MAX_ASSIGNMENT_LIMIT)))
		$rqc:RuleQuestionContext()
	then
		$rqc.approveQuestion($ctx.majority());
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rqc);
end

rule "3. Approve assignment (always)"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		$ctx:RuleContext(initialized == true, $threshold:properties.ASSIGNMENT_APPROVE_THRESHOLD)
		$rac:RuleAssigmentContext()
	then
	    insert(new String("ASSIGNMENT_PROCESSED"));
		$ctx.addApproved($rac);
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rac);
end

rule "5. Extend HIT"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		not String(toString == "MAJORITY_FOUND")
		$ctx:RuleContext(initialized == true, assignments.size &lt; properties.MAX_ASSIGNMENT_LIMIT);
	then
		$ctx.setExtendHit(true);
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

</content>
                                    <description>Get qualified workers: pay if ${MAJORITY_VALUE} correct answers, start with 1 assignment, extend to maximum of ${MAX_ASSIGNMENT_LIMIT} assignments. Set qualification scores depending on gold accuracy.</description>
                                    <name>Start with 1 assignment X+0 rule (pay all)</name>
                                    <params>
                                       <param>
                                          <code>WORST_ACCURACY_LEVEL_UPPER_LIMIT</code>
                                          <defaultValue>75</defaultValue>
                                          <description>Worst accuracy level upper limit in percents exclusive, lower limit is considered as 0</description>
                                          <name>Worst accuracy level upper limit</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>MAJORITY_HIT_THRESHOLD</code>
                                          <defaultValue>100</defaultValue>
                                          <description>Percent (from 0 to 100) of correct answers when  majority is found</description>
                                          <name>Percent of correct answers</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>MAJORITY_VALUE</code>
                                          <defaultValue>1</defaultValue>
                                          <description>Number of correct answers</description>
                                          <name>Majority value</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>WORST_ACCURACY_LEVEL_SCORE</code>
                                          <defaultValue>70</defaultValue>
                                          <description>Qualification score will be given to a worker who has demonstrated a low accuracy</description>
                                          <name>Worst accuracy level score</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>SUPER_ACCURACY_LEVEL_LOWER_LIMIT</code>
                                          <defaultValue>90</defaultValue>
                                          <description>Super accuracy level lower limit in percents inclusive, upper limit is considered as 100</description>
                                          <name>Super accuracy level lower limit</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>CHECK_EVERY</code>
                                          <defaultValue>5</defaultValue>
                                          <description>Check every i-th gold question when evaluating qualification score</description>
                                          <name>Check every i-th gold question</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>MAX_ASSIGNMENT_LIMIT</code>
                                          <defaultValue>1</defaultValue>
                                          <description>Maximum number of assignments</description>
                                          <name>Max assignments limit</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>NORMAL_ACCURACY_LEVEL_SCORE</code>
                                          <defaultValue>80</defaultValue>
                                          <description>Qualification score will be given to a worker who has demonstrated a normal accuracy</description>
                                          <name>Normal accuracy level score</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>NORMAL_ACCURACY_LEVEL_LOWER_LIMIT</code>
                                          <defaultValue>75</defaultValue>
                                          <description>Normal accuracy level lower limit in percents inclusive</description>
                                          <name>Normal accuracy level lower limit</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>SUPER_ACCURACY_LEVEL_SCORE</code>
                                          <defaultValue>95</defaultValue>
                                          <description>Qualification score will be given to a worker who has demonstrated a super accuracy</description>
                                          <name>Super accuracy level score</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>NORMAL_ACCURACY_LEVEL_UPPER_LIMIT</code>
                                          <defaultValue>90</defaultValue>
                                          <description>Normal accuracy level upper limit in percents exclusive</description>
                                          <name>Normal accuracy level upper limit</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                    </params>
                                 </template>
                                 <uuid>f5159a8c-03e8-4863-980c-49185acdf1e1</uuid>
                                 <workflowRuleMode>ADVANCED</workflowRuleMode>
                              </businessRule>
                           </questionRuleMap>
                        </questionRuleMaps>
                        <radiusSelector>ExactLocation</radiusSelector>
                        <randomizeAnswers>false</randomizeAnswers>
                        <recursiveThreshold>1</recursiveThreshold>
                        <restrictedCountries/>
                        <taskNotificationSchedule>IMMEDIATE</taskNotificationSchedule>
                        <templates>
                           <template>
                              <code/>
                              <content>&lt;#include "extras.ftl" parse=true/&gt;
&lt;#include "html.ftl" parse=true/&gt;
&lt;#include "answers.ftl" parse=true/&gt;
&lt;#assign FEEDBACK_ENABLED = true&gt;

&lt;@hit contentCss="${applicationResourceUrl}/workfusion-resources/saas/ms/ms.bootstrap.min.css"&gt;
&lt;@script src="${applicationResourceUrl}/workfusion-resources/bootstrap/js/bootstrap-tab.js"/&gt;  
  

  
&lt;@instructions title="&lt;h2&gt;Integration Testing (WorkSpace)&lt;/h2&gt;"&gt;
  &lt;!--- editable content --&gt;
  &lt;@editable id="__INSTRUCTIONS__"&gt;&lt;h4&gt;Below You should see OCRed text "^Workfusion"&lt;br&gt;&lt;/h4&gt;&lt;p&gt;&lt;span style="font-size: 10pt;" data-mce-style="font-size: 10pt;"&gt;1. Please tag it, you need to tag only "Workfusion" word itself without "^" character.&lt;/span&gt;&lt;/p&gt;&lt;/@editable&gt;
&lt;/@instructions&gt;
&lt;@form&gt;
&lt;#if questions??&gt;
    &lt;div class="thumbnail"&gt;
    &lt;#list questions as question&gt;
      &lt;@report question=question includeAll=true/&gt;
      &lt;div style="position:relative;margin:2px 0px" class="block question"&gt;
           &lt;div style="position:absolute;top:0px;right:0px;background-color:#e0e0e0;padding:1px 4px;border: 1px solid #C0C0C0;border-radius: 0px" class="number"&gt;
                &lt;b&gt;${question_index + 1}&lt;/b&gt;
           &lt;/div&gt;
           &lt;div&gt;
               &lt;div class="place bg-dark"&gt;
                 &lt;@editable id="__DATA__"&gt;Please verify that original document is available. Click &lt;strong&gt;Popup&lt;/strong&gt; link &amp;nbsp;below!&lt;/@editable&gt;
               &lt;/div&gt;
               &lt;div class="place"&gt;
                 &lt;@answers question=question/&gt;
               &lt;/div&gt;
            &lt;/div&gt;
      &lt;/div&gt;
    &lt;/#list&gt;
    &lt;/div&gt;
&lt;/#if&gt;
&lt;@submit text="Submit" /&gt;
&lt;/@form&gt;
&lt;/@hit&gt;</content>
                              <name>Miscellaneous Tasks (Blank)</name>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <status>ACTIVE</status>
                              <type>TASK</type>
                              <uuid>59b71a98-1972-4d83-8506-4c05f147f09a</uuid>
                              <version>
                                 <componentUuid>48382ec9-4df6-48e1-b2bb-aa3d95969c11</componentUuid>
                                 <incrementalVersion>1.0</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2017-09-06T12:48:04Z</lastModified>
                                 <versionUuid>33a5015b-600e-4886-a9ab-acc51c660f33</versionUuid>
                              </version>
                           </template>
                        </templates>
                        <title>Integration Testing (WorkSpace)</title>
                        <useCommonHitCoordinates>false</useCommonHitCoordinates>
                        <uuid>85c6aae0-b8bb-4337-a717-69e60ced12f2</uuid>
                        <version>
                           <componentUuid>94f0a378-3388-4405-8c8f-3b4940ea8f76</componentUuid>
                           <incrementalVersion>1.0</incrementalVersion>
                           <lastInChain>true</lastInChain>
                           <lastModified>2017-09-06T12:48:04Z</lastModified>
                           <versionUuid>c086e771-6a1c-4676-bcc2-1a3952a500c4</versionUuid>
                        </version>
                        <workSetting>
                           <category>
                              <automation>false</automation>
                              <description/>
                              <enabled>true</enabled>
                              <executingType>HUMAN</executingType>
                              <name>Other</name>
                              <private>false</private>
                              <publicId>dd92f240-144b-4fef-8476-4ec0acbc1104</publicId>
                           </category>
                           <contentType>BLANK</contentType>
                           <description/>
                           <enabled>true</enabled>
                           <name>Miscellaneous Tasks</name>
                           <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac8</publicId>
                           <version>
                              <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac8</componentUuid>
                              <incrementalVersion>1.0</incrementalVersion>
                              <lastInChain>true</lastInChain>
                              <lastModified>2018-05-10T10:44:30Z</lastModified>
                              <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac8</versionUuid>
                           </version>
                           <answers/>
                           <businessRules>
                              <businessRule>
                                 <content>

package com.freedomoss.requester;

#list any import classes here.
import com.freedomoss.objective.model.RuleContext;
import com.freedomoss.objective.model.RuleContext.MajorityType;
import com.freedomoss.objective.model.RuleAssigmentContext;
import com.freedomoss.objective.model.RuleQuestionContext;
import com.freedomoss.requester.model.AwsHitQuestion;
import com.freedomoss.requester.model.AwsHitQuestionItem;
import com.freedomoss.requester.model.AwsHitQuestionAnswerItem;

import org.slf4j.Logger;
import java.util.ArrayList;
import java.util.List;
import java.util.Set;
import java.util.Map;
import java.util.Iterator;

#declare any global variables here
global RuleContext source
global Logger log
global Map params


rule "Rule context initialization"
auto-focus true
no-loop
dialect "mvel"
agenda-group "initialization-group"
	when
		$ctx:RuleContext(initialized == false);
	then
	    # set parameters

        $ctx.properties[RuleContext.MAJORITY_TYPE] =  RuleContext.MajorityType.COUNT;
        $ctx.properties[RuleContext.MAJORITY_VALUE] = new Integer(1);

        #$ctx.properties[RuleContext.MAX_ASSIGNMENT_LIMIT] = new Integer(1);
        $ctx.properties[RuleContext.MAJORITY_HIT_THRESHOLD] = new Double(100/100);
        $ctx.properties[RuleContext.ASSIGNMENT_APPROVE_THRESHOLD] = new Double(0.5);

        # insert processed facts into memory
        $ctx.updateWorkingMemory();
        # move to business rules
        kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
        $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Worst accuracy rule-Evaluate every 5 gold question and set Accuracy based qualification score to 70 if gold accuracy goes up &lt; 75 percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  5) == 0 &amp;&amp; $campaignStatistic.goldAccuracy &lt; (75/100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, 70);
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Normal accuracy rule-Evaluate every 5 gold question and set Accuracy based qualification score to 80 if gold accuracy goes up &gt;= 75 percents and &lt; 90"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  5) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= (75/ 100) &amp;&amp; $campaignStatistic.goldAccuracy &lt; (90 / 100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, 80);
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Super accuracy rule-Evaluate every 5 gold question and set Accuracy based qualification score to 95 if gold accuracy goes up &gt;= 90 percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  5) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= (90 / 100) )
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, 95);
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "0. Check, if exist majority"
agenda-group "calculation"
dialect "mvel"
salience 100
no-loop
	when
	    $ctx:RuleContext (initialized == true, $gold:gold, $threshold:properties.MAJORITY_HIT_THRESHOLD)
        eval($ctx.majorityWithoutGold().size() &gt;= ($ctx.questions.size() - $gold.size()) *  $threshold)
	then
		insert(new String("MAJORITY_FOUND"));
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "1. Approve question by majority"
agenda-group "calculation"
dialect "mvel"
salience 90
no-loop
	when
		((String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true))
		or
		(not String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true, assignments.size == properties.MAX_ASSIGNMENT_LIMIT)))
		$rqc:RuleQuestionContext()
	then
		$rqc.approveQuestion($ctx.majority());
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rqc);
end

rule "3. Approve assignment (always)"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		$ctx:RuleContext(initialized == true, $threshold:properties.ASSIGNMENT_APPROVE_THRESHOLD)
		$rac:RuleAssigmentContext()
	then
	    insert(new String("ASSIGNMENT_PROCESSED"));
		$ctx.addApproved($rac);
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rac);
end

rule "5. Extend HIT"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		not String(toString == "MAJORITY_FOUND")
		$ctx:RuleContext(initialized == true, assignments.size &lt; properties.MAX_ASSIGNMENT_LIMIT);
	then
		$ctx.setExtendHit(true);
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

</content>
                                 <name>Start with one assignment 1+0 pay all</name>
                                 <paramValues>{"NORMAL_ACCURACY_LEVEL_SCORE":"80","NORMAL_ACCURACY_LEVEL_UPPER_LIMIT":"90","WORST_ACCURACY_LEVEL_SCORE":"70","MAJORITY_HIT_THRESHOLD":"100","SUPER_ACCURACY_LEVEL_LOWER_LIMIT":"90","WORST_ACCURACY_LEVEL_UPPER_LIMIT":"75","SUPER_ACCURACY_LEVEL_SCORE":"95","NORMAL_ACCURACY_LEVEL_LOWER_LIMIT":"75","MAJORITY_VALUE":"1","CHECK_EVERY":"5","MAX_ASSIGNMENT_LIMIT":"1"}</paramValues>
                                 <ruleType>DROOLS</ruleType>
                                 <ruleTypeUI>Adjudication</ruleTypeUI>
                                 <template>
                                    <content>

package com.freedomoss.requester;

#list any import classes here.
import com.freedomoss.objective.model.RuleContext;
import com.freedomoss.objective.model.RuleContext.MajorityType;
import com.freedomoss.objective.model.RuleAssigmentContext;
import com.freedomoss.objective.model.RuleQuestionContext;
import com.freedomoss.requester.model.AwsHitQuestion;
import com.freedomoss.requester.model.AwsHitQuestionItem;
import com.freedomoss.requester.model.AwsHitQuestionAnswerItem;

import org.slf4j.Logger;
import java.util.ArrayList;
import java.util.List;
import java.util.Set;
import java.util.Map;
import java.util.Iterator;

#declare any global variables here
global RuleContext source
global Logger log
global Map params


rule "Rule context initialization"
auto-focus true
no-loop
dialect "mvel"
agenda-group "initialization-group"
	when
		$ctx:RuleContext(initialized == false);
	then
	    # set parameters

        $ctx.properties[RuleContext.MAJORITY_TYPE] =  RuleContext.MajorityType.COUNT;
        $ctx.properties[RuleContext.MAJORITY_VALUE] = new Integer({{MAJORITY_VALUE}});

        #$ctx.properties[RuleContext.MAX_ASSIGNMENT_LIMIT] = new Integer({{MAX_ASSIGNMENT_LIMIT}});
        $ctx.properties[RuleContext.MAJORITY_HIT_THRESHOLD] = new Double({{MAJORITY_HIT_THRESHOLD}}/100);
        $ctx.properties[RuleContext.ASSIGNMENT_APPROVE_THRESHOLD] = new Double(0.5);

        # insert processed facts into memory
        $ctx.updateWorkingMemory();
        # move to business rules
        kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
        $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Worst accuracy rule-Evaluate every {{CHECK_EVERY}} gold question and set Accuracy based qualification score to {{WORST_ACCURACY_LEVEL_SCORE}} if gold accuracy goes up &lt; {{WORST_ACCURACY_LEVEL_UPPER_LIMIT}} percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  {{CHECK_EVERY}}) == 0 &amp;&amp; $campaignStatistic.goldAccuracy &lt; ({{WORST_ACCURACY_LEVEL_UPPER_LIMIT}}/100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, {{WORST_ACCURACY_LEVEL_SCORE}});
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Normal accuracy rule-Evaluate every {{CHECK_EVERY}} gold question and set Accuracy based qualification score to {{NORMAL_ACCURACY_LEVEL_SCORE}} if gold accuracy goes up &gt;= {{NORMAL_ACCURACY_LEVEL_LOWER_LIMIT}} percents and &lt; {{NORMAL_ACCURACY_LEVEL_UPPER_LIMIT}}"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  {{CHECK_EVERY}}) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= ({{NORMAL_ACCURACY_LEVEL_LOWER_LIMIT}}/ 100) &amp;&amp; $campaignStatistic.goldAccuracy &lt; ({{NORMAL_ACCURACY_LEVEL_UPPER_LIMIT}} / 100))
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, {{NORMAL_ACCURACY_LEVEL_SCORE}});
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "Super accuracy rule-Evaluate every {{CHECK_EVERY}} gold question and set Accuracy based qualification score to {{SUPER_ACCURACY_LEVEL_SCORE}} if gold accuracy goes up &gt;= {{SUPER_ACCURACY_LEVEL_LOWER_LIMIT}} percents"
agenda-group "calculation"
dialect "mvel"
salience 250
no-loop
 when
     $ctx:RuleContext(initialized == true)
     $rac:RuleAssigmentContext($campaignStatistic:campaignStatistic, runStatistic.totalGoldQuestions &gt; 0)
     #evaluate run average response time
     eval($campaignStatistic.totalGoldQuestions  &gt;  0 &amp;&amp;
         ($campaignStatistic.totalGoldQuestions  %  {{CHECK_EVERY}}) == 0 &amp;&amp;
          $campaignStatistic.goldAccuracy &gt;= ({{SUPER_ACCURACY_LEVEL_LOWER_LIMIT}} / 100) )
 then
     $rac.grandQualification(RuleContext.ACCURACY_BASED_QUALIFICATION, {{SUPER_ACCURACY_LEVEL_SCORE}});
     $ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "0. Check, if exist majority"
agenda-group "calculation"
dialect "mvel"
salience 100
no-loop
	when
	    $ctx:RuleContext (initialized == true, $gold:gold, $threshold:properties.MAJORITY_HIT_THRESHOLD)
        eval($ctx.majorityWithoutGold().size() &gt;= ($ctx.questions.size() - $gold.size()) *  $threshold)
	then
		insert(new String("MAJORITY_FOUND"));
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

rule "1. Approve question by majority"
agenda-group "calculation"
dialect "mvel"
salience 90
no-loop
	when
		((String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true))
		or
		(not String(toString == "MAJORITY_FOUND") and  $ctx:RuleContext (initialized == true, assignments.size == properties.MAX_ASSIGNMENT_LIMIT)))
		$rqc:RuleQuestionContext()
	then
		$rqc.approveQuestion($ctx.majority());
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rqc);
end

rule "3. Approve assignment (always)"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		$ctx:RuleContext(initialized == true, $threshold:properties.ASSIGNMENT_APPROVE_THRESHOLD)
		$rac:RuleAssigmentContext()
	then
	    insert(new String("ASSIGNMENT_PROCESSED"));
		$ctx.addApproved($rac);
		$ctx.logExecutedRule(kcontext.getRule().getName(), $rac);
end

rule "5. Extend HIT"
agenda-group "calculation"
dialect "mvel"
salience 50
no-loop
	when
		not String(toString == "MAJORITY_FOUND")
		$ctx:RuleContext(initialized == true, assignments.size &lt; properties.MAX_ASSIGNMENT_LIMIT);
	then
		$ctx.setExtendHit(true);
		$ctx.logExecutedRule(kcontext.getRule().getName());
end

</content>
                                    <description>Get qualified workers: pay if ${MAJORITY_VALUE} correct answers, start with 1 assignment, extend to maximum of ${MAX_ASSIGNMENT_LIMIT} assignments. Set qualification scores depending on gold accuracy.</description>
                                    <name>Start with 1 assignment X+0 rule (pay all)</name>
                                    <params>
                                       <param>
                                          <code>WORST_ACCURACY_LEVEL_UPPER_LIMIT</code>
                                          <defaultValue>75</defaultValue>
                                          <description>Worst accuracy level upper limit in percents exclusive, lower limit is considered as 0</description>
                                          <name>Worst accuracy level upper limit</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>MAJORITY_HIT_THRESHOLD</code>
                                          <defaultValue>100</defaultValue>
                                          <description>Percent (from 0 to 100) of correct answers when  majority is found</description>
                                          <name>Percent of correct answers</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>MAJORITY_VALUE</code>
                                          <defaultValue>1</defaultValue>
                                          <description>Number of correct answers</description>
                                          <name>Majority value</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>WORST_ACCURACY_LEVEL_SCORE</code>
                                          <defaultValue>70</defaultValue>
                                          <description>Qualification score will be given to a worker who has demonstrated a low accuracy</description>
                                          <name>Worst accuracy level score</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>SUPER_ACCURACY_LEVEL_LOWER_LIMIT</code>
                                          <defaultValue>90</defaultValue>
                                          <description>Super accuracy level lower limit in percents inclusive, upper limit is considered as 100</description>
                                          <name>Super accuracy level lower limit</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>CHECK_EVERY</code>
                                          <defaultValue>5</defaultValue>
                                          <description>Check every i-th gold question when evaluating qualification score</description>
                                          <name>Check every i-th gold question</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>MAX_ASSIGNMENT_LIMIT</code>
                                          <defaultValue>1</defaultValue>
                                          <description>Maximum number of assignments</description>
                                          <name>Max assignments limit</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>NORMAL_ACCURACY_LEVEL_SCORE</code>
                                          <defaultValue>80</defaultValue>
                                          <description>Qualification score will be given to a worker who has demonstrated a normal accuracy</description>
                                          <name>Normal accuracy level score</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>NORMAL_ACCURACY_LEVEL_LOWER_LIMIT</code>
                                          <defaultValue>75</defaultValue>
                                          <description>Normal accuracy level lower limit in percents inclusive</description>
                                          <name>Normal accuracy level lower limit</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>SUPER_ACCURACY_LEVEL_SCORE</code>
                                          <defaultValue>95</defaultValue>
                                          <description>Qualification score will be given to a worker who has demonstrated a super accuracy</description>
                                          <name>Super accuracy level score</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                       <param>
                                          <code>NORMAL_ACCURACY_LEVEL_UPPER_LIMIT</code>
                                          <defaultValue>90</defaultValue>
                                          <description>Normal accuracy level upper limit in percents exclusive</description>
                                          <name>Normal accuracy level upper limit</name>
                                          <type>INPUT_NUMBER</type>
                                       </param>
                                    </params>
                                 </template>
                                 <uuid>f5159a8c-03e8-4863-980c-49185acdf1e1</uuid>
                                 <workflowRuleMode>ADVANCED</workflowRuleMode>
                              </businessRule>
                           </businessRules>
                           <isPrivate>false</isPrivate>
                           <items>
                              <item>
                                 <type>HIT_EXPIRES_IN</type>
                                 <value>2592000000</value>
                              </item>
                              <item>
                                 <type>RECOMMENDATION_TAGS</type>
                                 <value>["information_extraction"]</value>
                              </item>
                              <item>
                                 <type>AUTOMATICALLY_APPROVED</type>
                                 <value>432000000</value>
                              </item>
                              <item>
                                 <type>TIME_PER_ASSIGNMENT</type>
                                 <value>1800000</value>
                              </item>
                              <item>
                                 <type>TITLE</type>
                                 <value>Miscellaneous Tasks</value>
                              </item>
                           </items>
                           <template>
                              <code/>
                              <content>&lt;#include "extras.ftl" parse=true/&gt;
&lt;#include "html.ftl" parse=true/&gt;
&lt;#include "answers.ftl" parse=true/&gt;
&lt;#assign FEEDBACK_ENABLED = true&gt;

&lt;@hit contentCss="${applicationResourceUrl}/workfusion-resources/saas/ms/ms.bootstrap.min.css"&gt;
&lt;@script src="${applicationResourceUrl}/workfusion-resources/bootstrap/js/bootstrap-tab.js"/&gt;  
  

  
&lt;@instructions title="&lt;h2&gt;BLANK&lt;/h2&gt;"&gt;
  &lt;!--- editable content --&gt;
  &lt;@editable id="__INSTRUCTIONS__"&gt;&lt;br&gt;&lt;br&gt;&lt;/@editable&gt;
&lt;/@instructions&gt;
&lt;@form&gt;
&lt;#if questions??&gt;
    &lt;div class="thumbnail"&gt;
    &lt;#list questions as question&gt;
      &lt;@report question=question includeAll=true/&gt;
      &lt;div style="position:relative;margin:2px 0px" class="block question"&gt;
           &lt;div style="position:absolute;top:0px;right:0px;background-color:#e0e0e0;padding:1px 4px;border: 1px solid #C0C0C0;border-radius: 0px" class="number"&gt;
                &lt;b&gt;${question_index + 1}&lt;/b&gt;
           &lt;/div&gt;
           &lt;div&gt;
               &lt;div class="place bg-dark"&gt;
                 &lt;@editable id="__DATA__"&gt;${question.data.blank} &lt;br&gt;&lt;br&gt;&lt;/@editable&gt;
               &lt;/div&gt;
               &lt;div class="place"&gt;
                 &lt;@answers question=question/&gt;
               &lt;/div&gt;
            &lt;/div&gt;
      &lt;/div&gt;
    &lt;/#list&gt;
    &lt;/div&gt;
&lt;/#if&gt;
&lt;@submit text="Submit" /&gt;
&lt;/@form&gt;
&lt;/@hit&gt;</content>
                              <name>Blank</name>
                              <origination>CREATED_MANUALLY</origination>
                              <status>ACTIVE</status>
                              <type>BASE</type>
                              <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc3</uuid>
                              <version>
                                 <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc3</componentUuid>
                                 <incrementalVersion>1.0</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2012-12-27T00:00:00Z</lastModified>
                                 <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc3</versionUuid>
                              </version>
                           </template>
                        </workSetting>
                     </question>
                     <requiresData>false</requiresData>
                     <status>ACTIVE</status>
                     <streamComplexRunThreshold>1</streamComplexRunThreshold>
                     <streamTimeInterval>Immediately</streamTimeInterval>
                     <streamTimeIntervalValue>0</streamTimeIntervalValue>
                     <streamValueType>Tasks</streamValueType>
                     <title>Installation Integration Testing with ML Master Process version two</title>
                     <type>COMPOSITE</type>
                     <uuid>82fba1b2-f60c-47bc-bee2-66dd4a67c2e0</uuid>
                     <validWorkflow>true</validWorkflow>
                     <version>
                        <componentUuid>a08eb4b4-6bff-4988-89e0-a0a2ed73fa62</componentUuid>
                        <incrementalVersion>1.9</incrementalVersion>
                        <lastInChain>true</lastInChain>
                        <lastModified>2018-06-05T15:28:18Z</lastModified>
                        <versionUuid>db61930f-2fb2-4634-964f-2437f58cbb7f</versionUuid>
                     </version>
                     <workSettingBase>false</workSettingBase>
                  </campaign>
                  <description>
                     <automationSetup>
                        <automationUseCaseConfigs>
                           <automationUseCaseId>8</automationUseCaseId>
                           <automationUseCaseUuid>fadd21e2-9547-426d-a71c-ac7e604ca7d6</automationUseCaseUuid>
                           <modelCode>presentation-company-classification-model</modelCode>
                           <modelType>Other</modelType>
                        </automationUseCaseConfigs>
                        <id>135</id>
                        <includeOriginalData>false</includeOriginalData>
                        <useCaseConfiguration>[{"automationUseCaseId":8,"automationUseCaseUuid":"fadd21e2-9547-426d-a71c-ac7e604ca7d6","modelType":"Other","modelCode":"presentation-company-classification-model"}]</useCaseConfiguration>
                        <uuid>4e38ad59-6c36-46bd-8cdf-7bd96f8c49fd</uuid>
                     </automationSetup>
                     <dynamicTaskRenderingDisabled>false</dynamicTaskRenderingDisabled>
                     <goldRun>false</goldRun>
                     <qualificationTraining>false</qualificationTraining>
                     <stepDescription>{"fe885df5-59ea-4b92-9197-50d78b90db90":{"campaignUUID":"fe885df5-59ea-4b92-9197-50d78b90db90","workforceUUID":"261b3571-543f-11e8-b8a9-12e20640c4de","includeOriginalData":false,"automationUseCaseConfigs":[],"automationRecall":0.0,"crowdPrices":[]},"b1690518-30f0-4b77-b196-5985154cf605":{"campaignUUID":"b1690518-30f0-4b77-b196-5985154cf605","scheduleDateType":"DATE","workforceUUID":"261b3571-543f-11e8-b8a9-12e20640c4de","taskPriority":16,"includeOriginalData":false,"automationUseCaseConfigs":[{"automationUseCaseId":8,"automationUseCaseUuid":"fadd21e2-9547-426d-a71c-ac7e604ca7d6","modelType":"Other","modelCode":"presentation-company-classification-model"}],"automationRecall":0.0,"crowdPrices":[{"crowdId":1,"price":0.0}]}}</stepDescription>
                     <streamingValue>1</streamingValue>
                     <streamingValueType>Tasks</streamingValueType>
                     <taskParams>{"values":{"NAME":"Settings"}}</taskParams>
                     <uploadResultsType>CREATE</uploadResultsType>
                  </description>
                  <executingType>COMPOSITE</executingType>
                  <forceComplete>false</forceComplete>
                  <forceCompleteIdleTime>0</forceCompleteIdleTime>
                  <forceCompletePercent>100</forceCompletePercent>
                  <mixStrategy>
                     <additionalRows>0</additionalRows>
                     <blockSize>1</blockSize>
                     <goldItemSize>0</goldItemSize>
                     <goldPercentage>0</goldPercentage>
                     <goldRatio>true</goldRatio>
                     <mainRows>1</mainRows>
                     <repeated>false</repeated>
                  </mixStrategy>
                  <purged>false</purged>
                  <recordProcessingStatus>NOT_STARTED</recordProcessingStatus>
                  <runType>SIMPLE</runType>
                  <tags/>
                  <title>Installation Integration Testing with ML Master Process version two</title>
                  <uuid>d8e3fc40-3982-4b71-9fe6-e0502a62a9b6</uuid>
               </run>
            </runs>
            <automationUseCases>
               <automationUseCase>
                  <category>
                     <automation>true</automation>
                     <description>Cognitive Automation Use Cases</description>
                     <enabled>true</enabled>
                     <executingType>HUMAN</executingType>
                     <name>Cognitive Automation Use Cases</name>
                     <private>false</private>
                     <publicId>44bef966-0e21-4559-954a-9759994da998</publicId>
                  </category>
                  <contentType>NORMAL</contentType>
                  <description/>
                  <enabled>true</enabled>
                  <name>UC_check_ML_Health</name>
                  <publicId>8197ef65-2078-4d6c-a51d-d285086a97dc</publicId>
                  <version>
                     <componentUuid>f5fb8c68-dee5-4909-86d2-84db8571e624</componentUuid>
                     <incrementalVersion>1.0</incrementalVersion>
                     <lastInChain>true</lastInChain>
                     <lastModified>2018-06-05T14:30:02Z</lastModified>
                     <versionUuid>fadd21e2-9547-426d-a71c-ac7e604ca7d6</versionUuid>
                  </version>
                  <automationQualityThreshold>80</automationQualityThreshold>
                  <campaign>
                     <active>true</active>
                     <businessRules/>
                     <campaignMaps>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>5dfee9cf-d973-4b70-9d43-cbfb5f14f007</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>Parameters of ML Sweeping Experiments</answer>
                                       <answerCode>multi_config</answerCode>
                                       <answerTypeObject>
                                          <answerTypeGroup>UNCONSTRAINED_TEXT</answerTypeGroup>
                                          <code>LONG_TEXT</code>
                                          <description/>
                                          <optionsAvailable>true</optionsAvailable>
                                          <optionsDescription>Please provide number of rows for text area to display by default.</optionsDescription>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>true</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>true</showForMachineConfig>
                                          <title>Long Text</title>
                                          <valueType>SINGLEVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <constantable>false</constantable>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <lastModified>2018-06-05T13:24:11Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <options>5</options>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>true</required>
                                       <sequenceNumber>1</sequenceNumber>
                                       <shuffle>false</shuffle>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>Human accuracy threshold</answer>
                                       <answerCode>threshold</answerCode>
                                       <answerTypeObject>
                                          <answerTypeGroup>NUMBERS</answerTypeGroup>
                                          <code>NUMBER</code>
                                          <description/>
                                          <optionsAvailable>false</optionsAvailable>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>true</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>true</showForMachineConfig>
                                          <title>Number</title>
                                          <valueType>SINGLEVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <constantable>false</constantable>
                                       <defaultValue>80</defaultValue>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <lastModified>2018-06-05T13:24:11Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>false</required>
                                       <sequenceNumber>2</sequenceNumber>
                                       <shuffle>false</shuffle>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>Train model version</answer>
                                       <answerCode>train_model_version</answerCode>
                                       <answerTypeObject>
                                          <answerTypeGroup>UNCONSTRAINED_TEXT</answerTypeGroup>
                                          <code>FREE_TEXT</code>
                                          <description/>
                                          <optionsAvailable>false</optionsAvailable>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>true</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>true</showForMachineConfig>
                                          <title>Free Text</title>
                                          <valueType>SINGLEVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <constantable>false</constantable>
                                       <defaultValue>1.0</defaultValue>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <lastModified>2018-06-05T13:24:11Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>false</required>
                                       <sequenceNumber>3</sequenceNumber>
                                       <shuffle>false</shuffle>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>Model Accuracy Threshold % for cut-off to Human-based processing (AQL)</answer>
                                       <answerCode>target_quality</answerCode>
                                       <answerTypeObject>
                                          <answerTypeGroup>NUMBERS</answerTypeGroup>
                                          <code>NUMBER</code>
                                          <description/>
                                          <optionsAvailable>false</optionsAvailable>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>true</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>true</showForMachineConfig>
                                          <title>Number</title>
                                          <valueType>SINGLEVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <constantable>false</constantable>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <lastModified>2018-06-05T13:24:11Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>false</required>
                                       <sequenceNumber>4</sequenceNumber>
                                       <shuffle>false</shuffle>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>Statistical Quality Control</answer>
                                       <answerCode>sqc_enabled</answerCode>
                                       <answerTypeObject>
                                          <answerTypeGroup>MULTIPLE_CHOICE</answerTypeGroup>
                                          <code>CHECK_ONE</code>
                                          <description/>
                                          <optionsAvailable>true</optionsAvailable>
                                          <optionsDescription>Provide options for the answer using key=value format. For example, Option Name1=value1 or Option Name2=value2.</optionsDescription>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>true</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>true</showForMachineConfig>
                                          <title>Check One</title>
                                          <valueType>SINGLEVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <constantable>false</constantable>
                                       <defaultValue>true</defaultValue>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <lastModified>2018-06-05T13:24:11Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <options>Enabled=true|Disabled=false</options>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>false</required>
                                       <sequenceNumber>5</sequenceNumber>
                                       <shuffle>false</shuffle>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>Statistics Calculation</answer>
                                       <answerCode>statistics_calculation_enabled</answerCode>
                                       <answerTypeObject>
                                          <answerTypeGroup>MULTIPLE_CHOICE</answerTypeGroup>
                                          <code>CHECK_ONE</code>
                                          <description/>
                                          <optionsAvailable>true</optionsAvailable>
                                          <optionsDescription>Provide options for the answer using key=value format. For example, Option Name1=value1 or Option Name2=value2.</optionsDescription>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>true</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>true</showForMachineConfig>
                                          <title>Check One</title>
                                          <valueType>SINGLEVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <constantable>false</constantable>
                                       <defaultValue>false</defaultValue>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <lastModified>2018-06-05T13:24:11Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <options>Enabled=true|Disabled=false</options>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>false</required>
                                       <sequenceNumber>6</sequenceNumber>
                                       <shuffle>false</shuffle>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>Retrain the model as more data collected</answer>
                                       <answerCode>retrain_count_type</answerCode>
                                       <answerTypeObject>
                                          <answerTypeGroup>MULTIPLE_CHOICE</answerTypeGroup>
                                          <code>CHECK_ONE</code>
                                          <description/>
                                          <optionsAvailable>true</optionsAvailable>
                                          <optionsDescription>Provide options for the answer using key=value format. For example, Option Name1=value1 or Option Name2=value2.</optionsDescription>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>true</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>true</showForMachineConfig>
                                          <title>Check One</title>
                                          <valueType>SINGLEVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <constantable>false</constantable>
                                       <defaultValue>model</defaultValue>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <lastModified>2018-06-05T13:24:11Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <options>Model Defined=model|Automatically=auto|User Defined=user</options>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>false</required>
                                       <sequenceNumber>7</sequenceNumber>
                                       <shuffle>false</shuffle>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>Retrain records count</answer>
                                       <answerCode>retrain_count_value</answerCode>
                                       <answerTypeObject>
                                          <answerTypeGroup>UNCONSTRAINED_TEXT</answerTypeGroup>
                                          <code>FREE_TEXT</code>
                                          <description/>
                                          <optionsAvailable>false</optionsAvailable>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>true</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>true</showForMachineConfig>
                                          <title>Free Text</title>
                                          <valueType>SINGLEVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <constantable>false</constantable>
                                       <defaultValue>model</defaultValue>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <htmlClasses>expand:on(user)</htmlClasses>
                                       <lastModified>2018-06-05T13:24:11Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <parentAnswer>
                                          <allowNA>false</allowNA>
                                          <answer>Retrain the model as more data collected</answer>
                                          <answerCode>retrain_count_type</answerCode>
                                          <answerTypeObject>
                                             <answerTypeGroup>MULTIPLE_CHOICE</answerTypeGroup>
                                             <code>CHECK_ONE</code>
                                             <description/>
                                             <optionsAvailable>true</optionsAvailable>
                                             <optionsDescription>Provide options for the answer using key=value format. For example, Option Name1=value1 or Option Name2=value2.</optionsDescription>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>true</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>true</showForMachineConfig>
                                             <title>Check One</title>
                                             <valueType>SINGLEVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <constantable>false</constantable>
                                          <defaultValue>model</defaultValue>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <lastModified>2018-06-05T13:24:11Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <options>Model Defined=model|Automatically=auto|User Defined=user</options>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>false</required>
                                          <sequenceNumber>7</sequenceNumber>
                                          <shuffle>false</shuffle>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </parentAnswer>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>false</required>
                                       <sequenceNumber>8</sequenceNumber>
                                       <shuffle>false</shuffle>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                 </answers>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
    &lt;var-def name="threshold"&gt;80&lt;/var-def&gt;
    &lt;var-def name="sqc_enabled"&gt;true&lt;/var-def&gt;
    &lt;var-def name="targetQuality"&gt;100&lt;/var-def&gt;
    &lt;var-def name="sqcSourceId"&gt;local&lt;/var-def&gt;
    &lt;var-def name="retrain_count_type"&gt;model&lt;/var-def&gt;
    &lt;var-def name="retrain_count_value"&gt;model&lt;/var-def&gt;
    &lt;var-def name="train_model_version"&gt;1.0&lt;/var-def&gt;
    &lt;var-def name="time_limit_offline"&gt;&lt;/var-def&gt;
    &lt;var-def name="time_limit_online"&gt;&lt;/var-def&gt;
    &lt;var-def name="statistics_calculation_enabled"&gt;false&lt;/var-def&gt;

    &lt;script&gt;&lt;![CDATA[
        import com.freedomoss.crowdcontrol.webharvest.RunDto;
        import com.freedomoss.crowdcontrol.webharvest.WebHarvestTaskItem;
        import com.freedomoss.crowdcontrol.webharvest.plugin.datastore.dto.AnswerInfoDTO;
        import com.freedomoss.requester.service.automation.AutomationConstants;
        import java.text.SimpleDateFormat;
        import org.slf4j.Logger;
        import org.slf4j.LoggerFactory;

        AnswerInfoDTO findIeAnswer(List answers) {
            for (AnswerInfoDTO answer : answers) {
                if (answer.answerType.equals("INFO_EXTRACTION")) {
                    return answer;
                }
                if (answer.subAnswers != null &amp;&amp; !answer.subAnswers.isEmpty()) {
                    AnswerInfoDTO ieAnswer = findIeAnswer(answer.subAnswers);
                    if (ieAnswer != null) {
                        return ieAnswer;
                    }
                }
            }
            return null;
        }

        RunDto run = (RunDto) ((WebHarvestTaskItem) item.getWrappedObject()).getRun();
        List fields = new ArrayList();
        List requiredFields = new ArrayList();
        List requiredFieldsForSQC = new ArrayList();
        String automationMode = "none";
        String ieAnswerCode = "NOT_DEFINED";
        String ieTextAnswerCode = "";
        String ieGroupAnswerCode = "";
        String modelVersion = "";
        String answerOptions = "";
        String modelType = "NOT_DEFINED";
        Long retrainCount = 0l;

        if (run.automationInfo != null) {
            if (!train_model_version.toString().isEmpty()) {
                modelVersion = train_model_version.toString();
            } else {
                modelVersion = run.automationInfo.modelVersion;
            }
            if (run.automationInfo.trainingMode) {
                automationMode = "training";
            } else {
                automationMode = "production";
            }
            if (!retrain_count_type.isEmpty()) {
                if("model".equals(retrain_count_type.toString())) {
                    run.automationInfo.retrainRecordsCount = retrainCount;
                }
                if ("user".equals(retrain_count_type.toString())) {
                    if(!"".equals(retrain_count_value.toString())) {
                        run.automationInfo.retrainRecordsCount = Long.valueOf(retrain_count_value.toString());
                    } else {
                        run.automationInfo.retrainRecordsCount = retrainCount;
                    }
                }
                retrainCount = run.automationInfo.retrainRecordsCount;
                run.automationInfo.retrainCountChanged = true;
            }
            AnswerInfoDTO ieAnswer = findIeAnswer(run.automationInfo.answers);
            /*
                as ie answer is used in classification to display content, we only could determine model type by
                empty subanswers for classification
                //TODO: find a way to detect model type from vds-gateway rest or by specifying on UI
                //TODO: add cheboxes to UI to mark the answers that should be used in automation instead of hardcode below
             */
            if (ieAnswer != null) {
                if (!ieAnswer.getSubAnswers().isEmpty()) {
                    modelType = "ie";
                    ieAnswerCode = ieAnswer.answerCode;
                    for (AnswerInfoDTO subAnswer : ieAnswer.subAnswers) {
                        if ("GROUP".equals(subAnswer.answerType)) {
                            ieGroupAnswerCode = subAnswer.answerCode;
                            for (AnswerInfoDTO subGroupAnswer : subAnswer.subAnswers) {
                                requiredFields.add(subGroupAnswer.answerCode);
                            }
                             requiredFieldsForSQC.add(subAnswer.answerCode);
                        } else {
                            if (subAnswer.required) {
                                requiredFieldsForSQC.add(subAnswer.answerCode);
                                requiredFields.add(subAnswer.answerCode);
                            }
                        }
                        fields.add(subAnswer.answerCode);
                    }
                } else {
                    modelType = "classification";
                    for (AnswerInfoDTO answer : run.automationInfo.answers) {
                        if (answer.answerType.equals("INFO_EXTRACTION")) {
                            ieTextAnswerCode = answer.answerCode;
                        }
                        if(answer.answerType.equals("CHECK_ONE") || answer.answerType.equals("SELECT_ONE")){
                            ieAnswerCode = answer.answerCode;
                            fields.add(answer.answerCode);
                            requiredFields.add(answer.answerCode);
                            requiredFieldsForSQC.add(answer.answerCode);
                            answerOptions = answer.options;
                        }
                    }
                }
                if ("training".equals(automationMode)) {
                    sys.defineVariable("experimentGroup", ieAnswerCode + "_" + run.rootRunUuid, true);
                }
            }
        }
        sys.defineVariable("fieldList", fields, true);
        sys.defineVariable("requiredFieldList", requiredFields, true);
        sys.defineVariable("requiredFieldListForSQC", requiredFieldsForSQC, true);


        ]]&gt;
    &lt;/script&gt;
    &lt;case&gt;
        &lt;if condition='${"training".equals(automationMode)}'&gt;
            &lt;script&gt;
                &lt;![CDATA[
                    String trainJobsDataStoreName = AutomationConstants.DS_JOB_DATA_TABLE;

                    StringBuilder sqlQuery = new StringBuilder("update @this set ");
                    sqlQuery.append(" modelVersion='").append(modelVersion).append("',");
                    sqlQuery.append(" automationRootRunUUID='").append(run.rootRunUuid).append("',");
                    sqlQuery.append(" author='").append(run.authorFullName).append("',");
                    sqlQuery.append(" campaignName='").append(run.campaignName).append("',");

                    SimpleDateFormat dateFormat = new SimpleDateFormat("MM/dd/yyyy HH:mm:ss");
                    String date = dateFormat.format(new Date());
                    sqlQuery.append(" lastUpdated='").append(date).append("'");

                    sqlQuery.append(" where originalCampaignUUID='").append(run.automationInfo.originalCampaignUuid).append("'");
                    sqlQuery.append(" and modelVersion='").append(run.automationInfo.modelVersion).append("'");
                    sqlQuery.append(" and status='PREPARING'");
                    sqlQuery.append(" and tags='").append(_sys_automation_tags.toString()).append("'");
                    sqlQuery.append(";");

                    Logger logger = LoggerFactory.getLogger("com.freedomoss.crowdcontrol.webharvest.AUTOMATION_LOG");
                    logger.info("Job for training was updated: " + sqlQuery.toString());
                ]]&gt;
            &lt;/script&gt;
            &lt;datastore name="${trainJobsDataStoreName}"&gt;
                ${sqlQuery}
            &lt;/datastore&gt;
        &lt;/if&gt;
    &lt;/case&gt;
    &lt;export include-original-data="true"&gt;
      	&lt;single-column name="news" value='Some microsoft company'/&gt;
        &lt;single-column name="_sys_automation_threshold" value='${threshold.toString()}'/&gt;
        &lt;single-column name="_sys_automation_mode" value="${automationMode}"/&gt;
        &lt;single-column name="model_version" value="${modelVersion}"/&gt;
        &lt;case&gt;
            &lt;if condition='${"training".equals(automationMode)}' &gt;
                &lt;single-column name="automation_experiment_group" value="${experimentGroup}"/&gt;
            &lt;/if&gt;
        &lt;/case&gt;
        &lt;single-column name="_sys_automation_ds_doc_batch_size" value="100"/&gt;
        &lt;single-column name="time_limit_offline" value="${time_limit_offline}"/&gt;
        &lt;single-column name="time_limit_online" value="${time_limit_online}"/&gt;
        &lt;single-column name="_sys_automation_retrain_count" value="${retrainCount}"/&gt;

        &lt;single-column name="_sys_automation_ie_answer_code" value="${ieAnswerCode}"/&gt;
        &lt;single-column name="_sys_automation_ie_fields" value='${fieldList.toString("UTF-8", ",")}'/&gt;
        &lt;single-column name="_sys_automation_ie_required_fields"
                       value='${requiredFieldList.toString("UTF-8", ",")}'/&gt;
        &lt;single-column name="_sys_automation_ie_sqc_required_fields"
                       value='${requiredFieldListForSQC.toString("UTF-8", ",")}'/&gt;

        &lt;single-column name="_sys_sqc_source_id" value="${sqcSourceId}"/&gt;
        &lt;single-column name="_sys_sqc_enabled" value='${sqc_enabled}'/&gt;
        &lt;single-column name="_sys_sqc_target_quality" value='${targetQuality}'/&gt;
        &lt;single-column name="_sys_model_type" value='${modelType}'/&gt;

        &lt;!-- for classification--&gt;
        &lt;single-column name="_sys_automation_answer_options" value="${answerOptions}"/&gt;
        &lt;single-column name="_sys_automation_text_answer_code" value="${ieTextAnswerCode}"/&gt;

        &lt;!-- for ie --&gt;
        &lt;single-column name="_sys_automation_relations_subanswer_code" value="${ieGroupAnswerCode}"/&gt;

        &lt;single-column name="_sys_statistics_calculation_enabled" value='${statistics_calculation_enabled}'/&gt;
    &lt;/export&gt;
&lt;/config&gt;
</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>f9098cbf-0921-457b-be2f-701cab63e891</inclusionCode>
                                 <jsonParams>{"threshold":"80","sqc_enabled":"true","retrain_count_type":"model","retrain_count_value":"model","train_model_version":"1.0","statistics_calculation_enabled":"false","target_quality":"100"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>NORMAL</contentType>
                                    <enabled>true</enabled>
                                    <name>Automation settings</name>
                                    <publicId>a1afd220-602c-45fe-b85e-01bf5155c298</publicId>
                                    <version>
                                       <componentUuid>eb291192-0980-4e96-a6a9-fcacd1576a57</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-03-12T15:45:39Z</lastModified>
                                       <versionUuid>5588f726-b9de-4fe1-82ed-b74053e00b69</versionUuid>
                                    </version>
                                    <answers>
                                       <answer>
                                          <allowNA>false</allowNA>
                                          <answer>Parameters of ML Sweeping Experiments</answer>
                                          <answerCode>multi_config</answerCode>
                                          <answerTypeObject>
                                             <answerTypeGroup>UNCONSTRAINED_TEXT</answerTypeGroup>
                                             <code>LONG_TEXT</code>
                                             <description/>
                                             <optionsAvailable>true</optionsAvailable>
                                             <optionsDescription>Please provide number of rows for text area to display by default.</optionsDescription>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>true</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>true</showForMachineConfig>
                                             <title>Long Text</title>
                                             <valueType>SINGLEVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <constantable>false</constantable>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <lastModified>2018-03-12T15:45:39Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <options>5</options>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>true</required>
                                          <sequenceNumber>1</sequenceNumber>
                                          <shuffle>false</shuffle>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </answer>
                                       <answer>
                                          <allowNA>false</allowNA>
                                          <answer>Human accuracy threshold</answer>
                                          <answerCode>threshold</answerCode>
                                          <answerTypeObject>
                                             <answerTypeGroup>NUMBERS</answerTypeGroup>
                                             <code>NUMBER</code>
                                             <description/>
                                             <optionsAvailable>false</optionsAvailable>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>true</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>true</showForMachineConfig>
                                             <title>Number</title>
                                             <valueType>SINGLEVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <constantable>false</constantable>
                                          <defaultValue>80</defaultValue>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <lastModified>2018-03-12T15:45:39Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>false</required>
                                          <sequenceNumber>2</sequenceNumber>
                                          <shuffle>false</shuffle>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </answer>
                                       <answer>
                                          <allowNA>false</allowNA>
                                          <answer>Train model version</answer>
                                          <answerCode>train_model_version</answerCode>
                                          <answerTypeObject>
                                             <answerTypeGroup>UNCONSTRAINED_TEXT</answerTypeGroup>
                                             <code>FREE_TEXT</code>
                                             <description/>
                                             <optionsAvailable>false</optionsAvailable>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>true</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>true</showForMachineConfig>
                                             <title>Free Text</title>
                                             <valueType>SINGLEVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <constantable>false</constantable>
                                          <defaultValue>1.0</defaultValue>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <lastModified>2018-03-12T15:45:39Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>false</required>
                                          <sequenceNumber>3</sequenceNumber>
                                          <shuffle>false</shuffle>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </answer>
                                       <answer>
                                          <allowNA>false</allowNA>
                                          <answer>Model Accuracy Threshold % for cut-off to Human-based processing (AQL)</answer>
                                          <answerCode>target_quality</answerCode>
                                          <answerTypeObject>
                                             <answerTypeGroup>NUMBERS</answerTypeGroup>
                                             <code>NUMBER</code>
                                             <description/>
                                             <optionsAvailable>false</optionsAvailable>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>true</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>true</showForMachineConfig>
                                             <title>Number</title>
                                             <valueType>SINGLEVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <constantable>false</constantable>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <lastModified>2018-03-12T15:45:39Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>false</required>
                                          <sequenceNumber>4</sequenceNumber>
                                          <shuffle>false</shuffle>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </answer>
                                       <answer>
                                          <allowNA>false</allowNA>
                                          <answer>Statistical Quality Control</answer>
                                          <answerCode>sqc_enabled</answerCode>
                                          <answerTypeObject>
                                             <answerTypeGroup>MULTIPLE_CHOICE</answerTypeGroup>
                                             <code>CHECK_ONE</code>
                                             <description/>
                                             <optionsAvailable>true</optionsAvailable>
                                             <optionsDescription>Provide options for the answer using key=value format. For example, Option Name1=value1 or Option Name2=value2.</optionsDescription>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>true</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>true</showForMachineConfig>
                                             <title>Check One</title>
                                             <valueType>SINGLEVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <constantable>false</constantable>
                                          <defaultValue>true</defaultValue>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <lastModified>2018-03-12T15:45:39Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <options>Enabled=true|Disabled=false</options>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>false</required>
                                          <sequenceNumber>5</sequenceNumber>
                                          <shuffle>false</shuffle>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </answer>
                                       <answer>
                                          <allowNA>false</allowNA>
                                          <answer>Statistics Calculation</answer>
                                          <answerCode>statistics_calculation_enabled</answerCode>
                                          <answerTypeObject>
                                             <answerTypeGroup>MULTIPLE_CHOICE</answerTypeGroup>
                                             <code>CHECK_ONE</code>
                                             <description/>
                                             <optionsAvailable>true</optionsAvailable>
                                             <optionsDescription>Provide options for the answer using key=value format. For example, Option Name1=value1 or Option Name2=value2.</optionsDescription>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>true</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>true</showForMachineConfig>
                                             <title>Check One</title>
                                             <valueType>SINGLEVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <constantable>false</constantable>
                                          <defaultValue>false</defaultValue>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <lastModified>2018-03-12T15:45:39Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <options>Enabled=true|Disabled=false</options>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>false</required>
                                          <sequenceNumber>6</sequenceNumber>
                                          <shuffle>false</shuffle>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </answer>
                                       <answer>
                                          <allowNA>false</allowNA>
                                          <answer>Retrain the model as more data collected</answer>
                                          <answerCode>retrain_count_type</answerCode>
                                          <answerTypeObject>
                                             <answerTypeGroup>MULTIPLE_CHOICE</answerTypeGroup>
                                             <code>CHECK_ONE</code>
                                             <description/>
                                             <optionsAvailable>true</optionsAvailable>
                                             <optionsDescription>Provide options for the answer using key=value format. For example, Option Name1=value1 or Option Name2=value2.</optionsDescription>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>true</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>true</showForMachineConfig>
                                             <title>Check One</title>
                                             <valueType>SINGLEVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <constantable>false</constantable>
                                          <defaultValue>model</defaultValue>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <lastModified>2018-03-12T15:45:39Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <options>Model Defined=model|Automatically=auto|User Defined=user</options>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>false</required>
                                          <sequenceNumber>7</sequenceNumber>
                                          <shuffle>false</shuffle>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </answer>
                                       <answer>
                                          <allowNA>false</allowNA>
                                          <answer>Retrain records count</answer>
                                          <answerCode>retrain_count_value</answerCode>
                                          <answerTypeObject>
                                             <answerTypeGroup>UNCONSTRAINED_TEXT</answerTypeGroup>
                                             <code>FREE_TEXT</code>
                                             <description/>
                                             <optionsAvailable>false</optionsAvailable>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>true</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>true</showForMachineConfig>
                                             <title>Free Text</title>
                                             <valueType>SINGLEVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <constantable>false</constantable>
                                          <defaultValue>model</defaultValue>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <htmlClasses>expand:on(user)</htmlClasses>
                                          <lastModified>2018-03-12T15:45:39Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <parentAnswer>
                                             <allowNA>false</allowNA>
                                             <answer>Retrain the model as more data collected</answer>
                                             <answerCode>retrain_count_type</answerCode>
                                             <answerTypeObject>
                                                <answerTypeGroup>MULTIPLE_CHOICE</answerTypeGroup>
                                                <code>CHECK_ONE</code>
                                                <description/>
                                                <optionsAvailable>true</optionsAvailable>
                                                <optionsDescription>Provide options for the answer using key=value format. For example, Option Name1=value1 or Option Name2=value2.</optionsDescription>
                                                <showDefaultValue>true</showDefaultValue>
                                                <showForFieldScheme>true</showForFieldScheme>
                                                <showForHumanTask>true</showForHumanTask>
                                                <showForMachineConfig>true</showForMachineConfig>
                                                <title>Check One</title>
                                                <valueType>SINGLEVALUE</valueType>
                                             </answerTypeObject>
                                             <appendDataStoreOptions>false</appendDataStoreOptions>
                                             <autocompleteField>false</autocompleteField>
                                             <constantable>false</constantable>
                                             <defaultValue>model</defaultValue>
                                             <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                             <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                             <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                             <lastModified>2018-03-12T15:45:39Z</lastModified>
                                             <letCustomValues>false</letCustomValues>
                                             <manualField>false</manualField>
                                             <multiValue>false</multiValue>
                                             <options>Model Defined=model|Automatically=auto|User Defined=user</options>
                                             <percentRequired>false</percentRequired>
                                             <range>false</range>
                                             <required>false</required>
                                             <sequenceNumber>7</sequenceNumber>
                                             <shuffle>false</shuffle>
                                             <useBlocks>false</useBlocks>
                                             <useEmptyCell>false</useEmptyCell>
                                          </parentAnswer>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>false</required>
                                          <sequenceNumber>8</sequenceNumber>
                                          <shuffle>false</shuffle>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </answer>
                                    </answers>
                                    <machineWorkSettingType>ETL</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
    &lt;var-def name="threshold"&gt;{{threshold}}&lt;/var-def&gt;
    &lt;var-def name="sqc_enabled"&gt;{{sqc_enabled}}&lt;/var-def&gt;
    &lt;var-def name="targetQuality"&gt;{{target_quality}}&lt;/var-def&gt;
    &lt;var-def name="sqcSourceId"&gt;local&lt;/var-def&gt;
    &lt;var-def name="retrain_count_type"&gt;{{retrain_count_type}}&lt;/var-def&gt;
    &lt;var-def name="retrain_count_value"&gt;{{retrain_count_value}}&lt;/var-def&gt;
    &lt;var-def name="train_model_version"&gt;{{train_model_version}}&lt;/var-def&gt;
    &lt;var-def name="time_limit_offline"&gt;{{time_limit_offline}}&lt;/var-def&gt;
    &lt;var-def name="time_limit_online"&gt;{{time_limit_online}}&lt;/var-def&gt;
    &lt;var-def name="statistics_calculation_enabled"&gt;{{statistics_calculation_enabled}}&lt;/var-def&gt;

    &lt;script&gt;&lt;![CDATA[
        import com.freedomoss.crowdcontrol.webharvest.RunDto;
        import com.freedomoss.crowdcontrol.webharvest.WebHarvestTaskItem;
        import com.freedomoss.crowdcontrol.webharvest.plugin.datastore.dto.AnswerInfoDTO;
        import com.freedomoss.requester.service.automation.AutomationConstants;
        import java.text.SimpleDateFormat;
        import org.slf4j.Logger;
        import org.slf4j.LoggerFactory;

        AnswerInfoDTO findIeAnswer(List answers) {
            for (AnswerInfoDTO answer : answers) {
                if (answer.answerType.equals("INFO_EXTRACTION")) {
                    return answer;
                }
                if (answer.subAnswers != null &amp;&amp; !answer.subAnswers.isEmpty()) {
                    AnswerInfoDTO ieAnswer = findIeAnswer(answer.subAnswers);
                    if (ieAnswer != null) {
                        return ieAnswer;
                    }
                }
            }
            return null;
        }

        RunDto run = (RunDto) ((WebHarvestTaskItem) item.getWrappedObject()).getRun();
        List fields = new ArrayList();
        List requiredFields = new ArrayList();
        List requiredFieldsForSQC = new ArrayList();
        String automationMode = "none";
        String ieAnswerCode = "NOT_DEFINED";
        String ieTextAnswerCode = "";
        String ieGroupAnswerCode = "";
        String automationUrl = "";
        String modelVersion = "";
        String answerOptions = "";
        String modelType = "NOT_DEFINED";
        Long retrainCount = 0l;

        if (run.automationInfo != null) {
            if (!train_model_version.toString().isEmpty()) {
                modelVersion = train_model_version.toString();
            } else {
                modelVersion = run.automationInfo.modelVersion;
            }
            if (run.automationInfo.trainingMode) {
                automationMode = "training";
            } else {
                automationMode = "production";
            }
            if (!retrain_count_type.isEmpty()) {
                if("model".equals(retrain_count_type.toString())) {
                    run.automationInfo.retrainRecordsCount = retrainCount;
                }
                if ("user".equals(retrain_count_type.toString())) {
                    if(!"".equals(retrain_count_value.toString())) {
                        run.automationInfo.retrainRecordsCount = Long.valueOf(retrain_count_value.toString());
                    } else {
                        run.automationInfo.retrainRecordsCount = retrainCount;
                    }
                }
                retrainCount = run.automationInfo.retrainRecordsCount;
                run.automationInfo.retrainCountChanged = true;
            }
            AnswerInfoDTO ieAnswer = findIeAnswer(run.automationInfo.answers);
            /*
                as ie answer is used in classification to display content, we only could determine model type by
                empty subanswers for classification
                //TODO: find a way to detect model type from vds-gateway rest or by specifying on UI
                //TODO: add cheboxes to UI to mark the answers that should be used in automation instead of hardcode below
             */
            if (ieAnswer != null) {
                if (!ieAnswer.getSubAnswers().isEmpty()) {
                    modelType = "ie";
                    ieAnswerCode = ieAnswer.answerCode;
                    for (AnswerInfoDTO subAnswer : ieAnswer.subAnswers) {
                        if ("GROUP".equals(subAnswer.answerType)) {
                            ieGroupAnswerCode = subAnswer.answerCode;
                            for (AnswerInfoDTO subGroupAnswer : subAnswer.subAnswers) {
                                requiredFields.add(subGroupAnswer.answerCode);
                            }
                             requiredFieldsForSQC.add(subAnswer.answerCode);
                        } else {
                            if (subAnswer.required) {
                                requiredFieldsForSQC.add(subAnswer.answerCode);
                                requiredFields.add(subAnswer.answerCode);
                            }
                        }
                        fields.add(subAnswer.answerCode);
                    }
                } else {
                    modelType = "classification";
                    for (AnswerInfoDTO answer : run.automationInfo.answers) {
                        if (answer.answerType.equals("INFO_EXTRACTION")) {
                            ieTextAnswerCode = answer.answerCode;
                        }
                        if(answer.answerType.equals("CHECK_ONE") || answer.answerType.equals("SELECT_ONE")){
                            ieAnswerCode = answer.answerCode;
                            fields.add(answer.answerCode);
                            requiredFields.add(answer.answerCode);
                            requiredFieldsForSQC.add(answer.answerCode);
                            answerOptions = answer.options;
                        }
                    }
                }
                if ("training".equals(automationMode)) {
                    sys.defineVariable("experimentGroup", ieAnswerCode + "_" + run.rootRunUuid, true);
                }
            }
            automationUrl = run.automationInfo.automationUrl;
        }
        sys.defineVariable("fieldList", fields, true);
        sys.defineVariable("requiredFieldList", requiredFields, true);
        sys.defineVariable("requiredFieldListForSQC", requiredFieldsForSQC, true);


        ]]&gt;
    &lt;/script&gt;
    &lt;case&gt;
        &lt;if condition='${"${" + "\"training\".equals(automationMode)" + "}"}'&gt;
            &lt;script&gt;
                &lt;![CDATA[
                    String trainJobsDataStoreName = AutomationConstants.DS_JOB_DATA_TABLE;

                    StringBuilder sqlQuery = new StringBuilder("update @this set ");
                    sqlQuery.append(" modelVersion='").append(modelVersion).append("',");
                    sqlQuery.append(" automationRootRunUUID='").append(run.rootRunUuid).append("',");
                    sqlQuery.append(" author='").append(run.authorFullName).append("',");
                    sqlQuery.append(" campaignName='").append(run.campaignName).append("',");

                    SimpleDateFormat dateFormat = new SimpleDateFormat("MM/dd/yyyy HH:mm:ss");
                    String date = dateFormat.format(new Date());
                    sqlQuery.append(" lastUpdated='").append(date).append("'");

                    sqlQuery.append(" where originalCampaignUUID='").append(run.automationInfo.originalCampaignUuid).append("'");
                    sqlQuery.append(" and modelVersion='").append(run.automationInfo.modelVersion).append("'");
                    sqlQuery.append(" and status='PREPARING'");
                    sqlQuery.append(" and tags='").append(_sys_automation_tags.toString()).append("'");
                    sqlQuery.append(";");

                    Logger logger = LoggerFactory.getLogger("com.freedomoss.crowdcontrol.webharvest.AUTOMATION_LOG");
                    logger.info("Job for training was updated: " + sqlQuery.toString());
                ]]&gt;
            &lt;/script&gt;
            &lt;datastore name="${trainJobsDataStoreName}"&gt;
                ${sqlQuery}
            &lt;/datastore&gt;
        &lt;/if&gt;
    &lt;/case&gt;
    &lt;export include-original-data="true"&gt;
        &lt;single-column name="_sys_automation_threshold" value='${"${" + "threshold.toString()" + "}"}'/&gt;
        &lt;single-column name="_sys_automation_mode" value="${automationMode}"/&gt;
        &lt;single-column name="_sys_model_version" value="${modelVersion}"/&gt;
        &lt;case&gt;
            &lt;if condition='${"${" + "\"training\".equals(automationMode)" + "}"}'&gt;
                &lt;single-column name="_sys_automation_experiment_group" value="${experimentGroup}"/&gt;
                &lt;single-column name="_sys_automation_experiment_group_online" value="${experimentGroup}-online"/&gt;
            &lt;/if&gt;
        &lt;/case&gt;
        &lt;single-column name="_sys_automation_ds_doc_batch_size" value="100"/&gt;
        &lt;single-column name="_sys_automation_url" value="${automationUrl}"/&gt;
        &lt;single-column name="time_limit_offline" value="${time_limit_offline}"/&gt;
        &lt;single-column name="time_limit_online" value="${time_limit_online}"/&gt;
        &lt;single-column name="_sys_automation_retrain_count" value="${retrainCount}"/&gt;

        &lt;single-column name="_sys_automation_ie_answer_code" value="${ieAnswerCode}"/&gt;
        &lt;single-column name="_sys_automation_ie_fields" value='${"${" + "fieldList.toString(\"UTF-8\", \",\")" + "}"}'/&gt;
        &lt;single-column name="_sys_automation_ie_required_fields"
                       value='${"${" + "requiredFieldList.toString(\"UTF-8\", \",\")" + "}"}'/&gt;
        &lt;single-column name="_sys_automation_ie_sqc_required_fields"
                       value='${"${" + "requiredFieldListForSQC.toString(\"UTF-8\", \",\")" + "}"}'/&gt;

        &lt;single-column name="_sys_sqc_source_id" value="${sqcSourceId}"/&gt;
        &lt;single-column name="_sys_sqc_enabled" value='${"${" + "sqc_enabled" + "}"}'/&gt;
        &lt;single-column name="_sys_sqc_target_quality" value='${"${" + "targetQuality" + "}"}'/&gt;
        &lt;single-column name="_sys_model_type" value='${modelType}'/&gt;

        &lt;!-- for classification--&gt;
        &lt;single-column name="_sys_automation_answer_options" value="${answerOptions}"/&gt;
        &lt;single-column name="_sys_automation_text_answer_code" value="${ieTextAnswerCode}"/&gt;

        &lt;!-- for ie --&gt;
        &lt;single-column name="_sys_automation_relations_subanswer_code" value="${ieGroupAnswerCode}"/&gt;

        &lt;!-- for online offline models --&gt;
        &lt;single-column name="_sys_train_only_online_model" value="false"/&gt;
        &lt;single-column name="_sys_do_not_hide_default_value" value="true"/&gt;

        &lt;single-column name="_sys_statistics_calculation_enabled" value='${"${" + "statistics_calculation_enabled" + "}"}'/&gt;
    &lt;/export&gt;
&lt;/config&gt;
</content>
                                       <name>(Generic) Automation Settings 8.4.4.1</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>MACHINE</type>
                                       <uuid>a5eb27e7-b2f8-4f69-9c88-3643d8b991f2</uuid>
                                       <version>
                                          <componentUuid>255a0c62-0250-41ba-bf26-ae737360965a</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2018-03-12T15:45:39Z</lastModified>
                                          <versionUuid>49213de5-6e34-4d9f-9510-d1fbea286bfa</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>ETL</machineWorkSettingType>
                                 <name>Automation Settings</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
    &lt;var-def name="threshold"&gt;{{threshold}}&lt;/var-def&gt;
    &lt;var-def name="sqc_enabled"&gt;{{sqc_enabled}}&lt;/var-def&gt;
    &lt;var-def name="targetQuality"&gt;{{target_quality}}&lt;/var-def&gt;
    &lt;var-def name="sqcSourceId"&gt;local&lt;/var-def&gt;
    &lt;var-def name="retrain_count_type"&gt;{{retrain_count_type}}&lt;/var-def&gt;
    &lt;var-def name="retrain_count_value"&gt;{{retrain_count_value}}&lt;/var-def&gt;
    &lt;var-def name="train_model_version"&gt;{{train_model_version}}&lt;/var-def&gt;
    &lt;var-def name="time_limit_offline"&gt;{{time_limit_offline}}&lt;/var-def&gt;
    &lt;var-def name="time_limit_online"&gt;{{time_limit_online}}&lt;/var-def&gt;
    &lt;var-def name="statistics_calculation_enabled"&gt;{{statistics_calculation_enabled}}&lt;/var-def&gt;

    &lt;script&gt;&lt;![CDATA[
        import com.freedomoss.crowdcontrol.webharvest.RunDto;
        import com.freedomoss.crowdcontrol.webharvest.WebHarvestTaskItem;
        import com.freedomoss.crowdcontrol.webharvest.plugin.datastore.dto.AnswerInfoDTO;
        import com.freedomoss.requester.service.automation.AutomationConstants;
        import java.text.SimpleDateFormat;
        import org.slf4j.Logger;
        import org.slf4j.LoggerFactory;

        AnswerInfoDTO findIeAnswer(List answers) {
            for (AnswerInfoDTO answer : answers) {
                if (answer.answerType.equals("INFO_EXTRACTION")) {
                    return answer;
                }
                if (answer.subAnswers != null &amp;&amp; !answer.subAnswers.isEmpty()) {
                    AnswerInfoDTO ieAnswer = findIeAnswer(answer.subAnswers);
                    if (ieAnswer != null) {
                        return ieAnswer;
                    }
                }
            }
            return null;
        }

        RunDto run = (RunDto) ((WebHarvestTaskItem) item.getWrappedObject()).getRun();
        List fields = new ArrayList();
        List requiredFields = new ArrayList();
        List requiredFieldsForSQC = new ArrayList();
        String automationMode = "none";
        String ieAnswerCode = "NOT_DEFINED";
        String ieTextAnswerCode = "";
        String ieGroupAnswerCode = "";
        String modelVersion = "";
        String answerOptions = "";
        String modelType = "NOT_DEFINED";
        Long retrainCount = 0l;

        if (run.automationInfo != null) {
            if (!train_model_version.toString().isEmpty()) {
                modelVersion = train_model_version.toString();
            } else {
                modelVersion = run.automationInfo.modelVersion;
            }
            if (run.automationInfo.trainingMode) {
                automationMode = "training";
            } else {
                automationMode = "production";
            }
            if (!retrain_count_type.isEmpty()) {
                if("model".equals(retrain_count_type.toString())) {
                    run.automationInfo.retrainRecordsCount = retrainCount;
                }
                if ("user".equals(retrain_count_type.toString())) {
                    if(!"".equals(retrain_count_value.toString())) {
                        run.automationInfo.retrainRecordsCount = Long.valueOf(retrain_count_value.toString());
                    } else {
                        run.automationInfo.retrainRecordsCount = retrainCount;
                    }
                }
                retrainCount = run.automationInfo.retrainRecordsCount;
                run.automationInfo.retrainCountChanged = true;
            }
            AnswerInfoDTO ieAnswer = findIeAnswer(run.automationInfo.answers);
            /*
                as ie answer is used in classification to display content, we only could determine model type by
                empty subanswers for classification
                //TODO: find a way to detect model type from vds-gateway rest or by specifying on UI
                //TODO: add cheboxes to UI to mark the answers that should be used in automation instead of hardcode below
             */
            if (ieAnswer != null) {
                if (!ieAnswer.getSubAnswers().isEmpty()) {
                    modelType = "ie";
                    ieAnswerCode = ieAnswer.answerCode;
                    for (AnswerInfoDTO subAnswer : ieAnswer.subAnswers) {
                        if ("GROUP".equals(subAnswer.answerType)) {
                            ieGroupAnswerCode = subAnswer.answerCode;
                            for (AnswerInfoDTO subGroupAnswer : subAnswer.subAnswers) {
                                requiredFields.add(subGroupAnswer.answerCode);
                            }
                             requiredFieldsForSQC.add(subAnswer.answerCode);
                        } else {
                            if (subAnswer.required) {
                                requiredFieldsForSQC.add(subAnswer.answerCode);
                                requiredFields.add(subAnswer.answerCode);
                            }
                        }
                        fields.add(subAnswer.answerCode);
                    }
                } else {
                    modelType = "classification";
                    for (AnswerInfoDTO answer : run.automationInfo.answers) {
                        if (answer.answerType.equals("INFO_EXTRACTION")) {
                            ieTextAnswerCode = answer.answerCode;
                        }
                        if(answer.answerType.equals("CHECK_ONE") || answer.answerType.equals("SELECT_ONE")){
                            ieAnswerCode = answer.answerCode;
                            fields.add(answer.answerCode);
                            requiredFields.add(answer.answerCode);
                            requiredFieldsForSQC.add(answer.answerCode);
                            answerOptions = answer.options;
                        }
                    }
                }
                if ("training".equals(automationMode)) {
                    sys.defineVariable("experimentGroup", ieAnswerCode + "_" + run.rootRunUuid, true);
                }
            }
        }
        sys.defineVariable("fieldList", fields, true);
        sys.defineVariable("requiredFieldList", requiredFields, true);
        sys.defineVariable("requiredFieldListForSQC", requiredFieldsForSQC, true);


        ]]&gt;
    &lt;/script&gt;
    &lt;case&gt;
        &lt;if condition='${"${" + "\"training\".equals(automationMode)" + "}"}'&gt;
            &lt;script&gt;
                &lt;![CDATA[
                    String trainJobsDataStoreName = AutomationConstants.DS_JOB_DATA_TABLE;

                    StringBuilder sqlQuery = new StringBuilder("update @this set ");
                    sqlQuery.append(" modelVersion='").append(modelVersion).append("',");
                    sqlQuery.append(" automationRootRunUUID='").append(run.rootRunUuid).append("',");
                    sqlQuery.append(" author='").append(run.authorFullName).append("',");
                    sqlQuery.append(" campaignName='").append(run.campaignName).append("',");

                    SimpleDateFormat dateFormat = new SimpleDateFormat("MM/dd/yyyy HH:mm:ss");
                    String date = dateFormat.format(new Date());
                    sqlQuery.append(" lastUpdated='").append(date).append("'");

                    sqlQuery.append(" where originalCampaignUUID='").append(run.automationInfo.originalCampaignUuid).append("'");
                    sqlQuery.append(" and modelVersion='").append(run.automationInfo.modelVersion).append("'");
                    sqlQuery.append(" and status='PREPARING'");
                    sqlQuery.append(" and tags='").append(_sys_automation_tags.toString()).append("'");
                    sqlQuery.append(";");

                    Logger logger = LoggerFactory.getLogger("com.freedomoss.crowdcontrol.webharvest.AUTOMATION_LOG");
                    logger.info("Job for training was updated: " + sqlQuery.toString());
                ]]&gt;
            &lt;/script&gt;
            &lt;datastore name="${trainJobsDataStoreName}"&gt;
                ${sqlQuery}
            &lt;/datastore&gt;
        &lt;/if&gt;
    &lt;/case&gt;
    &lt;export include-original-data="true"&gt;
      	&lt;single-column name="news" value='Some microsoft company'/&gt;
        &lt;single-column name="_sys_automation_threshold" value='${"${" + "threshold.toString()" + "}"}'/&gt;
        &lt;single-column name="_sys_automation_mode" value="${automationMode}"/&gt;
        &lt;single-column name="model_version" value="${modelVersion}"/&gt;
        &lt;case&gt;
            &lt;if condition='${"${" + "\"training\".equals(automationMode)" + "}"}' &gt;
                &lt;single-column name="automation_experiment_group" value="${experimentGroup}"/&gt;
            &lt;/if&gt;
        &lt;/case&gt;
        &lt;single-column name="_sys_automation_ds_doc_batch_size" value="100"/&gt;
        &lt;single-column name="time_limit_offline" value="${time_limit_offline}"/&gt;
        &lt;single-column name="time_limit_online" value="${time_limit_online}"/&gt;
        &lt;single-column name="_sys_automation_retrain_count" value="${retrainCount}"/&gt;

        &lt;single-column name="_sys_automation_ie_answer_code" value="${ieAnswerCode}"/&gt;
        &lt;single-column name="_sys_automation_ie_fields" value='${"${" + "fieldList.toString(\"UTF-8\", \",\")" + "}"}'/&gt;
        &lt;single-column name="_sys_automation_ie_required_fields"
                       value='${"${" + "requiredFieldList.toString(\"UTF-8\", \",\")" + "}"}'/&gt;
        &lt;single-column name="_sys_automation_ie_sqc_required_fields"
                       value='${"${" + "requiredFieldListForSQC.toString(\"UTF-8\", \",\")" + "}"}'/&gt;

        &lt;single-column name="_sys_sqc_source_id" value="${sqcSourceId}"/&gt;
        &lt;single-column name="_sys_sqc_enabled" value='${"${" + "sqc_enabled" + "}"}'/&gt;
        &lt;single-column name="_sys_sqc_target_quality" value='${"${" + "targetQuality" + "}"}'/&gt;
        &lt;single-column name="_sys_model_type" value='${modelType}'/&gt;

        &lt;!-- for classification--&gt;
        &lt;single-column name="_sys_automation_answer_options" value="${answerOptions}"/&gt;
        &lt;single-column name="_sys_automation_text_answer_code" value="${ieTextAnswerCode}"/&gt;

        &lt;!-- for ie --&gt;
        &lt;single-column name="_sys_automation_relations_subanswer_code" value="${ieGroupAnswerCode}"/&gt;

        &lt;single-column name="_sys_statistics_calculation_enabled" value='${"${" + "statistics_calculation_enabled" + "}"}'/&gt;
    &lt;/export&gt;
&lt;/config&gt;
</content>
                                    <name>(Generic) Automation Settings 8.4.4.1</name>
                                    <origination>CREATED_AUTOMATICALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>MACHINE</type>
                                    <uuid>2cd6d0e2-b8bf-4d31-959a-4fabc17d2ec6</uuid>
                                    <version>
                                       <componentUuid>a5fc9dee-51a7-4199-96a4-fc2420eac663</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-06-05T13:24:11Z</lastModified>
                                       <versionUuid>25e3a8ec-1a8f-40ad-a4c5-09b973d5b9c9</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>f9098cbf-0921-457b-be2f-701cab63e891</uuid>
                                 <version>
                                    <componentUuid>ea66ae0b-445c-441a-9e66-c2310fde5fe9</componentUuid>
                                    <incrementalVersion>1.41</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-06-05T14:53:53Z</lastModified>
                                    <versionUuid>ce4b28d6-4620-448c-a7c0-4fdfc0fcaca6</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>Automation Settings</title>
                              <type>SINGLE</type>
                              <uuid>9415e6e7-00eb-4204-bfec-995dfef19276</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>d8d0fc39-2ee7-4d57-9290-2ba947b93656</componentUuid>
                                 <incrementalVersion>1.40</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-06-05T14:53:53Z</lastModified>
                                 <versionUuid>b1c32d8b-640c-46fd-bc40-6c7e886ea087</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>1</stepIndex>
                           <stepPosition>START</stepPosition>
                           <uuid>0cc415cf-feb5-4b45-b963-2a152c8e87ec</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>114c8355-6056-436b-8252-d371bd219b83</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
  	
  	&lt;script&gt;&lt;![CDATA[
		throw new IllegalStateException("Extracted data was failed")
	]]&gt;&lt;/script&gt;
  
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>93bd5c44-4ab5-4b68-b8bb-8a71a2dbf1b8</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>Failure</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>93bd5c44-4ab5-4b68-b8bb-8a71a2dbf1b8</uuid>
                                 <version>
                                    <componentUuid>35988284-01b9-4bee-9618-a7543b371101</componentUuid>
                                    <incrementalVersion>1.1</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-06-05T14:29:51Z</lastModified>
                                    <versionUuid>92b22980-d986-4ace-8ead-b0f1e025dd00</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>Failure</title>
                              <type>SINGLE</type>
                              <uuid>3a7e4937-67e7-48c4-b64d-0c7253ed9e4b</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>a5fcf449-3ce5-4f6c-97c2-bb50f0f66d1f</componentUuid>
                                 <incrementalVersion>1.2</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-06-05T14:29:51Z</lastModified>
                                 <versionUuid>d2e403e0-cf54-4903-b04f-59e0e1985f29</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>2</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>3f0fadde-bedd-4c5b-bbb0-0af71fb349ca</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content># Rule.Definition={"moderationRule":false,"approveAllRule":false,"splitData":false,"splitRule":false,"splitRuleSuffix":"","joinRule":false,"joinRuleSuffix":"","streamingRule":false,"streamingRuleSuffix":"","namedRule":false,"namedRuleName":""}
package com.freedomoss.requester;

# list any import classes here.
import java.util.Map;
import java.util.ArrayList;
import com.freedomoss.objective.model.CompositeRuleContext;
import com.freedomoss.objective.model.CompositeRuleDataItemContext;
import org.slf4j.Logger;


# declare any global variables here
global CompositeRuleContext source
global Logger log
global Map params


rule "Rule context initialization"
auto-focus true
no-loop
agenda-group "initialization-group"
    when
        $ctx:CompositeRuleContext(initialized == false);
    then
        # insert processed facts into memory
        $ctx.updateWorkingMemory();
        # move to business rules
        kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
end

# RuleOutcome.Definition={"outcomeId":"success","conditional":true,"reworkBySameWorker":false,"assignToSameWorker":false,"anableLogging":false,"sendRejectNotification":false,"assignToAnyWorker":false,"approveRelatedAssignments":false,"rejectRelatedAssignments":false,"renameAutomationAnswerItem":false,"conditions":[{"fieldName":"company_name","operator":"IS_NOT_EMPTY"}],"customConditions":[]}
rule "1. Send records to 'success' when company_name IS_NOT_EMPTY ''"
agenda-group "calculation"
dialect "mvel"
salience 100
    when
        $ctx:CompositeRuleContext(initialized == true);
        $item:CompositeRuleDataItemContext();
        eval($item.checkValue("company_name", "IS_NOT_EMPTY", ""));

    then
        $ctx.sendResultTo("success", $item);
end

# RuleOutcome.Definition={"outcomeId":"failure","conditional":true,"reworkBySameWorker":false,"assignToSameWorker":false,"anableLogging":false,"sendRejectNotification":false,"assignToAnyWorker":false,"approveRelatedAssignments":false,"rejectRelatedAssignments":false,"renameAutomationAnswerItem":false,"conditions":[{"fieldName":"company_name","operator":"IS_EMPTY"}],"customConditions":[]}
rule "2. Send records to 'failure' when company_name IS_EMPTY ''"
agenda-group "calculation"
dialect "mvel"
salience 100
    when
        $ctx:CompositeRuleContext(initialized == true);
        $item:CompositeRuleDataItemContext();
        eval($item.checkValue("company_name", "IS_EMPTY", ""));

    then
        $ctx.sendResultTo("failure", $item);
end



rule "Send unprocessed result to unconditional outcome(s)"
agenda-group "calculation"
dialect "mvel"
salience 80
    when
        $ctx:CompositeRuleContext(initialized == true);
        $item:CompositeRuleDataItemContext();
    then
        $ctx.sendResultToUnconditionalOutcomes($item, true);
end</content>
                              <name>Decision Rule</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>9f01216a-5494-4b7c-9641-3828885b7c50</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config xmlns="http://web-harvest.sourceforge.net/schema/1.0/config"&gt;

    &lt;script language="groovy"&gt;&lt;![CDATA[
        import org.apache.commons.lang3.BooleanUtils;
        import org.webharvest.runtime.variables.NodeVariable;
        import com.freedomoss.crowdcontrol.webharvest.plugin.datastore.dto.AutomationInfoDto;

        import org.apache.commons.codec.binary.Base64;
        import org.springframework.http.*;
        import org.springframework.web.client.*;
        import org.springframework.web.util.UriComponentsBuilder;
        import com.google.gson.*;
        import com.google.gson.reflect.TypeToken;
        import org.slf4j.Logger;
        import org.slf4j.LoggerFactory;
        import org.springframework.web.client.HttpClientErrorException;
        import org.springframework.http.HttpStatus;

        logger = LoggerFactory.getLogger("com.freedomoss.crowdcontrol.webharvest.AUTOMATION_LOG");
        experimentId = item.wrappedObject.run.automationInfo.experimentId;
        experimentGroup = item.wrappedObject.run.automationInfo.experimentGroup;

        def addAuthorizationHeaders(HttpHeaders headers) {
            String plainCreds = "${wfbiUser}:${wfbiPassword}";
            byte[] plainCredsBytes = plainCreds.getBytes();
            byte[] base64CredsBytes = Base64.encodeBase64(plainCredsBytes);
            String base64Creds = new String(base64CredsBytes);
            headers.add("Authorization", "Basic " + base64Creds);
        }

        def HttpEntity&lt;?&gt; acceptJsonEntity(body) {
            HttpHeaders headers = new HttpHeaders();
            headers.set("Accept", MediaType.APPLICATION_JSON_VALUE);
            headers.set("Content-Type", MediaType.APPLICATION_JSON_VALUE);
            addAuthorizationHeaders(headers);
            if (body == null) {
                return new HttpEntity(headers);
            } else {
                return new HttpEntity(new Gson().toJson(body), headers);
            }
        }

        restTemplate = new RestTemplate();

        def checkNewPrAvailable(automationInfo) {
            def checkUrl = "${wfbiUrl}/tableau/new-curve/check";
            URI uri = UriComponentsBuilder.fromHttpUrl(checkUrl)
                    .queryParam("experiment_name", experimentId)
                    .queryParam("experiment_group", experimentGroup).build().toUri();
            logger.debug("Checking new PR API is avaialble via {}", uri);
            try {
                HttpEntity&lt;Boolean&gt; response = restTemplate.exchange(uri, HttpMethod.GET, acceptJsonEntity(), Boolean.class);
                def res = response.getBody();
                logger.debug("New PR available : {}", res);
                return res;
            } catch (HttpClientErrorException ex) {
                if (ex.getStatusCode() == HttpStatus.NOT_FOUND) {
                    logger.warn("WFBI PR check service is not available");
                    return false;
                } else {
                    throw ex;
                }
            }
        }

        def createAccuracyCheckRequestBody(automationInfo, tags) {
            def tagScores = [];
            for (Map tagInfo : tags) {
                String tag = tagInfo.get("tag");
                String score = tagInfo.get("score");
                tagScores &lt;&lt; [name: tag, score: score];
            }
            return [
                    experimentGroup: experimentGroup,
                    experimentName: experimentId,
                    perDocAccuracyLimit: automationInfo.getTargetQuality(),
                    fieldResults: tagScores
            ]
        }

        def callCheckAccuracyAPI(automationInfo, tags) {
            Map res = null;
            def calculateUrl = "${wfbiUrl}/pr/check-extraction";
            URI uri = UriComponentsBuilder.fromHttpUrl(calculateUrl).build().toUri();
            def bodyMap = createAccuracyCheckRequestBody(automationInfo, tags);
            logger.debug("Checking accuracy via {} with request {}", uri, bodyMap);
            HttpEntity&lt;Map&gt; response = restTemplate.exchange(uri, HttpMethod.POST, acceptJsonEntity(bodyMap), Map.class);
            return response.getBody();
        }

        //true - success, false - partial/failure, null - use previous classifier
        def checkExtractionAccuracy(automationInfo, tags) {
            Boolean res = null;
            if (checkNewPrAvailable(automationInfo)) {
                def checkResults = callCheckAccuracyAPI(automationInfo, tags);
                logger.debug("Check results {}", checkResults);
                if (checkResults != null) {
                    res = checkResults.get("passed");
                }
            } else {
                logger.debug("New PR is unavailable for experiment {}", experimentId);
            }
            return res;
        }

        accuracyChecker = {automationInfo, tags -&gt; checkExtractionAccuracy(automationInfo, tags)};

        ]]&gt;&lt;/script&gt;

    &lt;script language="groovy"&gt;&lt;![CDATA[
        import org.apache.commons.validator.routines.RegexValidator;
        import org.apache.commons.validator.routines.UrlValidator;
        import com.freedomoss.crowdcontrol.webharvest.RunDto;
        import com.freedomoss.crowdcontrol.webharvest.WebHarvestTaskItem;
        import com.freedomoss.crowdcontrol.webharvest.nlp.AnswerCompareUtils;
        import com.freedomoss.crowdcontrol.webharvest.plugin.datastore.dto.AnswerInfoDTO;
        import com.freedomoss.crowdcontrol.webharvest.plugin.datastore.dto.AutomationInfoDto;
        import com.freedomoss.workfusion.utils.gson.GsonUtils;
        import com.google.gson.Gson;
        import com.google.gson.GsonBuilder;
        import org.apache.commons.lang3.StringEscapeUtils;
        import org.apache.commons.math3.util.Precision;
        import org.slf4j.Logger;
        import org.slf4j.LoggerFactory;
        //for s3 private bucket
        import org.apache.http.client.methods.CloseableHttpResponse;
        import org.apache.http.client.methods.HttpHead;
        import org.apache.http.impl.client.CloseableHttpClient;
        import org.apache.http.impl.client.HttpClients;
        import org.apache.http.util.EntityUtils;
        import com.freedomoss.appliance.impl.S3SecuredDocumentsHandler;
        import com.freedomoss.spring.ApplicationContextProvider;
        // gold input data processing
		import com.freedomoss.requester.util.extraction.TextAggregationProcessor;
		import com.freedomoss.requester.util.extraction.TagRecord;

        logger = LoggerFactory.getLogger("com.freedomoss.crowdcontrol.webharvest.AUTOMATION_LOG");
        GSON_WITHOUT_HTML_ESCAPING = new GsonBuilder().disableHtmlEscaping().create();
        run = (RunDto) ((WebHarvestTaskItem) item.getWrappedObject()).getRun();
        automationInfo = run.automationInfo;

        SUCCESS = "success";
        FAILURE = "failure";
        PARTIAL_SUCCESS = "partial_success";

        MODEL_TYPE_IE = "ie";
        MODEL_TYPE_CLASSIFICATION = "classification";

        MULTI_VALUE_SEPARATOR = "|";

        String getUrlContents(String urlToLoad, String boilerPipeExtractor) {
            StringBuilder content = new StringBuilder();
            if (checkIfS3PrivateBucket(urlToLoad)) {
                S3SecuredDocumentsHandler documentsHandler = ApplicationContextProvider.getContext().getBean(S3SecuredDocumentsHandler.class);
                urlToLoad = documentsHandler.generatePreSignedLink(urlToLoad, 60).toString();
            }
            try {
                String workfusionHost = applicationHost.toString();
                String workfusionUrl = applicationContextPath.toString();
                StringBuilder urlBuilder = new StringBuilder();
                urlBuilder
                        .append(workfusionHost)
                        .append(workfusionUrl)
                        .append("/public/getRemoteContent?extractor=")
                        .append(boilerPipeExtractor)
                        .append("&amp;url=")
                        .append(URLEncoder.encode(urlToLoad, "UTF-8").replaceAll("'", "%27").replaceAll("\"", "%22"));

                URL url = new URL(urlBuilder.toString());

                URLConnection urlConnection = null;
                InputStreamReader inputReader = null;
                BufferedReader bufferedReader = null;
                try {
                    urlConnection = url.openConnection();
                    inputReader = new InputStreamReader(urlConnection.getInputStream());
                    bufferedReader = new BufferedReader(inputReader);
                    String line;
                    while ((line = bufferedReader.readLine()) != null) {
                        content.append(line + "\n");
                    }
                } finally {
                    if(inputReader != null){
                        inputReader.close();
                    }
                    if(bufferedReader != null){
                        bufferedReader.close();
                    }
                }
            } catch (Exception e) {
                logger.error(e.getMessage(), e);
            }
            return content.toString();
        }

        boolean checkIfS3PrivateBucket(String url) {
            CloseableHttpClient httpClient = null;
            try{
                httpClient = HttpClients.createDefault();
                HttpHead httpHead = new HttpHead(url);
                CloseableHttpResponse response = null;
                try {
                    response = httpClient.execute(httpHead);
                    int statusCode = response.getStatusLine().getStatusCode();
                    // do something useful with the response body
                    // and ensure it is fully consumed
                    EntityUtils.consume(response.getEntity());
                    return statusCode == 403;
                } finally {
                    if(response != null) {
                        response.close();
                    }
                }
            } finally {
                if(httpClient != null) {
                    httpClient.close();
                }
            }
        }

        String getDocumentVariableName(RunDto run) {
            // get name of variable with document content or url. Should be equals to nswer code if mapping not provided
            // check columns mapping in case when answer code mapped to another column
            String documentVariableName = null;

            String originalCampaignUuid = automationInfo.originalCampaignUuid;
            if (MODEL_TYPE_IE.equals(_sys_model_type.toString())) {
                documentVariableName = _sys_automation_ie_answer_code.toString();
            } else {
                documentVariableName = _sys_automation_text_answer_code.toString();
            }
            logger.info("documentVariableName =  " + documentVariableName + ". RunUUID: " + run.getUuid());
            try {
                Map mapping = run.getCampaignMapping(originalCampaignUuid).get(originalCampaignUuid);
                if (mapping != null) {
                    for (Map.Entry entry : mapping.entrySet()) {
                        if (documentVariableName.equals(entry.getValue())) {
                            documentVariableName = entry.getKey();
                            break;
                        }
                    }
                }
            } catch (Exception ignored) {
            }
            logger.info("new documentVariableName =  " + documentVariableName + ". RunUUID: " + run.getUuid());
            return documentVariableName;
        }

        boolean isUrlToDocument(String document) {
            String[] schemes = ["http", "https" ];
            RegexValidator authorityValidator = new RegexValidator("^([\\p{Alnum}\\-\\.]*)(:\\d*)?(.*)?");
            UrlValidator urlValidator = new UrlValidator(schemes, authorityValidator, UrlValidator.ALLOW_LOCAL_URLS);
            return urlValidator.isValid(document);
        }

        String getBoilerpipeExtractorType(RunDto run) {
            AutomationInfoDto automationInfo = run.automationInfo;
            List answers = automationInfo.getAnswers();
            String IE_EXTRACTOR_TYPE_OPTION = "ieExtractorType";
            String extractor = "KEEP_EVERYTHING_EXTRACTOR";
            for (AnswerInfoDTO answerDto : answers) {
                if ("INFO_EXTRACTION".equals(answerDto.getAnswerType())) {
                    String options = answerDto.getOptions();
                    Map optionsMap = GSON_WITHOUT_HTML_ESCAPING.fromJson(options, Map.class);
                    extractor = optionsMap.get(IE_EXTRACTOR_TYPE_OPTION);
                    break;
                }
            }
            return extractor;
        }

        String getDocumentContent(RunDto run) {
            String documentVariableName = getDocumentVariableName(run);
            if(sys.getVar(documentVariableName)== null){
                logger.warn("Column with name: " + documentVariableName + " is not presenting in input data");
                throw new RuntimeException("Column with name: " + documentVariableName + " is not presenting in input data");
            }
            String document = sys.getVar(documentVariableName).getWrappedObject();
            //if the document behind the URL - fetch the content
            if (isUrlToDocument(document)) {
                logger.info("WFML Document loading from url : " + document);
                String extractor = getBoilerpipeExtractorType(run);
                logger.info("WFML boilerpipe extractor : " + extractor);
                document = getUrlContents(document, extractor);
                if (document.isEmpty()) {
                    logger.info("WFML Document is not loaded from url");
                } else {
                    logger.info("WFML Document loaded from url.");
                }
            }

            String documentUnescapeXml = StringEscapeUtils.unescapeXml(document);
            return documentUnescapeXml;
        }

        String createDocumentJson(String documentContent) {
            Map map2Json = new HashMap();
            List list2Json = new ArrayList();
            list2Json.add(documentContent);
            map2Json.put("textParts", list2Json);
            String documentJson = GSON_WITHOUT_HTML_ESCAPING.toJson(map2Json);
            return documentJson;
        }

/* -----------------------------------------------------------------------------------------------------
    BEGIN OF IE SPECIFIC EXTRACTION METHODS
------------------------------------------------------------------------------------------------------ */

        def putOrConcatValueToMap(Map map, String key, String value) {
            if (map.containsKey(key)) {
                map.put(key, map.get(key) + MULTI_VALUE_SEPARATOR + value);
            } else {
                map.put(key, value);
            }
        }

        Map createTagValueMap(tagList) {
            Map res = new HashMap();
            for (Map tagInfo : tagList) {
                String tag = tagInfo.get("tag");
                String text = tagInfo.get("text");
                putOrConcatValueToMap(res, tag, text);
            }
            return res;
        }

        AnswerInfoDTO findIeAnswer(List answers) {
            for (AnswerInfoDTO answer : answers) {
                if (answer.answerType.equals("INFO_EXTRACTION")) {
                    return answer;
                }
                if (answer.subAnswers != null &amp;&amp; !answer.subAnswers.isEmpty()) {
                    AnswerInfoDTO ieAnswer = findIeAnswer(answer.subAnswers);
                    if (ieAnswer != null) {
                        return ieAnswer;
                    }
                }
            }
            return null;
        }

        List&lt;String&gt; getSubAnswerCodesForGroupAnswer(){
            AnswerInfoDTO ieAnswer = findIeAnswer(run.automationInfo.answers);
            List&lt;String&gt; subGroupAnswersCodes = new ArrayList&lt;String&gt;();
            if (ieAnswer != null) {
                if (!ieAnswer.getSubAnswers().isEmpty()) {
                    ieAnswerCode = ieAnswer.answerCode;
                    for (AnswerInfoDTO subAnswer : ieAnswer.subAnswers) {
                        if ("GROUP".equals(subAnswer.answerType)) {
                            for (AnswerInfoDTO subAnswerForGroup : subAnswer.subAnswers) {
                                subGroupAnswersCodes.add(subAnswerForGroup.answerCode);
                            }
                        }
                    }
                }
            }
            logger.info("subGroupAnswersCodes: " + subGroupAnswersCodes);
            return subGroupAnswersCodes;
        }

        boolean processExtractionResultNoAdvancedCalibrationIE(Map resultMap, List requiredFieldList) {
            boolean res = true;
            List tagList = resultMap.get("tags");
            Map tagValues;
            String groupAnswerCode = _sys_automation_relations_subanswer_code.toString();
            if (groupAnswerCode == null || groupAnswerCode.isEmpty()) {
                tagValues = createTagValueMap(tagList);
            } else {
                tagValues = new HashMap&lt;String,String&gt;();
                Map&lt;String, Map&lt;String, String&gt;&gt; indexGroupMap = new HashMap&lt;String, Map&lt;String, String&gt;&gt;();
                for (Map tagInfo : tagList) {
                    String tag = tagInfo.get("tag");
                    String text = tagInfo.get("text");
                    String tabnumber = tagInfo.get("tabnumber");
                    if(tabnumber != null){
                        List&lt;String&gt; subGroupAnswersCodes = getSubAnswerCodesForGroupAnswer();
                        if (subGroupAnswersCodes.contains(tag)){
                            Map&lt;String, String&gt; groupAnswersMap = indexGroupMap.get(tabnumber);
                            if(groupAnswersMap != null){
                                groupAnswersMap.put(tag,text);
                            } else {
                                groupAnswersMap = new HashMap&lt;&gt;();
                                groupAnswersMap.put(tag,text);
                                groupAnswersMap.put("tabnumber", tabnumber);
                                indexGroupMap.put(tabnumber, groupAnswersMap);
                            }
                        } else {
                            putOrConcatValueToMap(tagValues, tag, text);
                        }
                    } else {
                        putOrConcatValueToMap(tagValues, tag, text);
                    }
                }
                if (!indexGroupMap.isEmpty()){
                    List values  = new ArrayList(indexGroupMap.values());
                    Map wrappedTagJsonMap = new HashMap();
                    wrappedTagJsonMap.put(groupAnswerCode, values);
                    String wrappedTagJson = GSON_WITHOUT_HTML_ESCAPING.toJson(wrappedTagJsonMap);
                    tagValues.put(groupAnswerCode, wrappedTagJson);
                }
            }
            resultMap.put("tagValueMap", tagValues);
            String requiredFieldCheckMsg = checkRequiredFieldsAnswered(tagList, requiredFieldList);
            if (requiredFieldCheckMsg != null) {
                resultMap.get("automationExtractStatusReason").append(requiredFieldCheckMsg);
                resultMap.put("automationExtractStatus", "partial_success");
                return false;
            }
            Boolean checked = accuracyChecker(automationInfo, tagList);
            if (checked != null) {
                resultMap.get("automationExtractStatusReason").append(" Extraction accuracy check via WFBI API result : ").append(checked);
                if (checked) {
                    resultMap.put("automationExtractStatus", "success");
                } else {
                    resultMap.put("automationExtractStatus", "failure");
                }
                return checked;
            }
            Double estimatedAccuracy;
            if (resultMap.get("estimatedAccuracy") == null) {
                logger.info("VDS return estimatedAccuracy = null. Used default value = 0");
                estimatedAccuracy = 0;
            } else {
                estimatedAccuracy = resultMap.get("estimatedAccuracy");
            }
            Double automationThreadhold = Double.valueOf(automationInfo.targetQuality);
            String automationExtractStatus;
            if (estimatedAccuracy.compareTo(automationThreadhold) &lt; 0) {
                resultMap.get("automationExtractStatusReason").append(" Estimated accuracy &lt; Automation threadhold.");
                automationExtractStatus = "failure";
                res = false;
            } else {
                resultMap.get("automationExtractStatusReason").append(" Estimated accuracy &gt;= Automation threadhold.");
                automationExtractStatus = "success";
            }
            resultMap.put("automationExtractStatus", automationExtractStatus);
            return res;
        }

        void processAutomationExtractStatus(boolean isExtractSuccessful, List tagList, Map resultMap) {
            String automationExtractStatus;
            if (isExtractSuccessful) {
                automationExtractStatus = SUCCESS;
            } else {
                automationExtractStatus = PARTIAL_SUCCESS;
            }
            resultMap.get("automationExtractStatusReason").append(" Use '")
                    .append(automationExtractStatus)
                    .append("' as default value for automationExtractStatus.");
            for (Map tagInfo : tagList) {
                String tag = tagInfo.get("tag");
                Double estimatedAccuracy;
                if (tagInfo.get("estimatedAccuracy") == null) {
                    logger.info("VDS return estimatedAccuracy = null for tag '" + tag + "'. Used default value = 0");
                    estimatedAccuracy = 0;
                } else {
                    estimatedAccuracy = Double.valueOf(tagInfo.get("estimatedAccuracy"));
                }
                Double automationThreadhold = null;
                if (automationInfo.getSelectedTagPrecisions().containsKey(tag)) {
                    automationThreadhold = automationInfo.getSelectedTagPrecisions().get(tag);
                } else if (automationInfo.getUnselectedTagPrecisions().containsKey(tag)) {
                    resultMap.get("automationExtractStatusReason").append(" Precision for tag '")
                            .append(tag)
                            .append("' is unselected.");
                    automationExtractStatus = FAILURE;
                    break;
                }
                if (automationThreadhold != null &amp;&amp; Precision.equals(automationThreadhold, 0d, 0.00001)) {
                    continue;
                }
                if (automationThreadhold == null || estimatedAccuracy.compareTo(automationThreadhold) &lt; 0) {
                    resultMap.get("automationExtractStatusReason").append(" AutomationThreadhold '")
                            .append(automationThreadhold)
                            .append("' is null or ~0.");
                    automationExtractStatus = FAILURE;
                    break;
                }
            }
            resultMap.put("automationExtractStatus", automationExtractStatus);
        }

        String checkRequiredFieldsAnswered(List tagList, List requiredFieldList) {
            Map tagValues = createTagValueMap(tagList);
            String res = null;
            // check are all required values extracted
            for (int i = 0; i &lt; requiredFieldList.size(); i++) {
                String requiredField = requiredFieldList.get(i);
                if (!tagValues.containsKey(requiredField)) {
                    res = " isExtractSuccessful = false because not all required values extracted. First incorrect '" + requiredField + "'";
                    break;
                }
            }
            return res;
        }

        boolean processExtractionResultAdvancedCalibration(Map resultMap, List requiredFieldList) {
            String groupAnswerCode = _sys_automation_relations_subanswer_code.toString();
            boolean isExtractSuccessful = true;
            if (groupAnswerCode == null || groupAnswerCode.isEmpty()) {
                resultMap.get("automationExtractStatusReason").append(" Process case [groupAnswerCode == null || groupAnswerCode.isEmpty()].");
                List tagList = resultMap.get("tags");
                def tagValues = createTagValueMap(tagList);
                resultMap.put("tagValueMap", tagValues);
                String requiredFieldCheckMsg = checkRequiredFieldsAnswered(tagList, requiredFieldList);
                if (requiredFieldCheckMsg != null) {
                    resultMap.get("automationExtractStatusReason").append(requiredFieldCheckMsg);
                    isExtractSuccessful = false;
                }
                processAutomationExtractStatus(isExtractSuccessful, tagList, resultMap);
            } else {
                Map nonRelationTagMap = resultMap.get("nonRelations");
                resultMap.get("automationExtractStatusReason").append(" Process case [groupAnswerCode != null and !groupAnswerCode.isEmpty()].");
                if (nonRelationTagMap != null) {
                    List tagList = nonRelationTagMap.keySet();
                    tagValueMap = resultMap.get("tagValueMap");
                    for (String tag : tagList) {
                        String tagText = nonRelationTagMap.get(tag).get("text");
                        tagValueMap.put(tag, tagText);
                    }

                    List relationTagJson = GSON_WITHOUT_HTML_ESCAPING.fromJson(resultMap.get("relationJson"), List.class);
                    Map wrappedTagJsonMap = new HashMap();
                    wrappedTagJsonMap.put(groupAnswerCode, relationTagJson);
                    String wrappedTagJson = GSON_WITHOUT_HTML_ESCAPING.toJson(wrappedTagJsonMap);
                    tagValueMap.put(groupAnswerCode, wrappedTagJson);

                    resultMap.get("automationExtractStatusReason").append(" Process case [nonRelationTagMap != null].");
                    //check is all required fields extracted for group answer
                    for (AnswerInfoDTO answer : automationInfo.answers) {
                        if (answer.answerType.equals("INFO_EXTRACTION")) {
                            for (AnswerInfoDTO subAnswer : answer.subAnswers) {
                                if ("GROUP".equals(subAnswer.answerType)) {
                                    isExtractSuccessful = AnswerCompareUtils.isAllRequiredFieldsExtracted(wrappedTagJson, subAnswer);
                                    if (isExtractSuccessful) {
                                        resultMap.get("automationExtractStatusReason").append(" isExtractSuccessful = false because not all required values extracted for group answer.");
                                        break;
                                    }
                                }

                            }
                        }
                    }
                    processAutomationExtractStatus(isExtractSuccessful, tagList, resultMap);
                }
            }
            return isExtractSuccessful;
        }

        void preprocessIE(Map resultMap) {
            sys.defineVariable("fieldList", Arrays.asList(_sys_automation_ie_fields.toString().split(",")));
            resultMap.put("tagValueMap", new HashMap());
        }

        boolean processExtractionResultsIE(Map resultMap, List requiredFieldList) {
            if (automationInfo.isAdvancedCalibration()) {
                resultMap.get("automationExtractStatusReason").append(" Process with advanced calibration.");
                return processExtractionResultAdvancedCalibration(resultMap, requiredFieldList);
            } else {
                resultMap.get("automationExtractStatusReason").append(" Process without advanced calibration.");
                return processExtractionResultNoAdvancedCalibrationIE(resultMap, requiredFieldList);
            }
        }
/* ------------------------------------------------------------------------------------------------------
    END OF IE SPECIFIC EXTRACTION METHODS
------------------------------------------------------------------------------------------------------ */

/* -----------------------------------------------------------------------------------------------------
    BEGIN OF CLASSIFICATION SPECIFIC EXTRACTION METHODS
------------------------------------------------------------------------------------------------------ */
        boolean processERWACSelectedTag(String tag, Double estimatedAccuracy, Map resultMap) {
            resultMap.get("automationExtractStatusReason").append(" Category '" + tag + "' is selected.");
            automationThreadhold = automationInfo.getSelectedTagPrecisions().get(tag);
            if (automationThreadhold != null &amp;&amp; Precision.equals(automationThreadhold, 0d, 0.00001)) {
                resultMap.get("automationExtractStatusReason").append(" Automation threadhold is '0'");
                return true;
            } else if (automationThreadhold == null) {
                resultMap.get("automationExtractStatusReason").append(" Automation threadhold is null.");
                return false;
            } else if (estimatedAccuracy &lt; automationThreadhold) {
                resultMap.get("automationExtractStatusReason").append(" Estimated accuracy &lt; Automation threadhold.");
                return false;
            } else {
                resultMap.get("automationExtractStatusReason").append(" Estimated accuracy &gt;= Automation threadhold.");
                return true;
            }
        }

        boolean processExtractionResultWithAdvancedCalibration(String category, Double estimatedAccuracy, Map resultMap) {
            resultMap.get("automationExtractStatusReason").append(" Process extraction result with advanced calibration.");
            String tag = "S-" + category;
            if (automationInfo.getSelectedTagPrecisions().containsKey(tag)) {
                return processERWACSelectedTag(tag, estimatedAccuracy, resultMap);
            } else if (automationInfo.getUnselectedTagPrecisions().containsKey(tag)) {
                resultMap.get("automationExtractStatusReason").append(" Category '" + tag + "' is unselected.");
                return false;
            } else {
                resultMap.get("automationExtractStatusReason").append(" Category '" + tag + "' is unknown.");
                return false;
            }
        }

        boolean processExtractionResultClassification(Map resultMap) {
            String category = resultMap.get("category");
            Double estimatedAccuracy = resultMap.get("estimatedAccuracy");
            boolean extractionSuccessful;

            if (!(category == null || category.isEmpty())) {
                if (estimatedAccuracy == null) {
                    logger.info("VDS return estimatedAccuracy = null. Used default value = 0.");
                    estimatedAccuracy = 0;
                }
                if (automationInfo.isAdvancedCalibration()) {
                    resultMap.get("automationExtractStatusReason").append(" Process with advanced calibration.");
                    extractionSuccessful = processExtractionResultWithAdvancedCalibration(category, estimatedAccuracy, resultMap);
                } else {
                    resultMap.get("automationExtractStatusReason").append(" Process without advanced calibration.");
                    Double automationThreadhold = Double.valueOf(automationInfo.targetQuality);
                    if (estimatedAccuracy &lt; automationThreadhold) {
                        resultMap.get("automationExtractStatusReason").append(" Estimated accuracy &lt; Automation threadhold");
                        extractionSuccessful = false;
                    } else {
                        resultMap.get("automationExtractStatusReason").append(" Estimated accuracy &gt;= Automation threadhold");
                        extractionSuccessful = true;
                    }
                }
            } else {
                extractionSuccessful = false;
            }
            resultMap.put("automationExtractStatus", extractionSuccessful ? SUCCESS : FAILURE);
            return extractionSuccessful;
        }
/* -----------------------------------------------------------------------------------------------------
    END OF CLASSIFICATION SPECIFIC EXTRACTION METHODS
------------------------------------------------------------------------------------------------------ */

/* -----------------------------------------------------------------------------------------------------
    BEGIN OF GOLD INPUT DATA PROCESSING
------------------------------------------------------------------------------------------------------ */

        Map getSubAnswerCodeMap(){
            AnswerInfoDTO ieAnswer = findIeAnswer(run.automationInfo.answers);
            Map&lt;String, List&lt;String&gt;&gt; subGroupAnswersCodes = new HashMap&lt;&gt;();
            if (ieAnswer != null) {
                if (!ieAnswer.getSubAnswers().isEmpty()) {
                    for (AnswerInfoDTO subAnswer : ieAnswer.getSubAnswers()) {
                        if ("GROUP".equals(subAnswer.answerType)) {
                            List&lt;String&gt; subCodes = new ArrayList&lt;&gt;();
                            for (AnswerInfoDTO subAnswerForGroup : subAnswer.subAnswers) {
                                subCodes.add(subAnswerForGroup.answerCode);
                            }
                            subGroupAnswersCodes.put(subAnswer.answerCode, subCodes);
                        }
                    }
                }
            }
            return subGroupAnswersCodes;
        }

        String getTabNumber(TagRecord tagRecord) {
            Set&lt;Integer&gt; tabNumbers = tagRecord.getTabNumbers();
            if (tabNumbers == null || tabNumbers.size() == 0) {
                return null;
            }
            for (Integer tabNumber : tabNumbers) {
                return tabNumber.toString();
            }
            return null;
        }

        boolean processGoldInputData(String modelType, String documentContent) {
            boolean isGoldInputData = false;
            if (MODEL_TYPE_IE.equals(modelType)) {
                if(TextAggregationProcessor.isTextContainsTagsExcludeHtmlOcr(documentContent)){
                    isGoldInputData = true;
                    logger.info("Used gold data: Document content is tagged");
                    List&lt;TagRecord&gt; tagRecords = TextAggregationProcessor.collectDocumentTagsExcludeHtmlOcr(documentContent);

                    Map&lt;String, List&lt;String&gt;&gt; groups = getSubAnswerCodeMap();
                    List&lt;String&gt; subGroupAnswersCodes = new ArrayList&lt;&gt;();
                    for (List&lt;String&gt; value : groups.values()) {
                        subGroupAnswersCodes.addAll(value);
                    }
                    Map&lt;String, String&gt; goldAnswerMap = new HashMap();
                    Map&lt;String, Map&lt;String, Map&lt;String, String&gt;&gt;&gt; answerGroupMap = new HashMap&lt;&gt;();
                    for (TagRecord tagRecord: tagRecords) {
                        String tag = tagRecord.getTagName();
                        String text = tagRecord.getOriginalText();
                        String tabNumber = getTabNumber(tagRecord);
                        if(tabNumber != null){
                            if (subGroupAnswersCodes.contains(tag)){
                                for (Map.Entry&lt;String, List&lt;String&gt;&gt; groupSet : groups.entrySet()) {
                                    if (groupSet.getValue().contains(tag)) {
                                        Map&lt;String, Map&lt;String, String&gt;&gt; tabNumberGroupMap = answerGroupMap.get(groupSet.getKey());
                                        if (tabNumberGroupMap == null) {
                                            tabNumberGroupMap = new HashMap&lt;&gt;();
                                            answerGroupMap.put(groupSet.getKey(), tabNumberGroupMap);
                                        }
                                        Map&lt;String, String&gt; groupAnswersMap = tabNumberGroupMap.get(tabNumber);
                                        if(groupAnswersMap != null){
                                            groupAnswersMap.put(tag,text);
                                        } else {
                                            groupAnswersMap = new HashMap&lt;&gt;();
                                            groupAnswersMap.put(tag,text);
                                            groupAnswersMap.put("tabnumber", tabNumber);
                                            tabNumberGroupMap.put(tabNumber, groupAnswersMap);
                                        }
                                        break;
                                    }
                                }
                            } else {
                                putOrConcatValueToMap(goldAnswerMap, tag, text);
                            }
                        } else {
                            putOrConcatValueToMap(goldAnswerMap, tag, text);
                        }
                    }
                    if (!answerGroupMap.isEmpty()) {
                        for (Map.Entry&lt;String, Map&lt;String, Map&lt;String, String&gt;&gt;&gt; entry : answerGroupMap.entrySet()) {
                            List values  = new ArrayList(entry.getValue().values());
                            Map wrappedTagJsonMap = new HashMap();
                            wrappedTagJsonMap.put(entry.getKey(), values);
                            String wrappedTagJson = GsonUtils.GSON.toJson(wrappedTagJsonMap);
                            goldAnswerMap.put(entry.getKey(), wrappedTagJson);
                        }
                    }
                    sys.defineVariable("goldAnswer", GsonUtils.GSON.toJson(goldAnswerMap, GsonUtils.TYPE_MAP_STRING_STRING));
                }
			} else if (MODEL_TYPE_CLASSIFICATION.equals(modelType)) {
			    String categoryColumn = _sys_automation_ie_answer_code.toString();
			    if (sys.getVar(categoryColumn) != null &amp;&amp; sys.getVar(categoryColumn).getWrappedObject() != null) {
                    isGoldInputData = true;
                    logger.info("Used gold data: There is gold category");
                    String goldCategory = sys.getVar(categoryColumn).getWrappedObject();
                    Map&lt;String, String&gt; goldAnswerMap = new HashMap();
                    goldAnswerMap.put(categoryColumn, goldCategory);
                    sys.defineVariable("goldAnswer", GsonUtils.GSON.toJson(goldAnswerMap, GsonUtils.TYPE_MAP_STRING_STRING));
                }
			} else {
                logger.error("Unknown case for modelType '" + modelType + "'");
    		}
    		return isGoldInputData;
        }

/* -----------------------------------------------------------------------------------------------------
    END OF GOLD INPUT DATA PROCESSING
------------------------------------------------------------------------------------------------------ */

        boolean processExtractionResultGeneral(Map responseMap, Map resultMap, List requiredFieldList) {
            String modelType = _sys_model_type.toString();
            if (MODEL_TYPE_IE.equals(modelType)) {
                preprocessIE(resultMap);
            }
            int httpState = Integer.valueOf(responseMap.get("responseStatus"));
            if (httpState != 200 &amp;&amp; httpState != 500 &amp;&amp; httpState != 504) {
                throw new RuntimeException("Error!!! Automation extract service unavailable. Http code = " + httpState + "result=" + resultMap);
            }
            String responseBody = responseMap.get("responseBody");
            logger.debug("Status : {}, Response : {}", httpState, org.apache.commons.lang3.StringUtils.left(responseBody, 40));
            boolean isExtractSuccessful = true;
            resultMap.put("automationExtractStatusReason", new StringBuilder(""));
            if (httpState == 500 || httpState == 504) {
                errorMessage = responseBody;
                logger.error("Error was occurred during extract fields. " + errorMessage);
                isExtractSuccessful = false;
                resultMap.put("automationExtractStatus", FAILURE);
                resultMap.get("automationExtractStatusReason").append("Error was occurred during extract fields. ")
                        .append(errorMessage);
                sys.defineVariable("isExtractSystemError", true);
            }  else {
                Map resultV2 = GsonUtils.GSON.fromJson(responseBody, GsonUtils.TYPE_MAP_STRING_STRING);

                String extractCorrelationId = resultV2.get("correlationId");
                sys.defineVariable("extractCorrelationId", extractCorrelationId);
                resultMap.get("automationExtractStatusReason").append("Extract processed with correlationId: '").append(extractCorrelationId).append("'. ");

                String resultJson = resultV2.get("result");
                Map result = GsonUtils.GSON.fromJson(resultJson, GsonUtils.TYPE_MAP_STRING_OBJECT)
                sys.defineVariable("result", resultJson);
                resultMap.putAll(result);
                if (MODEL_TYPE_IE.equals(modelType)) {
                    isExtractSuccessful = processExtractionResultsIE(resultMap, requiredFieldList);
                } else {
                    isExtractSuccessful = processExtractionResultClassification(resultMap);
                }
                sys.defineVariable("isExtractSystemError", false);
            }
            return isExtractSuccessful;
        }

//--------------------------------------------------------------------------------------------------------------
//------------------------------------- END OF METHODS DECLARATION ---------------------------------------------
//--------------------------------------------------------------------------------------------------------------

        logger.info("Begin process MT extract info with advanced calibration RunUUID: " + run.getUuid());
        String documentContent = getDocumentContent(run);
        sys.defineVariable("documentContent", documentContent);
        if (_sys_statistics_calculation_enabled.toString().equals("true")) {
            boolean isGoldInputData = processGoldInputData(_sys_model_type.toString(),documentContent);
            sys.defineVariable("isGoldInputData", isGoldInputData);
        } else {
            sys.defineVariable("isGoldInputData", false);
            sys.defineVariable("goldAnswer", "");
        }
        sys.defineVariable("documentJson", createDocumentJson(documentContent));
        String requiredFieldStr = _sys_automation_ie_required_fields.toString();
        List requiredFieldList;
        if ("".equals(requiredFieldStr)) {
            requiredFieldList = new ArrayList();
        } else {
            requiredFieldList = Arrays.asList(requiredFieldStr.split(","));
        }
        extractionResultProcessor = {responseMap, resultMap -&gt; processExtractionResultGeneral(responseMap, resultMap, requiredFieldList)};
        ]]&gt;&lt;/script&gt;

    &lt;var-def name='extractResult'&gt;
        &lt;automation-extract model-name='${item.wrappedObject.run.automationInfo.modelType}'
                            model-version='${item.wrappedObject.run.automationInfo.modelVersion}'
                            egid='${item.wrappedObject.run.automationInfo.experimentGroup}'
                            experiment-id='${item.wrappedObject.run.automationInfo.experimentId}'
                            document='${documentJson}'
                            api-version='2'
        /&gt;
    &lt;/var-def&gt;

    &lt;script language="groovy"&gt;
        &lt;![CDATA[
        import com.freedomoss.workfusion.utils.gson.GsonUtils;

        Map responseMap = GsonUtils.GSON.fromJson(extractResult.toString(), GsonUtils.TYPE_MAP_STRING_STRING);
        logger.info("responseMap: " + responseMap);
        Map resultMap = new HashMap();
        boolean isExtractSuccessful = extractionResultProcessor(responseMap, resultMap);
        logger.info("resultMap: " + resultMap);
        //if successfully extracted: increment number of automated records
        if (isExtractSuccessful) {
            automationInfo.automatedRecords++;
        }
        logger.info("isExtractSuccessful:  " + isExtractSuccessful);
        logger.info("automationExtractStatus:  " + resultMap.get("automationExtractStatus"));
        logger.info("automationExtractStatus reason: " + resultMap.get("automationExtractStatusReason").toString());
        sys.defineVariable("resultMap", resultMap);
        ]]&gt;
    &lt;/script&gt;

    &lt;export include-original-data="true"&gt;
        &lt;single-column name="_sys_extract_http_state" value="${httpState}"/&gt;
        &lt;single-column name="_sys_extract_error_message" value="${errorMessage}"/&gt;
        &lt;case&gt;
            &lt;if condition='${_sys_model_type.toString().equals("ie")}'&gt;
                &lt;single-column name="${_sys_automation_ie_answer_code}_tagged" value='${resultMap.getWrappedObject().get("taggedText")}'/&gt;
                &lt;single-column name="_sys_group_probability" value='${resultMap.getWrappedObject().get("finalScore")}'/&gt;
                &lt;single-column name="_sys_group" value='${resultMap.getWrappedObject().get("group")}'/&gt;
                &lt;loop item="fieldName"&gt;
                    &lt;list&gt;
                        &lt;var name="fieldList"/&gt;
                    &lt;/list&gt;
                    &lt;body&gt;
                        &lt;single-column name="${fieldName}"
                                       value='${resultMap.getWrappedObject().get("tagValueMap").get(fieldName.toString())}'/&gt;
                    &lt;/body&gt;
                &lt;/loop&gt;
            &lt;/if&gt;

            &lt;else&gt;
                &lt;single-column name="_sys_group_probability" value='${resultMap.getWrappedObject().get("score")}'/&gt;
                &lt;single-column name="_sys_group" value='S-${resultMap.getWrappedObject().get("category")}'/&gt;
                &lt;single-column name="${_sys_automation_ie_answer_code}" value='${resultMap.getWrappedObject().get("category")}'/&gt;
            &lt;/else&gt;
        &lt;/case&gt;
        &lt;single-column name="_sys_model_result" value='${result}'/&gt;
        &lt;single-column name="_sys_automation_extract_correlation_id" value='${extractCorrelationId}'/&gt;
        &lt;single-column name="_sys_automation_extract_status" value='${resultMap.getWrappedObject().get("automationExtractStatus")}'/&gt;
      	&lt;single-column name="_sys_automation_extract_status_boolean" value='${resultMap.getWrappedObject().containsKey("automationExtractStatus")}'/&gt;
        &lt;single-column name="_sys_automation_extract_status_reason"
                       value='${resultMap.getWrappedObject().get("automationExtractStatusReason").toString()}'/&gt;
        &lt;single-column name="_sys_is_gold_input_data" value="${isGoldInputData}"/&gt;
        &lt;single-column name="_sys_gold_answer" value="${goldAnswer}"/&gt;
        &lt;single-column name="_sys_is_extract_system_error" value="${isExtractSystemError}"/&gt;
    &lt;/export&gt;
&lt;/config&gt;
</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>25d85ebf-ffc8-4a48-979e-175949cac4cb</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>Extract Information</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>25d85ebf-ffc8-4a48-979e-175949cac4cb</uuid>
                                 <version>
                                    <componentUuid>ef496d10-29f4-4ced-9ce5-4d833db77ba2</componentUuid>
                                    <incrementalVersion>1.0</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-06-05T13:26:06Z</lastModified>
                                    <versionUuid>333c9448-2a9b-43da-80a3-efdbb9b82786</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>Extract Information</title>
                              <type>SINGLE</type>
                              <uuid>6ef54285-ad63-44be-d354-27f58322f901</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>68bef551-7dbb-4b3e-9c51-c2a22811cf2e</componentUuid>
                                 <incrementalVersion>1.1</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-06-05T13:26:06Z</lastModified>
                                 <versionUuid>2d1d8738-5d96-4e7d-9357-9482ab66f8a8</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>3</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>6cf221fd-b38e-4572-8832-547d9dba4431</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>6410d970-b0cc-4c9c-a169-ee8008419aa1</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>c16afb4a-3484-4dc8-80da-c454395140db</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>Success</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>c16afb4a-3484-4dc8-80da-c454395140db</uuid>
                                 <version>
                                    <componentUuid>6a7ff978-11b6-4bff-9c89-3d9dbe59582c</componentUuid>
                                    <incrementalVersion>1.0</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-06-05T14:20:42Z</lastModified>
                                    <versionUuid>1b5a9946-a81e-41b0-a829-f96c1e8972c0</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>Success</title>
                              <type>SINGLE</type>
                              <uuid>76c1115f-b59d-4fc1-c886-162eace4deda</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>20340894-6882-4c7a-9c20-59352e985c3e</componentUuid>
                                 <incrementalVersion>1.1</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-06-05T14:20:42Z</lastModified>
                                 <versionUuid>01649431-d71f-4630-a895-4ab6c7f350b8</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>4</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>68f1dd9b-ae4c-4c6a-9ec5-d076418efe5e</uuid>
                        </campaignMap>
                        <campaignMap>
                           <businessRule>
                              <content>package com.freedomoss.requester;

#list any import classes here.
import com.freedomoss.objective.model.CompositeRuleContext;
import com.freedomoss.objective.model.CompositeRuleDataItemContext;
import com.freedomoss.requester.model.AwsHitQuestionItem;
import com.freedomoss.requester.model.AwsHitQuestionAnswerItem;
import org.slf4j.Logger;
import java.util.Map;
import java.util.Iterator;
import java.util.List;
import java.util.Set;
import java.util.ArrayList;
import com.freedomoss.requester.dto.SubmissionResultDTO;

#declare any global variables here
global CompositeRuleContext source
global Logger log
global Map params



rule "Rule context initialization"
auto-focus true
no-loop
dialect "mvel"
agenda-group "initialization-group"
	when
		$ctx:CompositeRuleContext(initialized == false);
	then
		$ctx.updateWorkingMemory();
		# move to business rules
		$ctx.logExecutedRule(kcontext.getRule().getName());
		kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
end</content>
                              <name>Business Process: End Rule</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <uuid>77d4c68e-15b5-4c99-beac-52ba343a0245</uuid>
                              <workflowRuleMode>ADVANCED</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;

    &lt;var-def name="exportType"&gt;
        &lt;case&gt;
            &lt;if condition='${sys.isVariableDefined("_sys_export_type")}'&gt;
                &lt;template&gt;${_sys_export_type}&lt;/template&gt;
            &lt;/if&gt;
        &lt;/case&gt;
    &lt;/var-def&gt;

    &lt;var-def name="exportColumns"&gt;
        &lt;case&gt;
            &lt;if condition='${sys.isVariableDefined("_sys_export_columns")}'&gt;
                &lt;template&gt;${_sys_export_columns}&lt;/template&gt;
            &lt;/if&gt;
            &lt;else&gt;&lt;/else&gt;
        &lt;/case&gt;
    &lt;/var-def&gt;

    &lt;var-def name="columnNameCase"&gt;
        &lt;case&gt;
            &lt;if condition='${sys.isVariableDefined("_sys_column_name_case")}'&gt;
                &lt;template&gt;${_sys_column_name_case}&lt;/template&gt;
            &lt;/if&gt;
            &lt;else&gt;keep&lt;/else&gt;
        &lt;/case&gt;
    &lt;/var-def&gt;

    &lt;var-def name="dataOnly"&gt;
        &lt;case&gt;
            &lt;if condition='${sys.isVariableDefined("_sys_data_only")}'&gt;
                &lt;template&gt;${_sys_data_only}&lt;/template&gt;
            &lt;/if&gt;
            &lt;else&gt;true&lt;/else&gt;
        &lt;/case&gt;
    &lt;/var-def&gt;

    &lt;var-def name="datastoreName"&gt;
        &lt;script return="item.getWrappedObject().getRun().getDatastoreName()" /&gt;
    &lt;/var-def&gt;
    &lt;case&gt;
        &lt;if condition="${!datastoreName.isEmpty()}"&gt;
            &lt;insert-datastore   datastore-name="${datastoreName}" create="true"&gt;
                &lt;script return="hit_submission_data_item.getWrappedObject().getItemValueMap()"/&gt;
            &lt;/insert-datastore&gt;
        &lt;/if&gt;
    &lt;/case&gt;

    &lt;export include-original-data="true"
            export-type="${exportType}"
            export-columns="${exportColumns}"
            column-name-case="${columnNameCase}"
            data-only="${dataOnly}"&gt;
    &lt;/export&gt;
&lt;/config&gt;</content>
                                 <description>Default machine campaign for end step.</description>
                                 <includedConfigs/>
                                 <inclusionCode>9e5000e3-c243-42d3-b5ad-c6ac90dec35e</inclusionCode>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <name>Final Results</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>9e5000e3-c243-42d3-b5ad-c6ac90dec35e</uuid>
                                 <version>
                                    <componentUuid>9e5000e3-c243-42d3-b5ad-c6ac90dec35e</componentUuid>
                                    <incrementalVersion>1.0</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-05-10T10:44:47Z</lastModified>
                                    <versionUuid>30998aab-543f-11e8-b8a9-12e20640c4de</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>100</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Percents</streamValueType>
                              <title>Final Results</title>
                              <type>SINGLE</type>
                              <uuid>af4c8905-26dd-4120-b208-39ad3530ffc6</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>300a4c67-543f-11e8-b8a9-12e20640c4de</componentUuid>
                                 <incrementalVersion>1.0</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-05-10T10:44:47Z</lastModified>
                                 <versionUuid>3099b630-543f-11e8-b8a9-12e20640c4de</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>5</stepIndex>
                           <stepPosition>END</stepPosition>
                           <uuid>b81aa6ec-3e19-43a4-b248-f26e5a28d873</uuid>
                        </campaignMap>
                     </campaignMaps>
                     <campaigns/>
                     <compositeCampaignVersion>NEW_WORKFLOW</compositeCampaignVersion>
                     <compositeStructureXml>&lt;mxGraphModel&gt;&lt;root&gt;&lt;mxCell id="0"/&gt;&lt;mxCell id="1" parent="0"/&gt;&lt;Start id="2" name="Start" type="start"&gt;&lt;mxCell parent="1" style="start" vertex="1"&gt;&lt;mxGeometry as="geometry" height="32.0" width="32.0" x="110.0" y="130.0"/&gt;&lt;/mxCell&gt;&lt;/Start&gt;&lt;MachineTask campaignMapUUID="0cc415cf-feb5-4b45-b963-2a152c8e87ec" id="4" name="Automation Settings" taskUUID="9415e6e7-00eb-4204-bfec-995dfef19276" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="200.0" y="116.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;Link id="5" name="" type="link"&gt;&lt;mxCell edge="1" parent="1" source="2" style="link" target="4"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link id="8" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="5dfee9cf-d973-4b70-9d43-cbfb5f14f007" type="link"&gt;&lt;mxCell edge="1" parent="1" source="4" style="link" target="9"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"&gt;&lt;mxPoint as="targetPoint" x="280.0" y="250.0"/&gt;&lt;Array as="points"/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;MachineTask campaignMapUUID="6cf221fd-b38e-4572-8832-547d9dba4431" id="9" name="Extract Information" taskUUID="6ef54285-ad63-44be-d354-27f58322f901" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="480.0" y="116.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;End campaignMapUUID="b81aa6ec-3e19-43a4-b248-f26e5a28d873" id="11" name="End" type="end"&gt;&lt;mxCell parent="1" style="end" vertex="1"&gt;&lt;mxGeometry as="geometry" height="32.0" width="32.0" x="930.0" y="330.0"/&gt;&lt;/mxCell&gt;&lt;/End&gt;&lt;Rule id="13" name="Decision Rule" ruleUUID="9f01216a-5494-4b7c-9641-3828885b7c50" type="rule"&gt;&lt;mxCell parent="1" style="rule" vertex="1"&gt;&lt;mxGeometry as="geometry" height="32.0" width="32.0" x="740.0" y="84.0"/&gt;&lt;/mxCell&gt;&lt;/Rule&gt;&lt;MachineTask campaignMapUUID="68f1dd9b-ae4c-4c6a-9ec5-d076418efe5e" id="14" name="Success" taskUUID="76c1115f-b59d-4fc1-c886-162eace4deda" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="900.0" y="110.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;Link id="15" name="" type="link"&gt;&lt;mxCell edge="1" parent="1" source="9" style="link" target="13"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;MachineTask campaignMapUUID="3f0fadde-bedd-4c5b-bbb0-0af71fb349ca" id="16" name="Failure" taskUUID="3a7e4937-67e7-48c4-b64d-0c7253ed9e4b" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="660.0" y="240.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;Link conditional="true" id="18" label="success" name="" outcomeId="success" ruleUUID="9f01216a-5494-4b7c-9641-3828885b7c50" type="link"&gt;&lt;mxCell edge="1" parent="1" source="13" style="link" target="14"&gt;&lt;mxGeometry as="geometry"&gt;&lt;mxPoint as="targetPoint" x="870.0" y="146.0"/&gt;&lt;Array as="points"/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link id="19" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="6410d970-b0cc-4c9c-a169-ee8008419aa1" type="link"&gt;&lt;mxCell edge="1" parent="1" source="14" style="link" target="11"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link conditional="true" id="20" label="failure" name="" outcomeId="failure" ruleUUID="9f01216a-5494-4b7c-9641-3828885b7c50" type="link"&gt;&lt;mxCell edge="1" parent="1" source="13" style="link" target="16"&gt;&lt;mxGeometry as="geometry"&gt;&lt;mxPoint as="targetPoint" x="870.0" y="146.0"/&gt;&lt;Array as="points"/&gt;&lt;/mxGeometry&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link id="22" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="114c8355-6056-436b-8252-d371bd219b83" type="link"&gt;&lt;mxCell edge="1" parent="1" source="16" style="link" target="11"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;/root&gt;&lt;/mxGraphModel&gt;</compositeStructureXml>
                     <description>Business Process description</description>
                     <executingType>COMPOSITE</executingType>
                     <goldBucketBlockSize>0</goldBucketBlockSize>
                     <goldRatio>0</goldRatio>
                     <goldSource>Empty</goldSource>
                     <goldType>Percentage</goldType>
                     <moderation>false</moderation>
                     <origination>CREATED_AUTOMATICALLY</origination>
                     <requiresData>false</requiresData>
                     <status>ACTIVE</status>
                     <streamComplexRunThreshold>1</streamComplexRunThreshold>
                     <streamTimeInterval>Immediately</streamTimeInterval>
                     <streamTimeIntervalValue>0</streamTimeIntervalValue>
                     <streamValueType>Tasks</streamValueType>
                     <title>Automation Process for check ml health</title>
                     <type>COMPOSITE</type>
                     <uuid>1f39f4ab-3a2d-4608-aba8-208fa3ca6972</uuid>
                     <validWorkflow>true</validWorkflow>
                     <version>
                        <componentUuid>f80fdb64-2243-43ea-ab15-aa4901fabc04</componentUuid>
                        <incrementalVersion>1.1</incrementalVersion>
                        <lastInChain>true</lastInChain>
                        <lastModified>2018-06-05T14:30:34Z</lastModified>
                        <versionUuid>c3738d88-98f6-4805-8ad6-e1eaa08735d0</versionUuid>
                     </version>
                     <workSettingBase>true</workSettingBase>
                  </campaign>
               </automationUseCase>
            </automationUseCases>
            <automationInfo>
               <taskRecommendations>
                  <description/>
                  <experimentGroup>company_name_e7b28e80-dcd8-4037-b898-555479bd0383</experimentGroup>
                  <experimentId>de5f6d6ded9f5d5fa48add65a3f1efce</experimentId>
                  <modelAutoSwitch>false</modelAutoSwitch>
                  <modelType>presentation-company-classification-model</modelType>
                  <modelVersion>8.5.7</modelVersion>
                  <name>UC_check_ML_Health</name>
                  <originalCampaignUuid>b1690518-30f0-4b77-b196-5985154cf605</originalCampaignUuid>
                  <useCaseUuid>8197ef65-2078-4d6c-a51d-d285086a97dc</useCaseUuid>
               </taskRecommendations>
            </automationInfo>
         </project>
         <hashCode>1451388698</hashCode>
      </objectContainer>
  </objects>
</objectListWrapper>
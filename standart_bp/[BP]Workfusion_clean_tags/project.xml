<?xml version="1.0" encoding="UTF-8"?>
<objectListWrapper>
  <objects>
      <objectContainer>
         <project>
            <name>Clean_Tags 06-6-2018</name>
            <description/>
            <author>amironov</author>
            <runs>
               <run>
                  <blockSize>1</blockSize>
                  <campaign>
                     <active>true</active>
                     <businessRules/>
                     <campaignMaps>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>70e76346-0de3-482e-b8d5-5c4f1b0fa6aa</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>Selenium script</answer>
                                       <answerCode>selenium_code</answerCode>
                                       <answerHtml/>
                                       <answerTypeObject>
                                          <answerTypeGroup>UNCONSTRAINED_TEXT</answerTypeGroup>
                                          <code>LONG_TEXT</code>
                                          <description/>
                                          <optionsAvailable>true</optionsAvailable>
                                          <optionsDescription>Please provide number of rows for text area to display by default.</optionsDescription>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>true</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>true</showForMachineConfig>
                                          <title>Long Text</title>
                                          <valueType>SINGLEVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <constantable>false</constantable>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <lastModified>2018-05-15T08:40:32Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <options>20</options>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>true</required>
                                       <sequenceNumber>1</sequenceNumber>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                    <answer>
                                       <allowNA>false</allowNA>
                                       <answer>Pagination</answer>
                                       <answerCode>pagination</answerCode>
                                       <answerHtml/>
                                       <answerTypeObject>
                                          <answerTypeGroup>MULTIPLE_CHOICE</answerTypeGroup>
                                          <code>CHECK_ONE</code>
                                          <description/>
                                          <optionsAvailable>true</optionsAvailable>
                                          <optionsDescription>Provide options for the answer using key=value format. For example, Option Name1=value1 or Option Name2=value2.</optionsDescription>
                                          <showDefaultValue>true</showDefaultValue>
                                          <showForFieldScheme>true</showForFieldScheme>
                                          <showForHumanTask>true</showForHumanTask>
                                          <showForMachineConfig>true</showForMachineConfig>
                                          <title>Check One</title>
                                          <valueType>SINGLEVALUE</valueType>
                                       </answerTypeObject>
                                       <appendDataStoreOptions>false</appendDataStoreOptions>
                                       <autocompleteField>false</autocompleteField>
                                       <constantable>false</constantable>
                                       <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                       <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                       <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                       <lastModified>2018-05-15T08:40:32Z</lastModified>
                                       <letCustomValues>false</letCustomValues>
                                       <manualField>false</manualField>
                                       <multiValue>false</multiValue>
                                       <options>true=true|no=no</options>
                                       <percentRequired>false</percentRequired>
                                       <range>false</range>
                                       <required>true</required>
                                       <sequenceNumber>2</sequenceNumber>
                                       <shuffle>false</shuffle>
                                       <useBlocks>false</useBlocks>
                                       <useEmptyCell>false</useEmptyCell>
                                    </answer>
                                 </answers>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config&gt;
 
    &lt;var-def name="tag_to_clean"&gt;
        
    &lt;/var-def&gt;
   
    &lt;var-def name="attribute_to_clean"&gt;
        class=&amp;quot;extraction-tag&amp;quot;
    &lt;/var-def&gt;
  
   &lt;export include-original-data="true"&gt;
       &lt;single-column name="tag_to_clean" value=""/&gt;
       &lt;single-column name="attribute_to_clean" value="class=&amp;quot;extraction-tag&amp;quot;"/&gt;
   &lt;/export&gt;
 
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>d04aba0f-30d4-4022-9e56-94cf98ca16c9</inclusionCode>
                                 <jsonParams>{"attribute_to_clean":"class\u003d\u0026quot;extraction-tag\u0026quot;","backet_of_original_file":"vds-resources","backet_to_put":"vds-resources"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>NORMAL</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Selenium_pagination</name>
                                    <publicId>2d9db90c-543f-11e8-b8a9-12e20640c4de</publicId>
                                    <version>
                                       <componentUuid>2d9db90c-543f-11e8-b8a9-12e20640c4de</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:55Z</lastModified>
                                       <versionUuid>2d9db90c-543f-11e8-b8a9-12e20640c4de</versionUuid>
                                    </version>
                                    <answers>
                                       <answer>
                                          <allowNA>false</allowNA>
                                          <answer>Selenium script</answer>
                                          <answerCode>selenium_code</answerCode>
                                          <answerHtml/>
                                          <answerTypeObject>
                                             <answerTypeGroup>UNCONSTRAINED_TEXT</answerTypeGroup>
                                             <code>LONG_TEXT</code>
                                             <description/>
                                             <optionsAvailable>true</optionsAvailable>
                                             <optionsDescription>Please provide number of rows for text area to display by default.</optionsDescription>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>true</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>true</showForMachineConfig>
                                             <title>Long Text</title>
                                             <valueType>SINGLEVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <constantable>false</constantable>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <lastModified>2010-01-01T00:00:00Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <options>20</options>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>true</required>
                                          <sequenceNumber>1</sequenceNumber>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </answer>
                                       <answer>
                                          <allowNA>false</allowNA>
                                          <answer>Pagination</answer>
                                          <answerCode>pagination</answerCode>
                                          <answerHtml/>
                                          <answerTypeObject>
                                             <answerTypeGroup>MULTIPLE_CHOICE</answerTypeGroup>
                                             <code>CHECK_ONE</code>
                                             <description/>
                                             <optionsAvailable>true</optionsAvailable>
                                             <optionsDescription>Provide options for the answer using key=value format. For example, Option Name1=value1 or Option Name2=value2.</optionsDescription>
                                             <showDefaultValue>true</showDefaultValue>
                                             <showForFieldScheme>true</showForFieldScheme>
                                             <showForHumanTask>true</showForHumanTask>
                                             <showForMachineConfig>true</showForMachineConfig>
                                             <title>Check One</title>
                                             <valueType>SINGLEVALUE</valueType>
                                          </answerTypeObject>
                                          <appendDataStoreOptions>false</appendDataStoreOptions>
                                          <autocompleteField>false</autocompleteField>
                                          <constantable>false</constantable>
                                          <doNotNormalizeTaggedText>false</doNotNormalizeTaggedText>
                                          <doNotUseInAdjudication>false</doNotUseInAdjudication>
                                          <findMajorityForAllAtomicValues>false</findMajorityForAllAtomicValues>
                                          <lastModified>2010-01-01T00:00:00Z</lastModified>
                                          <letCustomValues>false</letCustomValues>
                                          <manualField>false</manualField>
                                          <multiValue>false</multiValue>
                                          <options>true=true|no=no</options>
                                          <percentRequired>false</percentRequired>
                                          <range>false</range>
                                          <required>true</required>
                                          <sequenceNumber>2</sequenceNumber>
                                          <shuffle>false</shuffle>
                                          <useBlocks>false</useBlocks>
                                          <useEmptyCell>false</useEmptyCell>
                                       </answer>
                                    </answers>
                                    <machineWorkSettingType>ETL</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config&gt;

  &lt;var-def name="usePagination"&gt;&lt;template&gt;{{pagination}}&lt;/template&gt;&lt;/var-def&gt;
  &lt;var-def name="selenium_error"/&gt;
  &lt;var-def name="s3LinkList"/&gt;
  &lt;var-def name="zipFile"/&gt;
  &lt;var-def name="templScript"&gt;
    &lt;template&gt;&lt;![CDATA[
        {{selenium_code}}
      ]]&gt;&lt;/template&gt;
  &lt;/var-def&gt;

  &lt;var-def name="resScript"&gt;
    &lt;script return="resScript"&gt;
      &lt;![CDATA[resScript = templScript.toString().replaceAll("\\\\\"","'").replaceAll("\\\\t","");]]&gt;
    &lt;/script&gt;
  &lt;/var-def&gt;
  &lt;var-def name="script" &gt;
    &lt;script return="newScript"&gt;
        &lt;![CDATA[
          String newScript = resScript.toString();
          if("TRUE".equals(usePagination.toString().toUpperCase())) {
            int beginIndex = newScript.lastIndexOf("&lt;tr&gt;");
            int endIndex = newScript.lastIndexOf("&lt;/tr&gt;") + 5;
            String subString =newScript.substring(beginIndex,endIndex);
            newScript = newScript.replaceAll(subString,"");
            int beginIndexSubString = subString.indexOf("&lt;td&gt;",subString.indexOf("&lt;td&gt;") + 1) + 4;
            int endIndexSubString = subString.indexOf("&lt;/td&gt;", beginIndexSubString);
            String nextLink = subString.substring(beginIndexSubString, endIndexSubString);
            sys.defineVariable("nextPage", nextLink,true);
          }
        ]]&gt;
    &lt;/script&gt;
  &lt;/var-def&gt;

  &lt;try&gt;
    &lt;body&gt;
      &lt;var-def name="zipFile"&gt;
        &lt;selenium browser ='firefox'&gt;
          &lt;selenese&gt;
            &lt;template&gt;
              &lt;![CDATA[${script}]]&gt;
            &lt;/template&gt;
          &lt;/selenese&gt;
          &lt;script return="fileByte"&gt;
          &lt;![CDATA[
            import com.freedomoss.crowdcontrol.webharvest.selenium.IDriverWrapper;
            fileByte = new byte[0];
            if ("TRUE".equals(usePagination.toString().toUpperCase())) {
              fileByte = seleniumDriver.getWrappedObject().getCompletePagesWithPaginationAsZip(nextPage.toString(),5);
            }
            else{
              fileByte = seleniumDriver.getWrappedObject().getCompletePageAsZip();
            }
          ]]&gt;
          &lt;/script&gt;
        &lt;/selenium&gt;
      &lt;/var-def&gt;
    &lt;/body&gt;
    &lt;catch&gt;
        &lt;var-def name="selenium_error"&gt;Some Error ocured in selenium script&lt;/var-def&gt;
    &lt;/catch&gt;
  &lt;/try&gt;

  &lt;try&gt;
    &lt;body&gt;
      &lt;var-def name="s3LinkList"&gt;
            &lt;s3 access-key="AKIAI5PKLXF5SOM4JILA" secret-key="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" bucket="pub_demo"&gt;
                &lt;s3-put-public path="selenium/refactor"&gt;
                    &lt;unzip&gt;
                        &lt;var name="zipFile"/&gt;
                    &lt;/unzip&gt;
                &lt;/s3-put-public&gt;
             &lt;/s3&gt;
       &lt;/var-def&gt;
    &lt;/body&gt;
    &lt;catch&gt;
    &lt;/catch&gt;
  &lt;/try&gt;

  &lt;var-def name="s3Link"&gt;
    &lt;script return="resultLink"&gt;
      &lt;![CDATA[
        resultLink = "";
        index = s3LinkList.toList().size();
        String patternToFindMainPage = "(.*)(\\/||\\\\)index_\\d+.html";
        for(int i = 0; i &lt; index; i++) {
            String link = s3LinkList.get(i).toString();
            Boolean isMainPageLink = link.matches(patternToFindMainPage);
            if(isMainPageLink) {
                resultLink = resultLink  + ("".equals(resultLink) ? "" : "|") + link;
            }
        }
      ]]&gt;
    &lt;/script&gt;
  &lt;/var-def&gt;

  &lt;export include-original-data="true"&gt;
    &lt;single-column name="result" value="${s3Link}" /&gt;
    &lt;single-column name="selenium_error" value="${selenium_error}" /&gt;
    &lt;single-column name="selenium_error_stacktrace" value="${selenium_error_stacktrace}" /&gt;
  &lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Selenium_pagination</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>2d9db8f8-543f-11e8-b8a9-12e20640c4de</uuid>
                                       <version>
                                          <componentUuid>300b12df-543f-11e8-b8a9-12e20640c4de</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2018-05-10T10:44:55Z</lastModified>
                                          <versionUuid>309a3de7-543f-11e8-b8a9-12e20640c4de</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>ETL</machineWorkSettingType>
                                 <name>etl_bot_properties</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config&gt;
 
    &lt;var-def name="tag_to_clean"&gt;
        {{tag_to_clean}}
    &lt;/var-def&gt;
   
    &lt;var-def name="attribute_to_clean"&gt;
        {{attribute_to_clean}}
    &lt;/var-def&gt;
  
   &lt;export include-original-data="true"&gt;
       &lt;single-column name="tag_to_clean" value="{{tag_to_clean}}"/&gt;
       &lt;single-column name="attribute_to_clean" value="{{attribute_to_clean}}"/&gt;
   &lt;/export&gt;
 
&lt;/config&gt;</content>
                                    <name>Selenium_pagination</name>
                                    <origination>CREATED_AUTOMATICALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>MACHINE</type>
                                    <uuid>02b84998-7847-476f-aeb5-b65b5c3e2396</uuid>
                                    <version>
                                       <componentUuid>95290c30-0c94-4479-8a91-4b670cab6c75</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-28T10:03:02Z</lastModified>
                                       <versionUuid>6eee9032-01c1-46f4-b0d3-7753924e676c</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>d04aba0f-30d4-4022-9e56-94cf98ca16c9</uuid>
                                 <version>
                                    <componentUuid>d47a7f9e-6c91-42f7-96c6-ff9ea095b29d</componentUuid>
                                    <incrementalVersion>1.14</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-05-28T10:07:18Z</lastModified>
                                    <versionUuid>b0f973ce-3855-4bcb-8688-b93e823280f9</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>etl_bot_properties</title>
                              <type>SINGLE</type>
                              <uuid>2c0a0740-f549-437c-f27b-f52896e73186</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>c6cbf6f4-939a-43ed-a90e-bd32ee1d17b7</componentUuid>
                                 <incrementalVersion>1.14</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-05-28T10:07:18Z</lastModified>
                                 <versionUuid>338cf87b-4331-46ee-bf06-fd536cfc3c52</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>1</stepIndex>
                           <stepPosition>START</stepPosition>
                           <uuid>c1ba61e6-3ce8-4431-96c9-d9a2e138e7f2</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>f59228f4-37f1-456d-a6fa-37a326850f2e</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config xmlns="http://web-harvest.sourceforge.net/schema/1.0/config" scriptlang="groovy"&gt;
  
 	&lt;var-def name="link_to_file"&gt;
		http://testing.test123.com:15110/minio/doc-upload/s3/buckets/imerit-client/wf_rbb/input/1.html
	&lt;/var-def&gt; 
    		 
  	&lt;script&gt;&lt;![CDATA[
        int domain = -1;
		String url = link_to_file.toString()
        if(url.indexOf(".net") != -1) domain = url.indexOf(".net");
        if(url.indexOf(".com") != -1) domain = url.indexOf(".com");
        if(url.indexOf(".org") != -1) domain = url.indexOf(".com");
        if (domain == -1) throw new IllegalStateException("upper domain was not found (it works now only with .net, .com, .org)");
        int indexAfterDomainUrl = url.indexOf("/", domain)
        String urlWithBucket = url.substring(indexAfterDomainUrl+1, url.length());
        int sepIndex =urlWithBucket.indexOf("/");
        String bucket = urlWithBucket.substring(0, sepIndex);
        String relativePathWithoutBucket = urlWithBucket.substring(sepIndex+1, urlWithBucket.length());
		sys.defineVariable('relative_path', relativePathWithoutBucket)
		sys.defineVariable('bucket', bucket)
	]]&gt;&lt;/script&gt;
  
  	&lt;var-def name="path_to_original_xml"&gt;
  		&lt;template&gt;
			${relative_path}
		&lt;/template&gt;
	&lt;/var-def&gt;
  
    &lt;var-def name="extracted_bucket"&gt;
  		&lt;template&gt;
			${bucket}
		&lt;/template&gt;
	&lt;/var-def&gt;
    	
  	&lt;script&gt;&lt;![CDATA[
		String url = link_to_file.toString()
        String name_with_ext = url.substring(url.lastIndexOf('/') + 1);
        String name_url = name_with_ext.substring(0, name_with_ext.lastIndexOf('.'));
		sys.defineVariable('name_url', name_url)
	]]&gt;&lt;/script&gt;
	  
    &lt;var-def name="path_to_put"&gt;
    	&lt;template&gt;
			replaced/${name_url}_replaced.html
		&lt;/template&gt;
	&lt;/var-def&gt;
   
  	&lt;s3 bucket="${extracted_bucket}"&gt;
    	&lt;var-def name="xml"&gt;
        	&lt;s3-get name="${path_to_original_xml}"/&gt;
    	&lt;/var-def&gt;
	&lt;/s3&gt;
 
	&lt;export include-original-data="true"&gt;
		&lt;single-column name="xml" value= "${xml}"/&gt;
      	&lt;single-column name="path_to_original_xml" value= "${path_to_original_xml}"/&gt;
        &lt;single-column name="path_to_put" value= "${path_to_put}"/&gt;
      	&lt;single-column name="bucket_to_put" value= "${extracted_bucket}"/&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>dd91120d-e708-4ce5-bafc-5b4a8f970750</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>download_data</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>dd91120d-e708-4ce5-bafc-5b4a8f970750</uuid>
                                 <version>
                                    <componentUuid>8e0caa59-2d86-4be1-b01c-15f93757d28c</componentUuid>
                                    <incrementalVersion>1.33</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-06-06T12:03:26Z</lastModified>
                                    <versionUuid>21a3a6c3-f2f1-410c-8a74-b7ba16d11c06</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>download_data</title>
                              <type>SINGLE</type>
                              <uuid>4d50aa23-6674-4652-a4b3-e545eeec9ddf</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>979499de-5037-4f5f-9256-aec4d97a3ded</componentUuid>
                                 <incrementalVersion>1.25</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-06-06T12:03:26Z</lastModified>
                                 <versionUuid>f7b8e77a-1438-487d-95f6-ce2f28a3013c</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>2</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>e6059e35-9de0-4457-9016-a9f89976202e</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>f4717b1c-f38b-4d62-adc0-91502bed8aba</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8" xmlns="http://web-harvest.sourceforge.net/schema/1.0/config" scriptlang="groovy"&gt;
  	
  	&lt;required name="xml"/&gt;
  	&lt;required name="tag_to_clean"/&gt;
  	&lt;required name="attribute_to_clean"/&gt;
  
    	&lt;script&gt;&lt;![CDATA[
		import java.util.regex.Matcher
		import java.util.regex.Pattern

		String xmlS = ""
		String tagS = ""
		String attributeS = ""
        if(xml) xmlS = xml.getWrappedObject()
        if(tag_to_clean) tagS = tag_to_clean.getWrappedObject()
		if(attribute_to_clean) attributeS = attribute_to_clean.getWrappedObject()
        
        if (xmlS == null || xmlS.isEmpty()) throw new IllegalStateException("xml variable cant be null or empty");
        String regex;
        if (tagS == null || tagS.isEmpty()) {
            if (attributeS == null || attributeS.isEmpty()) {
                throw new IllegalStateException("attribute or tag should be");
            } else {
                regex = "(&lt;.*" + attributeS + ".*&gt;)(.*?)(&lt;/.*&gt;)";
            }
        } else {
            if (attributeS == null || attributeS.isEmpty()) {
                regex = "(&lt;" + tagS + ".*&gt;)(.*?)(&lt;/" + tagS + "&gt;)";
            } else {
                regex = "(" + "&lt;" + tagS + ".*" + attributeS + ".*&gt;)(.*?)(&lt;/"+tagS+"&gt;)";
            }
        }
        String replaced = xmlS.replaceAll(regex, "\$2");
        sys.defineVariable("replaced", replaced) 
	]]&gt;&lt;/script&gt;
  

  
	&lt;export include-original-data="true"&gt;
      	&lt;single-column name="replaced" value= "${replaced}"/&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>57279170-f9ff-4cf6-9459-5b9e1d1b3d8c</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>handle_data</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>57279170-f9ff-4cf6-9459-5b9e1d1b3d8c</uuid>
                                 <version>
                                    <componentUuid>aa36b7d5-b7c6-4a13-9bb6-5d4af182e102</componentUuid>
                                    <incrementalVersion>1.27</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-05-15T09:27:43Z</lastModified>
                                    <versionUuid>cd9bf219-5f37-4a8b-85b4-f3abb2bd4c0a</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>handle_data</title>
                              <type>SINGLE</type>
                              <uuid>ddb625a7-dd05-4d39-a318-afc9f68b58ed</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>324165d4-fb98-44a7-bd84-caa09dee0a4b</componentUuid>
                                 <incrementalVersion>1.25</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-05-15T09:27:43Z</lastModified>
                                 <versionUuid>68928f06-2f48-4128-ae53-7594db48342e</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>3</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>96827a25-5489-49d9-b8bb-1c2ddce82df9</uuid>
                        </campaignMap>
                        <campaignMap>
                           <blockSize>1</blockSize>
                           <businessRule>
                              <content>#RuleContext.APPROVE_ALL_RULE</content>
                              <name>Approve All</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <ruleTypeUI>Composite</ruleTypeUI>
                              <uuid>a95f1843-174f-426d-895e-e8de0058165c</uuid>
                              <workflowRuleMode>SIMPLE</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
  
	&lt;var-def name="replaced_link"&gt;
		&lt;s3 bucket="${backet_to_put}"&gt;
			&lt;s3-put path="${path_to_put}" content-type="text/html"
				content-disposition="inline"&gt;
					&lt;var name="replaced"/&gt;
 			&lt;/s3-put&gt;
		&lt;/s3&gt;
      &lt;/var-def&gt;
  
	&lt;export include-original-data="false"&gt;
        &lt;single-column name="link_to_file" value= "${link_to_file}"/&gt;      
        &lt;single-column name="tag_to_clean" value= "${tag_to_clean}"/&gt;
        &lt;single-column name="attribute_to_clean" value= "${attribute_to_clean}"/&gt;
        &lt;single-column name="replaced_link" value= "${replaced_link}"/&gt;                
	&lt;/export&gt;
&lt;/config&gt;</content>
                                 <description/>
                                 <includedConfigs/>
                                 <inclusionCode>d0a6b13f-0ae0-4238-8be3-c8ab909a1568</inclusionCode>
                                 <jsonParams>{"configXMLModified":"true"}</jsonParams>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <machineWorkSettingType>BASIC</machineWorkSettingType>
                                 <name>upload_data</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>d0a6b13f-0ae0-4238-8be3-c8ab909a1568</uuid>
                                 <version>
                                    <componentUuid>0c5b59b1-98a2-46bc-be47-481c0afd04b9</componentUuid>
                                    <incrementalVersion>1.6</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-05-15T08:54:43Z</lastModified>
                                    <versionUuid>2c1a4d13-cccb-4c13-89b1-5ecee4efb4c2</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>1</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Tasks</streamValueType>
                              <title>upload_data</title>
                              <type>SINGLE</type>
                              <uuid>51aa20f6-b2b5-460d-c4a3-8fc6871db78a</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>a19d909f-535f-450c-b7ef-cbc3a890bc7d</componentUuid>
                                 <incrementalVersion>1.6</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-05-15T08:54:43Z</lastModified>
                                 <versionUuid>0b33469f-0cfb-4c13-8401-45281f9f355a</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>4</stepIndex>
                           <stepPosition>INTERMEDIATE</stepPosition>
                           <uuid>b8f6682d-0555-4215-973b-e0df33287772</uuid>
                        </campaignMap>
                        <campaignMap>
                           <businessRule>
                              <content>package com.freedomoss.requester;

#list any import classes here.
import com.freedomoss.objective.model.CompositeRuleContext;
import com.freedomoss.objective.model.CompositeRuleDataItemContext;
import com.freedomoss.requester.model.AwsHitQuestionItem;
import com.freedomoss.requester.model.AwsHitQuestionAnswerItem;
import org.slf4j.Logger;
import java.util.Map;
import java.util.Iterator;
import java.util.List;
import java.util.Set;
import java.util.ArrayList;
import com.freedomoss.requester.dto.SubmissionResultDTO;

#declare any global variables here
global CompositeRuleContext source
global Logger log
global Map params



rule "Rule context initialization"
auto-focus true
no-loop
dialect "mvel"
agenda-group "initialization-group"
	when
		$ctx:CompositeRuleContext(initialized == false);
	then
		$ctx.updateWorkingMemory();
		# move to business rules
		$ctx.logExecutedRule(kcontext.getRule().getName());
		kcontext.getKnowledgeRuntime().getAgenda().getAgendaGroup("calculation").setFocus();
end</content>
                              <name>Business Process: End Rule</name>
                              <ruleType>WORKFLOW_RULE</ruleType>
                              <uuid>c9388f33-7f7f-4910-bc85-08adebf1b17b</uuid>
                              <workflowRuleMode>ADVANCED</workflowRuleMode>
                           </businessRule>
                           <campaign>
                              <active>false</active>
                              <businessRules/>
                              <campaignMaps/>
                              <campaigns/>
                              <executingType>MACHINE</executingType>
                              <goldBucketBlockSize>0</goldBucketBlockSize>
                              <goldRatio>0</goldRatio>
                              <goldSource>Empty</goldSource>
                              <goldType>Percentage</goldType>
                              <machineConfig>
                                 <answers/>
                                 <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;

    &lt;var-def name="exportType"&gt;
        &lt;case&gt;
            &lt;if condition='${sys.isVariableDefined("_sys_export_type")}'&gt;
                &lt;template&gt;${_sys_export_type}&lt;/template&gt;
            &lt;/if&gt;
        &lt;/case&gt;
    &lt;/var-def&gt;

    &lt;var-def name="exportColumns"&gt;
        &lt;case&gt;
            &lt;if condition='${sys.isVariableDefined("_sys_export_columns")}'&gt;
                &lt;template&gt;${_sys_export_columns}&lt;/template&gt;
            &lt;/if&gt;
            &lt;else&gt;&lt;/else&gt;
        &lt;/case&gt;
    &lt;/var-def&gt;

    &lt;var-def name="columnNameCase"&gt;
        &lt;case&gt;
            &lt;if condition='${sys.isVariableDefined("_sys_column_name_case")}'&gt;
                &lt;template&gt;${_sys_column_name_case}&lt;/template&gt;
            &lt;/if&gt;
            &lt;else&gt;keep&lt;/else&gt;
        &lt;/case&gt;
    &lt;/var-def&gt;

    &lt;var-def name="dataOnly"&gt;
        &lt;case&gt;
            &lt;if condition='${sys.isVariableDefined("_sys_data_only")}'&gt;
                &lt;template&gt;${_sys_data_only}&lt;/template&gt;
            &lt;/if&gt;
            &lt;else&gt;true&lt;/else&gt;
        &lt;/case&gt;
    &lt;/var-def&gt;

    &lt;var-def name="datastoreName"&gt;
        &lt;script return="item.getWrappedObject().getRun().getDatastoreName()" /&gt;
    &lt;/var-def&gt;
    &lt;case&gt;
        &lt;if condition="${!datastoreName.isEmpty()}"&gt;
            &lt;insert-datastore   datastore-name="${datastoreName}" create="true"&gt;
                &lt;script return="hit_submission_data_item.getWrappedObject().getItemValueMap()"/&gt;
            &lt;/insert-datastore&gt;
        &lt;/if&gt;
    &lt;/case&gt;

    &lt;export include-original-data="true"
            export-type="${exportType}"
            export-columns="${exportColumns}"
            column-name-case="${columnNameCase}"
            data-only="${dataOnly}"&gt;
    &lt;/export&gt;
&lt;/config&gt;</content>
                                 <description>Default machine campaign for end step.</description>
                                 <includedConfigs/>
                                 <inclusionCode>9e5000e3-c243-42d3-b5ad-c6ac90dec35e</inclusionCode>
                                 <machineWorkSetting>
                                    <category>
                                       <automation>false</automation>
                                       <description/>
                                       <enabled>true</enabled>
                                       <executingType>MACHINE</executingType>
                                       <name>Other</name>
                                       <private>false</private>
                                       <publicId>dd92f240-144b-4fef-8476-4ec0acbc1105</publicId>
                                    </category>
                                    <contentType>BLANK</contentType>
                                    <description/>
                                    <enabled>true</enabled>
                                    <name>Miscellaneous Tasks</name>
                                    <publicId>26e6e095-00bb-43fa-8c34-af0b18e71ac9</publicId>
                                    <version>
                                       <componentUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2018-05-10T10:44:38Z</lastModified>
                                       <versionUuid>26e6e095-00bb-43fa-8c34-af0b18e71ac9</versionUuid>
                                    </version>
                                    <answers/>
                                    <machineWorkSettingType>BASIC</machineWorkSettingType>
                                    <template>
                                       <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                       <name>Blank</name>
                                       <origination>CREATED_MANUALLY</origination>
                                       <status>ACTIVE</status>
                                       <type>BASE_MACHINE</type>
                                       <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                       <version>
                                          <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                          <incrementalVersion>1.0</incrementalVersion>
                                          <lastInChain>true</lastInChain>
                                          <lastModified>2012-12-27T00:00:00Z</lastModified>
                                          <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                       </version>
                                    </template>
                                 </machineWorkSetting>
                                 <name>Final Results</name>
                                 <machineConfigOptions/>
                                 <sourceType>MANUAL</sourceType>
                                 <template>
                                    <content>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;config charset="UTF-8"&gt;
	&lt;export include-original-data="true"&gt;
	&lt;/export&gt;
&lt;/config&gt;</content>
                                    <name>Blank</name>
                                    <origination>CREATED_MANUALLY</origination>
                                    <status>ACTIVE</status>
                                    <type>BASE_MACHINE</type>
                                    <uuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</uuid>
                                    <version>
                                       <componentUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</componentUuid>
                                       <incrementalVersion>1.0</incrementalVersion>
                                       <lastInChain>true</lastInChain>
                                       <lastModified>2012-12-27T00:00:00Z</lastModified>
                                       <versionUuid>8f04bd99-7f51-4796-a528-d1a7c9ccfbc4</versionUuid>
                                    </version>
                                 </template>
                                 <uuid>9e5000e3-c243-42d3-b5ad-c6ac90dec35e</uuid>
                                 <version>
                                    <componentUuid>9e5000e3-c243-42d3-b5ad-c6ac90dec35e</componentUuid>
                                    <incrementalVersion>1.0</incrementalVersion>
                                    <lastInChain>true</lastInChain>
                                    <lastModified>2018-05-10T10:44:47Z</lastModified>
                                    <versionUuid>30998aab-543f-11e8-b8a9-12e20640c4de</versionUuid>
                                 </version>
                                 <code/>
                              </machineConfig>
                              <moderation>false</moderation>
                              <origination>CREATED_AUTOMATICALLY</origination>
                              <requiresData>true</requiresData>
                              <status>ACTIVE</status>
                              <streamComplexRunThreshold>100</streamComplexRunThreshold>
                              <streamTimeInterval>Immediately</streamTimeInterval>
                              <streamTimeIntervalValue>0</streamTimeIntervalValue>
                              <streamValueType>Percents</streamValueType>
                              <title>Final Results</title>
                              <type>SINGLE</type>
                              <uuid>af4c8905-26dd-4120-b208-39ad3530ffc6</uuid>
                              <validWorkflow>false</validWorkflow>
                              <version>
                                 <componentUuid>300a4c67-543f-11e8-b8a9-12e20640c4de</componentUuid>
                                 <incrementalVersion>1.0</incrementalVersion>
                                 <lastInChain>true</lastInChain>
                                 <lastModified>2018-05-10T10:44:47Z</lastModified>
                                 <versionUuid>3099b630-543f-11e8-b8a9-12e20640c4de</versionUuid>
                              </version>
                              <workSettingBase>false</workSettingBase>
                           </campaign>
                           <deleted>false</deleted>
                           <stepIndex>5</stepIndex>
                           <stepPosition>END</stepPosition>
                           <uuid>19b966a0-066e-4e1d-b224-be780d7619f1</uuid>
                        </campaignMap>
                     </campaignMaps>
                     <campaigns/>
                     <compositeCampaignVersion>NEW_WORKFLOW</compositeCampaignVersion>
                     <compositeStructureXml>&lt;mxGraphModel&gt;&lt;root&gt;&lt;mxCell id="0"/&gt;&lt;mxCell id="1" parent="0"/&gt;&lt;Start id="2" name="Start" type="start"&gt;&lt;mxCell parent="1" style="start" vertex="1"&gt;&lt;mxGeometry as="geometry" height="32.0" width="40.0" x="40.0" y="160.0"/&gt;&lt;/mxCell&gt;&lt;/Start&gt;&lt;End campaignMapUUID="19b966a0-066e-4e1d-b224-be780d7619f1" id="3" name="End" type="end"&gt;&lt;mxCell parent="1" style="end" vertex="1"&gt;&lt;mxGeometry as="geometry" height="32.0" width="32.0" x="1040.0" y="160.0"/&gt;&lt;/mxCell&gt;&lt;/End&gt;&lt;MachineTask campaignMapUUID="e6059e35-9de0-4457-9016-a9f89976202e" id="4" name="download_data" taskUUID="4d50aa23-6674-4652-a4b3-e545eeec9ddf" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="380.0" y="60.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;MachineTask campaignMapUUID="96827a25-5489-49d9-b8bb-1c2ddce82df9" id="17" name="handle_data" taskUUID="ddb625a7-dd05-4d39-a318-afc9f68b58ed" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="150.0" x="570.0" y="166.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;Link id="18" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="f59228f4-37f1-456d-a6fa-37a326850f2e" type="link"&gt;&lt;mxCell edge="1" parent="1" source="4" style="link" target="17"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;MachineTask campaignMapUUID="b8f6682d-0555-4215-973b-e0df33287772" id="21" name="upload_data" taskUUID="51aa20f6-b2b5-460d-c4a3-8fc6871db78a" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="160.0" x="680.0" y="300.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;Link id="22" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="f4717b1c-f38b-4d62-adc0-91502bed8aba" type="link"&gt;&lt;mxCell edge="1" parent="1" source="17" style="link" target="21"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link id="23" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="a95f1843-174f-426d-895e-e8de0058165c" type="link"&gt;&lt;mxCell edge="1" parent="1" source="21" style="link" target="3"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;MachineTask campaignMapUUID="c1ba61e6-3ce8-4431-96c9-d9a2e138e7f2" id="24" name="etl_bot_properties" taskUUID="2c0a0740-f549-437c-f27b-f52896e73186" type="machine_task"&gt;&lt;mxCell parent="1" style="machine_task" vertex="1"&gt;&lt;mxGeometry as="geometry" height="60.0" width="240.0" x="130.0" y="230.0"/&gt;&lt;/mxCell&gt;&lt;/MachineTask&gt;&lt;Link id="25" name="" type="link"&gt;&lt;mxCell edge="1" parent="1" source="2" style="link" target="24"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;Link id="26" name="" outcome="ApproveAll" outcomeId="ApproveAll" ruleUUID="70e76346-0de3-482e-b8d5-5c4f1b0fa6aa" type="link"&gt;&lt;mxCell edge="1" parent="1" source="24" style="link" target="4"&gt;&lt;mxGeometry as="geometry" relative="1" x="0.5" y="10.0"/&gt;&lt;/mxCell&gt;&lt;/Link&gt;&lt;/root&gt;&lt;/mxGraphModel&gt;</compositeStructureXml>
                     <description>Business Process description</description>
                     <executingType>COMPOSITE</executingType>
                     <goldBucketBlockSize>0</goldBucketBlockSize>
                     <goldRatio>0</goldRatio>
                     <goldSource>Empty</goldSource>
                     <goldType>Percentage</goldType>
                     <moderation>false</moderation>
                     <origination>CREATED_AUTOMATICALLY</origination>
                     <requiresData>true</requiresData>
                     <status>ACTIVE</status>
                     <streamComplexRunThreshold>1</streamComplexRunThreshold>
                     <streamTimeInterval>Immediately</streamTimeInterval>
                     <streamTimeIntervalValue>0</streamTimeIntervalValue>
                     <streamValueType>Tasks</streamValueType>
                     <title>Clean_Tags</title>
                     <type>COMPOSITE</type>
                     <uuid>4f21776a-cf90-4957-a2f6-b0b3a9573952</uuid>
                     <validWorkflow>true</validWorkflow>
                     <version>
                        <componentUuid>4a3fdc00-c952-401f-b40c-a85f842fd02e</componentUuid>
                        <incrementalVersion>1.11</incrementalVersion>
                        <lastInChain>true</lastInChain>
                        <lastModified>2018-06-06T12:03:26Z</lastModified>
                        <versionUuid>c792e94b-b87f-4232-b8b6-70870997bee4</versionUuid>
                     </version>
                     <workSettingBase>false</workSettingBase>
                  </campaign>
                  <description>
                     <dynamicTaskRenderingDisabled>false</dynamicTaskRenderingDisabled>
                     <goldRun>false</goldRun>
                     <qualificationTraining>false</qualificationTraining>
                     <stepDescription>{}</stepDescription>
                     <streamingValue>1</streamingValue>
                     <streamingValueType>Tasks</streamingValueType>
                     <taskParams>{"values":{"DESCRIPTION":"","NAME":"etl_bot_properties"}}</taskParams>
                     <uploadResultsType>CREATE</uploadResultsType>
                  </description>
                  <executingType>COMPOSITE</executingType>
                  <forceComplete>false</forceComplete>
                  <forceCompleteIdleTime>0</forceCompleteIdleTime>
                  <forceCompletePercent>100</forceCompletePercent>
                  <mixStrategy>
                     <additionalRows>0</additionalRows>
                     <blockSize>1</blockSize>
                     <goldItemSize>0</goldItemSize>
                     <goldPercentage>0</goldPercentage>
                     <goldRatio>true</goldRatio>
                     <mainRows>1</mainRows>
                     <repeated>false</repeated>
                  </mixStrategy>
                  <purged>false</purged>
                  <recordProcessingStatus>NOT_STARTED</recordProcessingStatus>
                  <runType>SIMPLE</runType>
                  <tags/>
                  <title>Clean_Tags</title>
                  <uuid>f7e09257-991b-474b-a10a-4ea421e53577</uuid>
               </run>
            </runs>
            <automationUseCases/>
            <automationInfo/>
         </project>
         <hashCode>552842953</hashCode>
      </objectContainer>
  </objects>
</objectListWrapper>